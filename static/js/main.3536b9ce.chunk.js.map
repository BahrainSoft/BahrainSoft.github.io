{"version":3,"sources":["i18n.js","config/Branding.ts","config/UseStyles.ts","config/MyTheme.ts","config/Breakpoints.ts","helpers/StoreTypedHooks.ts","images/logo.svg","components/common/Logo.tsx","components/common/TopMenuItem.tsx","components/common/BurgerItem.tsx","components/layouts/TopMenu.tsx","components/layouts/SiteHead.tsx","config/FilterOptions.ts","components/common/NiceBox.tsx","components/side-filter/FilterGroup.tsx","components/side-filter/FilterSlider.tsx","components/side-filter/FGAge.tsx","components/common/SmallText.tsx","components/side-filter/FilterCheckboxItem.tsx","components/side-filter/FGEducation.tsx","components/side-filter/FGExperience.tsx","components/side-filter/FGJobTitles.tsx","components/side-filter/FGLanguageSkills.tsx","components/side-filter/FGLocalTransfer.tsx","components/side-filter/FGMaritalStatus.tsx","components/side-filter/FGNationalities.tsx","components/side-filter/FGProcessFees.tsx","components/side-filter/FGSalary.tsx","components/side-filter/SideFilter.tsx","components/side-filter/SideFilterContainer.tsx","components/common/RatingHtml.tsx","components/agency/AgencyRatingInfo.tsx","components/common/OrangeChip.tsx","components/common/CountryFlag.tsx","components/common/CardChips.tsx","components/agency/AgencyTabRentalChips.tsx","config/CountryCodes.ts","components/agency/AgencyCard.tsx","components/common/ScrollToTop.tsx","components/common/FilteredResultsAlert.tsx","components/agency/AgenciesPage.tsx","components/common/TabPanel.tsx","components/wizard/controls/WizardDatePicker.tsx","config/DemoItems.ts","components/wizard/controls/WizardMonthMultiplePicker.tsx","components/common/FavoriteButton.tsx","components/common/ReserveWorkerButton.tsx","components/worker/IconInfo.tsx","components/common/Dot.tsx","components/worker/rental/SlotMiniDisplay.tsx","components/worker/rental/HourlySlotMiniDisplay.tsx","components/worker/rental/HourlySlotsDayMiniDisplay.tsx","components/worker/rental/MonthlySlotsMiniDisplay.tsx","components/worker/rental/WorkerRentalGridCard.tsx","components/worker/DetailsGroup.tsx","components/common/LabelValueLine.tsx","components/common/LabelValuesContainer.tsx","components/common/SelectWorkerButton.tsx","components/worker/two-years/Worker2ListCardPicTitle.tsx","components/worker/two-years/Worker2TopSection.tsx","components/worker/two-years/Worker2Details.tsx","components/worker/two-years/Worker2ListCardInfo.tsx","components/worker/two-years/Worker2ListCard.tsx","components/common/DetailsButton.tsx","components/worker/two-years/Worker2SmallPic.tsx","components/worker/two-years/Worker2GridCard.tsx","components/worker/two-years/Worker2CardWrapper.tsx","components/agency/AgencyTabPanelGridDesign.tsx","components/worker/rental/MonthlySlot.tsx","components/worker/rental/HourlySlot.tsx","components/worker/rental/HourlySlotsDay.tsx","components/worker/rental/WorkerRentalCardHourlySlots.tsx","components/worker/rental/WorkerRentalCardSlots.tsx","components/worker/rental/WorkerRentalListCard.tsx","components/agency/AgencyTabPanelListDesign.tsx","components/agency/AgencyTabRemarks.tsx","components/agency/AgencyTabPanels.tsx","components/agency/AgencyDetails.tsx","components/agency/AgencyPage.tsx","components/pages/WorkerDrawerPage.tsx","components/side-filter/SideFilterHidden.tsx","components/data/AgenciesDataProvider.tsx","components/request/RequestFormGeneral.tsx","helpers/FormatCurrency.ts","components/common/PaymentSummaryItem.tsx","components/request/RequestPaymentSummary.tsx","interface_tests/interfaceTests.ts","components/common/ConfirmationSummaryItem.tsx","components/request/RequestWorkerRental.tsx","components/request/RequestWorkerTwoYear.tsx","components/request/RequestWorkerContainer.tsx","components/request/RequestScheduleDisplay.tsx","components/common/TandCItem.tsx","components/request/RequestWorkerPage.tsx","images/check.svg","components/user/TrackingCode.tsx","components/pages/SuccessPage.tsx","components/common/ErrorMessage.tsx","components/request/RequestConfirmationPage.tsx","components/pages/FilterPage.tsx","components/layouts/SiteHeadless.tsx","components/user/RequestGridCard.tsx","components/user/MyRequestsPage.tsx","components/request/RequestDaysScheduleDisplayMode.tsx","components/request/RequestFrequency.tsx","components/pages/SelectSchedulePage.tsx","components/common/frontpage/FpSection.tsx","components/common/Footer2.tsx","components/login/MobileAdornment.tsx","components/login/MobileInput.tsx","components/login/LoginFormFields.tsx","components/login/LoginForm.tsx","components/login/LoginHeader.tsx","components/login/LoginEnterMobile.tsx","components/login/RegisterCustomerForm.tsx","components/login/RegisterCustomer.tsx","components/login/RegisterStart.tsx","components/login/LoginSignUpPage.tsx","components/common/LeftNavItem.tsx","api-calls/ApiGetLogout.ts","components/common/LogoutDialog.tsx","components/layouts/MyLayout.tsx","components/pages/InfoPage.tsx","components/pages/ContactUsPage.tsx","components/user/MyFavoritesPage.tsx","components/user/ChangePasswordForm.tsx","components/user/ChangePasswordPage.tsx","components/user/MyProfileForm.tsx","components/user/MyProfilePage.tsx","components/password-reset/PasswordResetForm.tsx","components/password-reset/ForgotPasswordPage.tsx","components/layouts/DefaultLayout.tsx","images/land.jpg","images/landmobile.jpg","components/layouts/SiteHeadLarge.tsx","components/common/frontpage/FpStep.tsx","components/wizard/WizardCard.tsx","components/wizard/WizardLand.tsx","components/wizard/controls/WizardMapInputField.tsx","components/wizard/WizardStartRental.tsx","images/click.svg","images/fill.svg","components/pages/LandingPage.tsx","components/layouts/FrontPageLayout.tsx","components/data/AppDataProvider.tsx","components/data/ToolboxState.tsx","components/layouts/MasterTheme.tsx","etl/AssignTwoYearWorkersToAgency.ts","etl/MakeTabsTwoYearWorkers.ts","api-calls/ApiGetUser.ts","helpers/TimeToDate.ts","factories/HourlySlotFactory.ts","factories/MonthlySlotFactory.ts","etl/SlotsTransformer.ts","helpers/DateArrays.ts","etl/TransformRentalWorker.ts","etl/SlotsGrouper.ts","etl/getDemoPic.ts","etl/getDemoId.ts","etl/CleanAgency.ts","etl/TransformAgency.ts","etl/AgenciesLeasedFilters.ts","config/Nationalities.ts","api-calls/ApiGetBundle.ts","api-calls/ApiPutFavTwoYear.ts","helpers/ArrayUnique.ts","config/StoreDefault.ts","etl/TransformTwoYearWorker.ts","etl/MakeTabsRentalWorkers.ts","etl/MakeTabsServices.ts","helpers/RemoveFilterParameter.ts","helpers/FilterTwoYearWorkers.ts","helpers/RemoveAgencyWithoutTwoYearWorkers.ts","helpers/Store.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["resources","en","translation","ar","arResource","i18n","use","initReactI18next","init","lng","keySeparator","nsSeparator","interpolation","escapeValue","light","lightest","Branding","primary","lighter","lightBg","warning","dark","slotColors","free","booked","off","hover","selected","shadowColor","color","Color","darken","alpha","toString","shadow","iOffset","iBlur","offset","slotColorsDot","text","secondary","string","fontSize","small","fontFamily","heading","body","niceShadow","borderRadius","niceRadius","transition","transitionSlow","UseStyles","makeStyles","theme","createStyles","root","flexGrow","verticalAlign","marginTop","spacing","marginBottom","width","objectFit","flexDirection","objectFitContain","paper","padding","textAlign","palette","transitionDefault","wizardCardLink","display","boxShadow","border","background","backdropFilter","textDecoration","wizardCardLinkDisabled","hoverBox","userSelect","backgroundColor","MyTheme","createMuiTheme","main","contrastThreshold","tonalOffset","typography","myBreakpoints","xs","sm","md","lg","xl","typedHooks","createTypedHooks","useStoreActions","useStoreState","useStoreDispatch","Logo","props","Box","css","outline","to","marginLeft","marginRight","src","LogoImg","maxHeight","maxWidth","alt","TopMenuItem","item","onClick","undefined","navigate","Badge","badgeContent","count","overlap","badgeOverlap","py","px","prominent","node","mx","borderColor","fontWeight","cursor","title","BurgerItem","Typography","setIsOpen","TopMenu","useTranslation","t","location","language","useLocation","favorites","s","favTwoYear","items","burgerWidth","burgerTop","burgerLeft","user","state","requests","returnUrl","setReturnUrl","action","setItem","myRequestsUrl","visibleFavorites","filter","x","hidden","collected","countRequests","length","useState","isOpen","loggedIn","fullName","burgerStyles","bmBurgerButton","position","height","left","top","bmBurgerBars","bmBurgerBarsHover","bmCrossButton","bmCross","bmMenuWrap","bmMenu","bmMorphShape","fill","bmItemList","bmOverlay","loginLink","pathname","profileLink","favLink","Icon","myRequestsLink","contactUsLink","topMenu","Fragment","isBurger","styles","pageWrapId","outerContainerId","onStateChange","handleStateChange","disableAutoFocus","pt","pb","Divider","map","nav","Grid","container","justify","direction","alignItems","SiteHead","isMd","bgcolor","Container","mb","jobTitles","jobTitlesRentalForDemo","languageSkills","educationLevels","maritalStatus","localTransferExplanation","NiceBox","fullTitle","isRentalHourly","feesBhdUnit","feesBhd","isRentalMonthly","Faker","random","number","min","max","p","my","style","children","FilterGroup","expanded","handleCollapseButton","bind","this","setState","iconSize","expandLabel","dividerM","divider","hideDivider","className","variant","Collapse","in","FormGroup","Component","FilterSlider","Slider","defaultValue","valueLabelDisplay","step","marks","value","label","FGAge","expandedDefaultDesktop","expandedDefaultMobile","SmallText","dangerouslySetInnerHTML","__html","FilterCheckboxItem","FormControlLabel","control","Checkbox","size","checked","onChange","FGEducation","FGExperience","FGJobTitles","updateFiltersTwoYear","filterOptions","jobTitle","setJobTitles","a","setItems","job","key","event","forEach","j","payload","setUnfiltered","array","n","FGLanguageSkills","FGLocalTransfer","FGMaritalStatus","FGNationalities","nationalitiesState","nationality","setNationalitiesState","e","slice","FGProcessFees","FGSalary","SideFilter","is2Year","isLeased","updatesRentalFilter","SideFilterContainer","linkStyles","buttonStyles","showSortButton","Button","borderRightColor","ImportExport","FilterList","RatingHtml","rating","AgencyRatingInfo","ratingsCount","agency","reviews","showReviewsRatings","OrangeChip","Chip","component","CountryFlag","flagStyle","country","countryCode","showFees","titleTranslatedWithFees","titleTranslated","CardChips","chips","showCountryFlag","countryChips","chipStyle","margin","titles","join","AgencyTabRentalChips","render","services","contractServices","service","isTwoYearContract","rentalServices","isRentalMonthlyStayOver","showContract","push","showRental","chipTitles","unit","price","priceWithParanthesis","showPriceOnly","ChipLabel","renderAsText","CountryCodes","country_code","country_name","dialling_code","AgencyCard","isArabic","newChip","new","nationalitiesTitles","nationalities","toLowerCase","twoYearsCountryChips","makeCountryChipsFromAgencyTabs","tabsTwoYearWorkers","slug","Avatar","process","logo","flexShrink","minHeight","titleAr","showContractInfo","showTabChips","servicesSelectableWorkers","tabsRental","remarks","agencyTabs","tab","code","find","feesText","ScrollToTop","useEffect","window","scrollTo","timeout","delay","Promise","res","setTimeout","FilteredResultsAlert","filtersCount","filterTwoYear","filterRental","clearFilters","bgColor","setBgColor","setBoxShadow","setTransition","flashReset","flashColor","AgenciesPage","agencies","showRentedInfo","maxDisplay","setMaxDisplay","agenciesTrimmed","setAgenciesTrimmed","agencyComponents","_id","dataLength","next","hasMore","loader","TabPanel","index","other","role","id","aria-labelledby","WizardDatePicker","React","Date","selectedDate","setSelectedDate","utils","DateFnsUtils","disableToolbar","disablePast","format","date","KeyboardButtonProps","demoRentalHourlyRemarks","rental","demoRentalMonthlyRemarks","demoRentalMonthlyStayOverRemarks","demoItemsCount","name","monthPickerMonths","useStyles","formControl","minWidth","selectEmpty","flexWrap","chip","noLabel","MenuProps","PaperProps","ITEM_HEIGHT","WizardMonthMultiplePicker","classes","selectedMonths","setSelectedMonths","FormControl","InputLabel","Select","labelId","multiple","target","input","Input","renderValue","month","MenuItem","indexOf","ListItemText","FavoriteButton","worker","add","addToFavTwoYear","remove","removeFromFavTwoYear","exists","findIndex","heartColor","startIcon","confirm","ReserveWorkerButton","link","IconInfo","iconFontSize","inside","icon","Tooltip","arrow","Dot","paddingLeft","paddingRight","SlotMiniDisplay","dotColor","HourlySlotMiniDisplay","slot","dateFormat","hourlySlotDefinition","from","colorDot","HourlySlotsDayMiniDisplay","day","dayMonth","textStyle","iconStyle","slots","showLeftArrow","leftOnClick","NavigateBefore","lineHeight","showRightArrow","rightOnClick","NavigateNext","MonthlySlotsMiniDisplay","numDisplay","WorkerRentalGridCard","setWorker","selectedWorkerRental","addDays","days","newDate","setDate","getDate","getSlots","useNavigate","getDateKey","iDate","hourlySlotsDictionary","getRelevantDaySlots","d","hourlyWorkerLink","monthlyWorkerLink","Rating","precision","readOnly","smallPicture","alignSelf","isHourly","isMonthly","monthlySlots","DetailsGroup","titleChip","LabelValueLine","oneLineTitleSizeMd","oneLineValueSizeMd","titleSizeMd","oneLine","valueSizeMd","LabelValuesContainer","SelectWorkerButton","WorkerTwoYearCardPicTitle","picHeight","localTransfer","isLocalTransfer","buttons","showButtons","onReserveButton","clickableStyle","onPicTitleClick","WorkerTwoYearDetailsTopSection","referenceId","monthlySalaryBhdFormatted","processFeesBhdFormatted","Worker2Details","languageSkillEnglish","languageSkillArabic","jobExperiences","fromYear","toYear","totalYears","otherSkills","skill","bigPicture","religion","age","numberOfChildren","weightKg","heightCm","educationalLevel","experienceYears","justifyContent","m","listStyle","Worker2ListCardInfo","buttonStyle","buttonVariant","demoLanguageSkillsText","phone","mt","Worker2ListCard","Worker2ListCardPicTitle","picClickEvent","DetailsButton","Worker2SmallPic","smallPictureFileExt","Worker2GridCard","localTransferInfoLine","withBreakpoints","bottom","right","nextUrl","guid","toggleDrawer","anchor","open","type","breakpoints","currentBreakpoint","design","Drawer","onClose","AgencyTabPanelGridDesign","workersTwoYear","workersRental","MonthlySlot","setSelected","selectedColor","shadowSelected","clickable","HourlySlot","HourlySlotsDay","dateKey","WorkerRentalCardHourlySlots","slotsDictionary","Object","keys","maxDays","WorkerRentalCardSlots","hourlySlots","maxMonths","WorkerRentalListCard","AgencyTabPanelListDesign","AgencyTabRemarks","iconStyles","HomeTwoTone","AgencyTabPanels","rentalService","AgencyDetails","tabs","setValue","showTwoYearTabs","tabNavigationButtons","Tab","textTransform","wrapper","tabsIndex","tabPanels","showRentalTabs","Tabs","newValue","indicatorColor","scrollButtons","AgencyPage","dataLoaded","agencySlug","WorkerDrawerPage","workerId","workerTwoYearId","SideFilterHidden","AgenciesDataProvider","agenciesContract","agencyTwoYear","workerTwoYear","toRender","path","pr","default","RequestFormGeneral","inputSize","inputVariant","showAddress","showEquipmentOption","formik","TextField","error","touched","errors","helperText","getFieldProps","mobileNumber","multiline","rows","FormatCurrency","fixed","toFixed","replace","PaymentSummaryItem","formattedAmount","amount","emphasized","RequestPaymentSummary","total","paymentItems","workerRental","fontStyle","instanceOfIAgency","object","instanceOfInterface","ConfirmationSummaryItem","RequestWorkerRental","picWidth","RequestWorkerTwoYear","RequestWorkerContainer","RequestScheduleDisplay","selectedHours","selectedHoursFrequency","applicationForm","selectedHour","TandCItem","verb","Link","href","labelHref","RequestWorkerPage","setAppForm","isRental","isTwoYear","setPaymentItems","showRentalFormFields","initialAppForm","mobile","otherMobileNumber","mobile2","email","paymentRemarks","paymentSummaryItems","created","modified","axios","get","then","response","console","log","data","catch","reason","validationSchema","Yup","initialValues","onSubmit","values","setSubmitting","transformAppForm","onFormSubmit","handleSubmit","borderRight","showFrequency","isEmail","TrackingCode","trackingCode","SuccessPage","rcr","recent","request","rcrr","requestResponse","buttonBoxStyle","buttonSize","nextButtons","Check","message","smallMessage","specialNotes","address","ErrorMessage","RequestConfirmationPage","inProgress","setInProgress","errorMessage","userId","setRecentRequest","setRecentRequestResponse","agencyId","isLeaseByHour","isLeaseByMonth","statusCode","statusHistory","statusRemarks","post","withCredentials","toast","finally","disabled","FilterPage","back","fullWidth","SiteHeadless","showCloseButton","Clear","showCancelText","rightText","RequestGridCard","cancelColor","serviceText","status","allowCancel","MyRequestsPage","setRequests","loaded","setLoaded","getRequests","_","orderBy","RequestDaysScheduleDisplayMode","demoRadio","Radio","FormLabel","RadioGroup","row","setter","parseInt","numberOfMultiDays","RequestFrequency","SelectSchedulePage","selectScheduleLabel","itemPluralLabel","setMaxDays","FpSection","textColor","isDark","Footer2","getFullYear","MobileAdornment","InputAdornment","MobileInput","onKey","isErrored","textBoxStyle","match","onKeyPress","InputProps","startAdornment","inputProps","maxLength","LoginFormFields","demoLink","password","setPassword","setMobile","gotError","setGotError","attempts","setAttempts","loadUser","loginButtonDisabled","onLoginButtonClick","postBody","app","success","onLogin","loginFailed","onTextBoxKeyPress","prev","msg","noValidate","autoComplete","LoginForm","setIntent","LoginHeader","LoginEnterMobile","errored","loading","newUser","otpSent","allowResend","secret","sendOtp","validateOtp","setNewUser","setLoading","setOtpSent","setCheckMobileResult","setSecret","countdown","setCountdown","interval","setInterval","date1","date2","secs","Math","round","getTime","secondsBetweenDates","checkBody","result","checkMobile","userCount","otpCount","clearInterval","RegisterCustomerForm","confirmPassword","isSubmitting","RegisterCustomer","required","oneOf","RegisterStart","setErrored","checkMobileResult","setAllowResend","otpValidated","setOtpValidated","childProps","sendOtpBody","method","purpose","validateOtpBody","LoginSignUpPage","syncFav","intent","returnUrlStored","navigateTo","url","LeftNavItem","navItem","itemStyles","ml","apiGetLogout","r","LogoutDialog","setUser","setFavorites","handleClose","setOpen","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","info","autoFocus","MyLayout","logoutDialogOpen","setLogoutDialogOpen","myFavorites","logout","menu","InfoPage","ContactUsPage","MyFavoritesPage","ChangePasswordForm","ChangePasswordPage","put","MyProfileForm","MyProfilePage","PasswordResetForm","ForgotPasswordPage","initialPassForm","forgetBody","SiteHeadLarge","sloganStyle","textShadow","sloganBig","sloganSmall","backgroundImage","Landing1","Landing1Mobile","backgroundSize","backgroundPositionX","backgroundPositionY","FpStep","alignContent","image","WizardCard","alert","WizardLand","rentalLink","flex","iconButton","WizardMapInputField","IconButton","aria-label","LocationOnOutlined","InputBase","placeholder","CancelOutlined","WizardStartRental","workerBy","period","goLink","LandingPage","hStyle","textAlignLast","click","check","AppDataProvider","ToolboxState","loadFromApi","setDataLoading","dataLoading","setTranslationPack","translationPack","pack","ll","setLl","MasterTheme","lang","dir","useRtl","document","documentElement","ThemeProvider","AssignTwoYearWorkersToAgency","workers","_tabsIndex","hasTwoYearWorkerServices","groupedWorkers","groupBy","titleWithFees","isRented","isRentedMonthly","isRentedHourly","isServices","MakeTabsTwoYearWorkers","apiGetUser","TimeToDate","timeString","now","today","getMonth","HourlySlotFactory","Factory","makeFactory","i","availabilityStatus","arrayElement","availabilityDisplayText","dayDisplay","dateDisplay","dateFull","MonthlySlotFactory","MakeHourlySlots","numberOfDays","startDate","start","dateArray","DaysArray","hourlySlotsGenerateDaysInAdvance","hourlySlotDefinitions","definition","build","SetSlot","MakeMonthlySlots","months","numberOfMonths","setMonth","MonthsArray","slotSettings","Free","displayText","Booked","Off","setting","TransformRentalWorker","tPack","fromString","time","hours","setTime","AddHoursToDate","getHours","getMinutes","AddToTime","minSalary","maxSalary","demoId","demoItem","getDemoId","average","arr","reduce","c","calcRatings","ratingsArray","review","rRatings","agencyRating","workerRating","RemoveBlankServices","apiGetBundle","apiPutFavTwoYear","workerIds","arrayUnique","concat","splice","singleModel","itemDefault","arrayModel","filterableModel","unfilteredItems","thunk","actions","helpers","getState","putFavorites","localFavorites","localIds","allIds","remoteIds","favoriteTwoYearIds","isEqual","cleanWorkers","transformData","grandTotalYears","currency","monthlySalary","processFees","bigPictureFileExt","minAge","floor","ageApprox","TransformTwoYearWorker","translate","allWorkers","hasRentedServices","CleanAgency","twoYear","MakeTabsRentalWorkers","tabsServices","MakeTabsServices","logoFileExt","TransformAgency","workersRentalHour","workersRentalMonth","agenciesLeased","agenciesHourly","cloneDeep","AgenciesHourlyOnly","agenciesMonthly","AgenciesMonthlyOnly","agencyHourly","agencyMonthly","workerHourly","workerMonthly","filterParameter","prevFilters","filters","removeFilterParameter","gt","lt","debug","filterParameters","resultWorkers","w","includes","FilterTwoYearWorkers","agenciesTwoYear","removeAgencyWithoutTwoYearWorkers","initiateFilterStates","storeDefault","selectedSlots","persist","storage","config","salary","experience","bundle","me","store","createStore","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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CA,QACA,SAG0B,CAC1B,WACA,UACA,WACA,aACA,QACA,WACA,KACA,KACA,OACA,KACA,UACA,QACA,UACA,UACA,YACA,YACA,QACA,SACA,MACA,SACA,KACA,KACA,OACA,QACA,OACA,QACA,SACA,MACA,MACA,SACA,KACA,OACA,UACA,SACA,cACA,QACA,SACA,WACA,WACA,UACA,QACA,OACA,QACA,OACA,SACA,UACA,WACA,UACA,YACA,OACA,SACA,QACA,WACA,SACA,aACA,SACA,WACA,SACA,SACA,OACA,OACA,SACA,UACA,MACA,QACA,SACA,SACA,QACA,UACA,UACA,WACA,QACA,YAiFqC,CACrC,gBACA,uCACAnU,OACAA,IAeIoU,GAAS,CAEb,wFACA,sGACA,yFAGWC,GAA2BD,GAE3BE,GAAmCF,GAEnCG,GAAiB,CAC5B,CACEC,KAAM,WACNpU,MAAO,IAET,CACEoU,KAAM,QACNpU,MAAO,GAET,CACEoU,KAAM,QACNpU,MAAO,GAET,CACEoU,KAAM,YACNpU,MAAO,IAET,CACEoU,KAAM,QACNpU,MAAO,IAET,CACEoU,KAAM,cACNpU,MAAO,IAET,CACEoU,KAAM,YACNpU,MAAO,KAIEqU,GAAoB,CAC/B,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YC7TIC,GAAYxY,aAAW,SAACC,GAAD,OAC3BC,YAAa,CAKXuY,YAAa,CACX/G,OAAQzR,EAAMM,QAAQ,GACtBmY,SAAU,IAEVjV,SAAS,OAEXkV,YAAa,CACXrY,UAAWL,EAAMM,QAAQ,IAE3B+Q,MAAO,CACLnQ,QAAS,OACTyX,SAAU,QAEZC,KAAM,CACJnH,OAAQ,GAEVoH,QAAS,CACPxY,UAAWL,EAAMM,QAAQ,SAOzBwY,GAAY,CAChBC,WAAY,CACV7N,MAAO,CAEL3H,UAAWyV,IACXxY,MAAO,OAKE,SAASyY,GAA0BnW,GAA6B,IACtEoC,EAAKD,cAALC,EACDgU,EAAUX,KAF4D,EAGhC3R,mBAAmB,IAHa,mBAGrEuS,EAHqE,KAGrDC,EAHqD,KAsBtExM,EAAQ1H,EAAE,gBAEhB,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","file":"static/js/main.3536b9ce.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport arResource from './i18n/ar/translation.json';\r\nimport enResource from './i18n/en/translation.json';\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them)\r\nconst resources = {\r\n  en: {\r\n    translation: enResource\r\n  },\r\n  ar: {\r\n    translation: arResource\r\n  }\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: \"en\",\r\n\r\n    keySeparator: \".\", // we do not use keys in form messages.welcome\r\n    nsSeparator: \":\",\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\nexport default i18n;","import Color from \"color\";\r\n\r\nconst warning = \"#ffd294\";\r\nconst light = \"#B3D9E3\";\r\nconst lightest = \"#E6F1F4\";\r\nconst darkWarning = Color(warning).darken(0.45).string();\r\n\r\nconst Branding = {\r\n  primary: \"#5890A7\",\r\n  light: light,\r\n  lighter: \"#D9E5EA\",\r\n  lightest: lightest,\r\n  lightBg: \"#f8f8f8\",\r\n  warning: \"#ffd294\",\r\n  dark: \"#172C42\",\r\n  slotColors: {\r\n    free: \"#a0ffae\",\r\n    booked: \"#ff929c\",\r\n    off: \"#dfdfdf\",\r\n    hover: light,\r\n    selected: lightest,\r\n    shadowColor: (color: string): string =>\r\n      new Color(color).darken(0.5).alpha(0.5).toString(),\r\n    shadow: (color: string, iOffset?: number, iBlur?: number): string => {\r\n      let offset = iOffset ? iOffset : 1;\r\n      let blur = iBlur ? iBlur : 2;\r\n      return (\r\n        offset +\r\n        \"px \" +\r\n        offset +\r\n        \"px \" +\r\n        blur +\r\n        \"px \" +\r\n        new Color(color).darken(0.5).alpha(0.5).toString()\r\n      );\r\n    },\r\n  },\r\n  slotColorsDot: {\r\n    free: \"#50af56\",\r\n    booked: \"#ea1542\",\r\n    off: \"#dfdfdf\",\r\n  },\r\n  text: {\r\n    primary: \"#000000\",\r\n    secondary: \"#777777\",\r\n    warning: darkWarning,\r\n  },\r\n  fontSize: {\r\n    small: 13,\r\n  },\r\n  fontFamily: {\r\n    heading: \"\",\r\n    body:\r\n      '\"Roboto\", \"Segoe UI\", \"Helvetica\", \"Arial\", open_sansregular,Helvetica Neue,Helvetica,-apple-system, BlinkMacSystemFont, \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif',\r\n  },\r\n  shadow: {\r\n    niceShadow: \"0 0 25px #00000011\",\r\n  },\r\n  borderRadius: {\r\n    niceRadius: 10,\r\n  },\r\n  transition: \"all 0.1s\",\r\n  transitionSlow: \"all 1.0s\",\r\n};\r\n\r\n// const Branding1 = {\r\n//   primary: \"#5890A7\",\r\n//   light: \"#7AA6B8\",\r\n//   veryLight: \"#D9E5EA\",\r\n//   lightest: \"#EBF2F4\",\r\n//   lightBg: \"#f8f8f8\",\r\n// };\r\n\r\nexport default Branding;\r\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core\";\r\nimport Branding from \"./Branding\";\r\n\r\nconst wizBlur = \"blur(10px)\";\r\n// const wizBg = `linear-gradient(to top,${Branding.lightest}99, #ffffff00)`;\r\nconst wizBg = `#ffffff`;\r\nconst wizBorder = 3;\r\n\r\nconst UseStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n      // backgroundColor: Branding.primary,\r\n      \"& a\": {\r\n        color: Branding.primary,\r\n      },\r\n      \"& .material-icons\": {\r\n        verticalAlign: \"text-bottom\",\r\n      },\r\n\r\n      \"& .transitionDefault\": {\r\n        transition: Branding.transition,\r\n      },\r\n      \"& .MuiTextField-root\": {\r\n        marginTop: theme.spacing(0.5),\r\n        marginBottom: theme.spacing(0.5),\r\n        width: \"100%\",\r\n      },\r\n      \"& .MuiAvatar-img\": {\r\n        objectFit: \"contain\",\r\n      },\r\n      \"& .no-flex-direction\":{\r\n        flexDirection:\"initial\",\r\n      }\r\n    },\r\n    objectFitContain:{\r\n      \"& .MuiAvatar-img\": {\r\n        objectFit: \"contain\",\r\n      },\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      textAlign: \"center\",\r\n      color: theme.palette.text.primary,\r\n      // boxShadow: \"0 0 3px #000\",\r\n    },\r\n\r\n    transitionDefault: {\r\n      transition: Branding.transition,\r\n    },\r\n\r\n    wizardCardLink: {\r\n      display: \"block\",\r\n      borderRadius: 10,\r\n      boxShadow: \"0 0 22px #00000022\",\r\n      border:`${wizBorder}px solid ${Branding.primary}`,\r\n      background: wizBg,\r\n      backdropFilter:wizBlur,\r\n      textDecoration: \"none\",\r\n      transition: Branding.transition,\r\n      \"&:hover\": {\r\n        background: Branding.lightest,\r\n        boxShadow: \"0 0 2px \" + Branding.primary,\r\n      },\r\n    },\r\n    wizardCardLinkDisabled:{\r\n      display: \"block\",\r\n      // backdropFilter:wizBlur,\r\n      // zIndex:-20,\r\n      fontSize: 8,\r\n      border:`${wizBorder}px solid #00000033`,\r\n      borderRadius: 10,\r\n      boxShadow: \"0 0 22px #00000022\",\r\n      background: \"#ffffff\",\r\n      textDecoration: \"none\",\r\n      transition: Branding.transition,\r\n      \"&:hover\": {\r\n        background: Branding.lightBg,\r\n        boxShadow: \"0 0 2px #00000066\",\r\n      },\r\n    },\r\n\r\n    hoverBox: {\r\n      transition: Branding.transition,\r\n      userSelect: \"none\",\r\n      \"&:hover\": {\r\n        backgroundColor: Branding.lightBg,\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport default UseStyles;\r\n","import { createMuiTheme } from \"@material-ui/core\";\r\nimport Branding from \"./Branding\";\r\n\r\nconst MyTheme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      // light: will be calculated from palette.primary.main,\r\n      main: Branding.primary,\r\n      // dark: will be calculated from palette.primary.main,\r\n      // contrastText: will be calculated to contrast with palette.primary.main\r\n    },\r\n    secondary: {\r\n      // light: \"#0066ff\",\r\n      main: Branding.warning,\r\n      // dark: will be calculated from palette.secondary.main,\r\n      // contrastText: \"#ffcc00\",\r\n    },\r\n    // Used by `getContrastText()` to maximize the contrast between\r\n    // the background and the text.\r\n    contrastThreshold: 3,\r\n    // Used by the functions below to shift a color's luminance by approximately\r\n    // two indexes within its tonal palette.\r\n    // E.g., shift from Red 500 to Red 300 or Red 700.\r\n    tonalOffset: 0.2,\r\n  },\r\n  typography: {\r\n    fontFamily: Branding.fontFamily.body,\r\n  },\r\n});\r\n\r\nexport default MyTheme;\r\n","export const myBreakpoints = {\r\n  xs: 0,\r\n  sm: 600,\r\n  md: 960,\r\n  lg: 1280,\r\n  xl: 1920,\r\n};\r\n\r\n// export const breakpointsDefault = {\r\n//   mobile: 320,\r\n//   mobileLandscape: 480,\r\n//   tablet: 768,\r\n//   tabletLandscape: 1024,\r\n//   desktop: 1200,\r\n//   desktopLarge: 1500,\r\n//   desktopWide: 1920,\r\n// };\r\n","import { createTypedHooks } from 'easy-peasy';\r\nimport { IStoreModel } from '../interfaces/IStoreModel';\r\n\r\n\r\nconst typedHooks = createTypedHooks<IStoreModel>();\r\n\r\nexport const useStoreActions = typedHooks.useStoreActions;\r\nexport const useStoreDispatch = typedHooks.useStoreDispatch;\r\nexport const useStoreState = typedHooks.useStoreState;","export default __webpack_public_path__ + \"static/media/logo.d1016dba.svg\";","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { Link } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport LogoImg from \"../../images/logo.svg\";\r\n\r\ninterface Props {\r\n  marginLeft: number;\r\n  marginRight?: number;\r\n  maxHeight: number;\r\n}\r\n\r\nexport default function Logo(props: Props): ReactElement {\r\n  return (\r\n    <Box\r\n      css={{\r\n        outline: \"none\",\r\n        border:0,\r\n        \":focus\": {\r\n          outline: \"none\",\r\n        },\r\n      }}\r\n    >\r\n      <Link\r\n        to=\"/\"\r\n        css={{\r\n          textDecoration: \"none\",\r\n          display: \"inline-block\",\r\n          verticalAlign: \"top\",\r\n          marginLeft: props.marginLeft,\r\n          marginRight: props.marginRight,\r\n          border:0,\r\n          outline: \"none\",\r\n          \":focus\": {\r\n            outline: \"none\",\r\n          },\r\n        }}\r\n      >\r\n        <img\r\n          src={LogoImg}\r\n          css={{\r\n            display: \"block\",\r\n            maxHeight: props.maxHeight,\r\n            maxWidth: \"100%\",\r\n            border:0,\r\n            outline: \"none\",\r\n            \":focus\": {\r\n              outline: \"none\",\r\n            },\r\n          }}\r\n          alt=\"logo\"\r\n        />\r\n      </Link>\r\n    </Box>\r\n  );\r\n}\r\n","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { Badge, Box } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport { ITopNavItem } from \"estreeh-common-library/src/interfaces/ITopNavItem\";\r\nimport { navigate } from \"@reach/router\";\r\n\r\ninterface Props {\r\n  item: ITopNavItem;\r\n}\r\n\r\nexport default function TopMenuItem(props: Props): ReactElement {\r\n  const item = props.item;\r\n  const onClick =\r\n    item.onClick !== undefined\r\n      ? item.onClick\r\n      : () => {\r\n          if (item.to) navigate(item.to);\r\n        };\r\n  return (\r\n    <Box>\r\n      <Badge badgeContent={item.count} color=\"primary\" overlap={item.badgeOverlap}>\r\n        <Box\r\n          onClick={onClick}\r\n          py={0.5}\r\n          px={item.prominent || item.node ? 3 : 2}\r\n          textAlign=\"center\"\r\n          mx={0.25}\r\n          css={{\r\n            border: \"2px solid #000\",\r\n            borderColor: item.prominent ? \"#000\" : \"#00000000\",\r\n            fontWeight: 600,\r\n            fontSize: \"90%\",\r\n            cursor: \"pointer\",\r\n            borderRadius: Branding.borderRadius.niceRadius,\r\n            transition: Branding.transition,\r\n            // backgroundColor:Branding.lightest,\r\n            \":hover\": {\r\n              color: \"white\",\r\n              backgroundColor: Branding.primary,\r\n              boxShadow: \"0 0 4px \" + Branding.light,\r\n            },\r\n          }}\r\n        >\r\n          <Box>\r\n            {props.item.title}\r\n            {props.item.node}\r\n          </Box>\r\n        </Box>\r\n      </Badge>\r\n    </Box>\r\n  );\r\n}\r\n","import { Badge, Box, Typography } from \"@material-ui/core\";\r\nimport { navigate } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport { ITopNavItem } from \"estreeh-common-library/src/interfaces/ITopNavItem\";\r\n\r\ninterface Props {\r\n  item: ITopNavItem;\r\n  setIsOpen: Function;\r\n}\r\n\r\nexport default function BurgerItem(props: Props): ReactElement {\r\n  const item = props.item;\r\n  // const onClick =\r\n  //   props.item.onClick !== undefined\r\n  //     ? props.item.onClick\r\n  //     : () => {\r\n  //         if (props.item.to) navigate(props.item.to);\r\n  //         props.setIsOpen(false);\r\n  //       };\r\n  const onClick = () => {\r\n    if (props.item.onClick !== undefined) {\r\n      props.item.onClick();\r\n    } else {\r\n      if (props.item.to) navigate(props.item.to);\r\n    }\r\n    props.setIsOpen(false);\r\n  };\r\n  return (\r\n    <Typography>\r\n      <Box\r\n        py={1.5}\r\n        onClick={onClick}\r\n        css={{\r\n          color: Branding.text.primary,\r\n          // border: \"2px solid #000\",\r\n          // borderColor: item.prominent ? \"#000\" : \"#00000000\",\r\n          fontWeight: 600,\r\n          cursor: \"pointer\",\r\n          borderRadius: Branding.borderRadius.niceRadius,\r\n          transition: Branding.transition,\r\n        }}\r\n      >\r\n        <Box>\r\n          <Badge badgeContent={item.count} color=\"primary\">\r\n          {item.title}\r\n          {item.node}\r\n          </Badge>\r\n        </Box>\r\n      </Box>\r\n    </Typography>\r\n  );\r\n}\r\n","import {\r\n  Badge,\r\n  Box,\r\n  Divider,\r\n  Grid,\r\n  GridJustification,\r\n  Icon,\r\n} from \"@material-ui/core\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TopMenuType } from \"estreeh-common-library/src/types/TopMenuType\";\r\nimport { slide as Menu, State } from \"react-burger-menu\";\r\nimport Branding from \"../../config/Branding\";\r\nimport Logo from \"../common/Logo\";\r\n// import Faker from \"faker\";\r\nimport TopMenuItem from \"../common/TopMenuItem\";\r\nimport BurgerItem from \"../common/BurgerItem\";\r\nimport { ITopNavItem } from \"estreeh-common-library/src/interfaces/ITopNavItem\";\r\n// import axios from \"axios\";\r\nimport { navigate, useLocation } from \"@reach/router\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props {\r\n  isBurger: boolean;\r\n  burgerWidth?: number;\r\n  burgerLeft?: number;\r\n  burgerTop?: number;\r\n  justify?: GridJustification;\r\n}\r\n\r\nexport default function TopMenu(props: Props): ReactElement {\r\n  const { t, i18n } = useTranslation();\r\n  const isEnglish = i18n.language === \"en\";\r\n  const langTitle = isEnglish ? \"\" : \"English\";\r\n  const targetLang = isEnglish ? \"ar\" : \"en\";\r\n  const location = useLocation();\r\n  const favorites = useStoreState((s) => s.favTwoYear.items);\r\n\r\n  const burgerWidth = props.burgerWidth ? props.burgerWidth : 26;\r\n  const burgerTop = props.burgerTop ? props.burgerTop : 26;\r\n  const burgerLeft = props.burgerLeft ? props.burgerLeft : 24;\r\n  const user = useStoreState((state) => state.user.item);\r\n  const requests = useStoreState(s => s.requests.items);\r\n  const returnUrl = useStoreState((state) => state.returnUrl);\r\n  const setReturnUrl = useStoreActions((action) => action.returnUrl.setItem);\r\n\r\n  const myRequestsUrl = \"/my/requests\";\r\n\r\n  const visibleFavorites = favorites.filter((x) => !x.hidden && !x.collected);\r\n  const countRequests = requests.length;\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleStateChange = (state: State) => {\r\n    setIsOpen(state.isOpen);\r\n  };\r\n\r\n  const loggedIn = user?.fullName !== undefined;\r\n\r\n  const burgerStyles = {\r\n    bmBurgerButton: {\r\n      position: \"absolute\",\r\n      width: burgerWidth + \"px\",\r\n      height: \"20px\",\r\n      left: burgerLeft + \"px\",\r\n      top: burgerTop + \"px\",\r\n    },\r\n    bmBurgerBars: {\r\n      background: \"#373a47\",\r\n    },\r\n    bmBurgerBarsHover: {\r\n      background: \"#a90000\",\r\n    },\r\n    bmCrossButton: {\r\n      height: \"24px\",\r\n      width: \"24px\",\r\n    },\r\n    bmCross: {\r\n      background: Branding.primary,\r\n    },\r\n    bmMenuWrap: {\r\n      position: \"fixed\",\r\n      height: \"100%\",\r\n    },\r\n    bmMenu: {\r\n      background: Branding.lightBg + \"f4\",\r\n      padding: \"0.5em 1.5em 0\",\r\n      fontSize: \"1.15em\",\r\n    },\r\n    bmMorphShape: {\r\n      fill: \"#373a47\",\r\n    },\r\n    bmItemList: {\r\n      color: \"#b8b7ad\",\r\n      padding: \"0.8em\",\r\n      height: \"auto\",\r\n    },\r\n    // bmItem: {\r\n    //   display: \"block\",\r\n    //   marginBottom: 16,\r\n    // },\r\n    bmOverlay: {\r\n      background: \"rgba(0, 0, 0, 0.3)\",\r\n    },\r\n  };\r\n\r\n  const loginLink: ITopNavItem = {\r\n    title: t(\"login\"),\r\n    // to: \"/login\",\r\n    onClick: () => {\r\n      if (returnUrl === undefined) {\r\n        setReturnUrl(location.pathname);\r\n      }\r\n      navigate(\"/login\");\r\n    },\r\n    prominent: true,\r\n  };\r\n\r\n  const profileLink: ITopNavItem = {\r\n    title: \"Welcome, \" + user?.fullName + \"!\",\r\n    to: myRequestsUrl,\r\n    // prominent: true,\r\n  };\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const langLink: ITopNavItem = {\r\n    title: langTitle,\r\n    onClick: () => {\r\n      i18n.changeLanguage(targetLang);\r\n    },\r\n  };\r\n\r\n  const favLink: ITopNavItem = {\r\n    to: \"/my/favorites\",\r\n    node: (\r\n      <Badge\r\n        // badgeContent={Faker.random.number({ min: 1, max: 9 })}\r\n        badgeContent={visibleFavorites.length}\r\n        color=\"primary\"\r\n      >\r\n        <Icon fontSize=\"small\">favorite_outlined</Icon>\r\n      </Badge>\r\n    ),\r\n  };\r\n\r\n  const myRequestsLink: ITopNavItem = {\r\n    title: t(\"my-requests\"),\r\n    to: myRequestsUrl,\r\n    count: countRequests,\r\n    badgeOverlap: \"circle\",\r\n  };\r\n\r\n  const contactUsLink: ITopNavItem = {\r\n    title: t(\"contact-us\"),\r\n    to: \"/contact-us\",\r\n  };\r\n\r\n  //FUTURE: Re-enable language select button\r\n\r\n  const topMenuNotLoggedIn: TopMenuType = [\r\n    loginLink,\r\n    favLink,\r\n    // myRequestsLink,\r\n    // {\r\n    //   title: t(\"faq\"),\r\n    // },\r\n    contactUsLink,\r\n    // langLink,\r\n  ];\r\n\r\n  const topMenuLoggedIn: TopMenuType = [\r\n    profileLink,\r\n    favLink,\r\n    myRequestsLink,\r\n    contactUsLink,\r\n    // langLink,\r\n    // logoutLink,\r\n  ];\r\n\r\n  const topMenu = loggedIn ? topMenuLoggedIn : topMenuNotLoggedIn;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.isBurger && (\r\n        <Menu\r\n          styles={burgerStyles}\r\n          pageWrapId={\"page-content-container\"}\r\n          outerContainerId={\"app-root\"}\r\n          isOpen={isOpen}\r\n          onStateChange={(state) => handleStateChange(state)}\r\n          disableAutoFocus={true}\r\n        >\r\n          <Box>\r\n            <Logo marginLeft={0} maxHeight={40} />\r\n          </Box>\r\n          <Box pt={2} pb={1}>\r\n            <Divider />\r\n          </Box>\r\n          {topMenu.map((nav) => (\r\n            <BurgerItem\r\n              key={nav.title + \"_\" + nav.to}\r\n              item={nav}\r\n              setIsOpen={setIsOpen}\r\n            />\r\n          ))}\r\n        </Menu>\r\n      )}\r\n      {!props.isBurger && (\r\n        <Grid\r\n          container\r\n          justify={props.justify}\r\n          direction=\"row-reverse\"\r\n          alignItems=\"center\"\r\n        >\r\n          {topMenu.map((nav) => (\r\n            <Grid key={nav.title + \"_\" + nav.to} item>\r\n              <TopMenuItem item={nav} />\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { Box, Container, Grid } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport Logo from \"../common/Logo\";\r\nimport TopMenu from \"./TopMenu\";\r\n\r\n\r\ninterface Params {\r\n  isMd: boolean;\r\n  burgerWidth:number;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n}\r\n\r\nconst SiteHead = (props: Props) => {\r\n  const isMd = props.isMd !== undefined ? props.isMd : true;\r\n  const burgerWidth = props.burgerWidth ? props.burgerWidth : 1;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isMd && <TopMenu isBurger={true} burgerWidth={burgerWidth} burgerLeft={16} burgerTop={22} />}\r\n      <Box bgcolor={Branding.lighter}>\r\n        <Container>\r\n          <Box mb={0} py={2}>\r\n            <Grid container spacing={0}>\r\n              <Grid item xs={props.isMd ? 2 : 12}>\r\n                <Logo marginLeft={16 + burgerWidth} maxHeight={36}/>\r\n              </Grid>\r\n              {props.isMd && (<Grid item xs={10}>\r\n                <TopMenu isBurger={false} />\r\n              </Grid>)}\r\n            </Grid>\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SiteHead;\r\n","import Faker from \"faker\";\r\n\r\nexport const nationalitiesRentalForDemo = [\"Philippines\"];\r\n\r\nexport const religions = [\"Christian\", \"Hindu\", \"Muslim\"];\r\n\r\nexport const jobTitles = [\"House Maid\", \"Nanny\", \"Driver\", \"Chef\", \"Farmer\"];\r\nexport const jobTitlesRentalForDemo = [\"House Maid\", \"Nanny\"];\r\n\r\nexport const languageSkills = [\"Arabic\", \"English\"];\r\n\r\nexport const educationLevels = [\r\n  \"Elementary School\",\r\n  \"Intermediary School\",\r\n  \"High School\",\r\n  \"College\",\r\n];\r\n\r\nexport const otherSkills = [\r\n  \"Cooking\",\r\n  \"Washing\",\r\n  \"Cleaning\",\r\n  \"Babysitting\",\r\n  \"Care of Elder\",\r\n];\r\nexport const maritalStatus = [\"Single\", \"Married\"];\r\n\r\nexport const complexions = [\"White\", \"Fair\", \"Brown\", \"Black\", \"N/A\"];\r\n\r\n\r\n// TODO: Move all these defaults to STORE, then then STORE populates them based on the loaded data from API\r\n\r\nexport const minSalary = 80;\r\nexport const maxSalary = 600;\r\nexport const minProcessingFees = 600;\r\nexport const maxProcessingFees = 3400;\r\nexport const minExperience = 0;\r\nexport const maxExperience = 15;\r\nexport const minAge = 18;\r\nexport const maxAge = 65;\r\nexport const minWeight = 55;\r\nexport const maxWeight = 125;\r\n\r\n\r\nexport const localTransferExplanation =\r\n  \"This worker is already in Bahrain and will be Transferred from another sponsor.\";\r\n\r\nexport const rentalServicesDetailed = [\r\n  {\r\n    fullTitle: \"Lease hourly\",\r\n    title: \"By Hour\",\r\n    // remarks: Faker.random.arrayElement(demoRentalHourlyRemarks),\r\n    isRentalHourly: true,\r\n    feesBhdUnit: \"Hour\",\r\n    feesBhd: 2,\r\n  },\r\n  // {\r\n  //   title: \"Lease hourly scheduled\",\r\n  //   isRentalHourly: true,\r\n  //   // feesBhd: 4,\r\n  // },\r\n  {\r\n    fullTitle: \"Lease monthly\",\r\n    title: \"Full Month\",\r\n    // remarks: Faker.random.arrayElement(demoRentalMonthlyRemarks),\r\n    isRentalMonthly: true,\r\n    feesBhd: Faker.random.number({ min: 15, max: 35 }) * 10,\r\n    feesBhdUnit: \"Month\",\r\n  },\r\n  // {\r\n  //   fullTitle: \"Lease monthly with Stay Over\",\r\n  //   title: \"Full Month w/Stay\",\r\n  //   remarks: Faker.random.arrayElement(demoRentalMonthlyStayOverRemarks),\r\n  //   isRentalMonthlyStayOver: true,\r\n  //   feesBhd: Faker.random.number({ min: 15, max: 35 }) * 10,\r\n  //   feesBhdUnit: \"Month\",\r\n  // },\r\n];\r\n\r\nexport const rentalServices = rentalServicesDetailed.map((x) => x.fullTitle);\r\n","import { Box } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\r\nimport React from \"react\";\r\n\r\ninterface INiceBox {\r\n  p?: number;\r\n  my?: number;\r\n  children: React.ReactNode;\r\n  style?: CSSProperties;\r\n}\r\n\r\nconst NiceBox = (props: INiceBox) => {\r\n  const p = props.p === undefined ? 2 : props.p;\r\n  const my = props.my === undefined ? 1 : props.my;\r\n  return (\r\n    <Box\r\n      bgcolor=\"white\"\r\n      p={p}\r\n      my={my}\r\n      boxShadow=\"0 0 25px #00000011\"\r\n      borderRadius={10}\r\n      style={props.style}\r\n    >\r\n      {props.children}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NiceBox;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Box,\r\n  Collapse,\r\n  Divider,\r\n  FormGroup,\r\n  Grid,\r\n  Icon,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\ninterface IFilterGroup {\r\n  children?: React.ReactNode;\r\n  expanded?: boolean;\r\n  hideDivider?: boolean;\r\n  title: string;\r\n}\r\n\r\nclass FilterGroup extends Component<IFilterGroup, any> {\r\n  constructor(props: IFilterGroup) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: props.expanded === undefined ? true : props.expanded,\r\n    };\r\n\r\n    this.handleCollapseButton = this.handleCollapseButton.bind(this);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  handleCollapseButton() {\r\n    this.setState({\r\n      expanded: !this.state.expanded,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const iconSize = \"inherit\";\r\n    const expandLabel = this.state.expanded ? (\r\n      <Icon fontSize={iconSize}>expand_less</Icon>\r\n    ) : (\r\n      <Icon fontSize={iconSize}>expand_more</Icon>\r\n    );\r\n\r\n    const dividerM = this.state.expanded ? 2 : 1;\r\n\r\n    const divider =\r\n      this.props.hideDivider === true ? null : (\r\n        <Box my={dividerM} className=\"transitionDefault\">\r\n          <Divider variant=\"fullWidth\" />\r\n        </Box>\r\n      );\r\n\r\n    return (\r\n      <Box\r\n      // boxShadow={\"0 0 12px \" + Branding.light + \"ff\"}\r\n      // py={1}\r\n      // px={2}\r\n      // my={1}\r\n      // bgcolor=\"white\"\r\n      // borderRadius={10}\r\n      >\r\n        <Box pb={1}>\r\n          <Box\r\n            onClick={this.handleCollapseButton}\r\n            style={{ cursor: \"pointer\", userSelect:\"none\" }}\r\n          >\r\n            <Grid container>\r\n              <Grid item xs={10}>\r\n                <Box>\r\n                  <Typography\r\n                    color=\"textPrimary\"\r\n                    style={{ fontWeight: \"bold\" }}\r\n                  >\r\n                    {this.props.title}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={2}>\r\n                <Box textAlign=\"right\">{expandLabel}</Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Collapse in={this.state.expanded}>\r\n          <Box>\r\n            <FormGroup>{this.props.children}</FormGroup>\r\n          </Box>\r\n        </Collapse>\r\n        {divider}\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilterGroup;\r\n","import { Box, Slider } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst FilterSlider = (props: {\r\n  min: number;\r\n  max: number;\r\n  defaultValue: number | number[];\r\n  step: number;\r\n  isMd:boolean;\r\n}) => {\r\n  return (\r\n    <Box px={2} pt={props.isMd ? 0 : 4}>\r\n      <Slider\r\n        defaultValue={props.defaultValue}\r\n        valueLabelDisplay={props.isMd ? \"auto\" : \"on\"}\r\n        min={props.min}\r\n        max={props.max}\r\n        step={props.step}\r\n        marks={[\r\n          {\r\n            value: props.min,\r\n            label: props.min,\r\n          },\r\n          {\r\n            value: props.max,\r\n            label: props.max,\r\n          },\r\n        ]}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FilterSlider;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { maxAge, minAge } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterGroup from './FilterGroup';\r\nimport FilterSlider from './FilterSlider';\r\n\r\nconst FGAge = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t(\"age\")} expanded={expanded}>\r\n    <FilterSlider\r\n        defaultValue={[20, 45]}\r\n        min={minAge}\r\n        max={maxAge}\r\n        step={1}\r\n        isMd={props.isMd}\r\n      />\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGAge;","import { Box } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\nconst SmallText = (props: {\r\n  style?: React.CSSProperties;\r\n  children: React.ReactNode;\r\n  fontSize?: number;\r\n  title?: string;\r\n}) => {\r\n  const fontSize = props.fontSize ? props.fontSize : 13;\r\n  return (\r\n    <Box\r\n      title={props.title}\r\n      style={{\r\n        fontSize: fontSize,\r\n        color: Branding.text.secondary,\r\n        ...props.style,\r\n      }}\r\n    >\r\n      {typeof props.children === \"string\" && (\r\n        <div dangerouslySetInnerHTML={{ __html: props.children }}></div>\r\n      )}\r\n      {typeof props.children !== \"string\" && <>{props.children}</>}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SmallText;\r\n","import { Checkbox, FormControlLabel } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport SmallText from \"../common/SmallText\";\r\n\r\ninterface Props {\r\n  title: string;\r\n  value?: boolean;\r\n  onChange?:\r\n    (event: React.ChangeEvent<HTMLInputElement>, checked: boolean) => void;\r\n}\r\n\r\nexport default function FilterCheckboxItem(props: Props): ReactElement {\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ padding: 4, marginLeft: 16 }}\r\n          checked={props.value}\r\n          onChange={props.onChange}\r\n        />\r\n      }\r\n      label={<SmallText style={{ userSelect:\"none\" }}>{props.title}</SmallText>}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { educationLevels } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterCheckboxItem from './FilterCheckboxItem';\r\nimport FilterGroup from './FilterGroup';\r\n\r\nconst FGEducation = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t(\"educational-level\")} expanded={expanded}>\r\n    {educationLevels.map((title) => (\r\n        <FilterCheckboxItem key={title} title={title} />\r\n      ))}\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGEducation;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { maxExperience, minExperience } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterGroup from './FilterGroup';\r\nimport FilterSlider from './FilterSlider';\r\n\r\nconst FGExperience = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  // const expanded = props.expanded !== undefined ? props.expanded : false;\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t(\"experience\")} expanded={expanded}>\r\n    <FilterSlider\r\n        defaultValue={[minExperience, maxExperience]}\r\n        min={minExperience}\r\n        max={maxExperience}\r\n        step={1}\r\n        isMd={props.isMd}\r\n      />\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGExperience;","\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { IFilterGroupContainer } from \"estreeh-common-library/src/interfaces/IFilterGroupContainer\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n// import IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport FilterCheckboxItem from \"./FilterCheckboxItem\";\r\nimport FilterGroup from \"./FilterGroup\";\r\n\r\ninterface Props extends IFilterGroupContainer {\r\n  jobTitles: string[];\r\n}\r\n\r\nconst FGJobTitles = (props: Props) => {\r\n  const { t } = useTranslation();\r\n  const updateFiltersTwoYear = useStoreActions(\r\n    (action) => action.updateFiltersTwoYear\r\n  );\r\n  const expanded = props.isMd\r\n    ? props.expandedDefaultDesktop\r\n    : props.expandedDefaultMobile;\r\n\r\n  const jobTitles = useStoreState((s) => s.filterOptions.jobTitle.items);\r\n  const setJobTitles = useStoreActions(\r\n    (a) => a.filterOptions.jobTitle.setItems\r\n  );\r\n\r\n  return (\r\n    <FilterGroup title={t(\"job-title\")} expanded={expanded}>\r\n      {jobTitles.map((job) => (\r\n        <FilterCheckboxItem\r\n          key={job.key}\r\n          title={job.key}\r\n          value={job.value}\r\n          onChange={(event, checked) => {\r\n            jobTitles.forEach((j) => {\r\n              if (j.key === job.key) {\r\n                j.value = checked;\r\n              }\r\n            });\r\n            setJobTitles({ payload: jobTitles, setUnfiltered: false });\r\n            let array = jobTitles\r\n              .filter((n) => n.value === true)\r\n              .map((n) => n.key);\r\n            updateFiltersTwoYear({\r\n              key: \"jobTitle\",\r\n              array: array,\r\n            });\r\n          }}\r\n        />\r\n      ))}\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGJobTitles;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { languageSkills } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterCheckboxItem from './FilterCheckboxItem';\r\nimport FilterGroup from './FilterGroup';\r\n\r\nconst FGLanguageSkills = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t('language-skills')} expanded={expanded}>\r\n    {languageSkills.map((title) => (\r\n      <FilterCheckboxItem key={title} title={title} />\r\n    ))}\r\n  </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGLanguageSkills;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterCheckboxItem from './FilterCheckboxItem';\r\nimport FilterGroup from './FilterGroup';\r\n\r\nconst FGLocalTransfer = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t('urgent-need')} expanded={expanded}>\r\n    {[\"Available in Bahrain (Local Transfer)\"].map((title) => (\r\n      <FilterCheckboxItem key={title} title={title} />\r\n    ))}\r\n  </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGLocalTransfer;","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { maritalStatus } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterCheckboxItem from './FilterCheckboxItem';\r\nimport FilterGroup from './FilterGroup';\r\n\r\nconst FGMaritalStatus = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t('marital-status')} expanded={expanded} hideDivider={true}>\r\n    {maritalStatus.map((title) => (\r\n        <FilterCheckboxItem key={title} title={title} />\r\n      ))}\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGMaritalStatus;","import { useTranslation } from \"react-i18next\";\r\nimport { IFilterGroupContainer } from \"estreeh-common-library/src/interfaces/IFilterGroupContainer\";\r\n// import IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport FilterCheckboxItem from \"./FilterCheckboxItem\";\r\nimport FilterGroup from \"./FilterGroup\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\nconst FGNationalities = (props: IFilterGroupContainer) => {\r\n  const { t } = useTranslation();\r\n  const updateFiltersTwoYear = useStoreActions(\r\n    (a) => a.updateFiltersTwoYear\r\n  );\r\n  const expanded = props.isMd\r\n    ? props.expandedDefaultDesktop\r\n    : props.expandedDefaultMobile;\r\n\r\n  const nationalitiesState = useStoreState(\r\n    (s) => s.filterOptions.nationality.items\r\n  );\r\n  const setNationalitiesState = useStoreActions(\r\n    (s) => s.filterOptions.nationality.setItems\r\n  );\r\n\r\n  return (\r\n    <FilterGroup\r\n      title={t(\"nationalities\")}\r\n      expanded={expanded}\r\n      hideDivider={props.hideDivider}\r\n    >\r\n      {nationalitiesState.map((nationality) => (\r\n        <FilterCheckboxItem\r\n          key={nationality.key}\r\n          title={nationality.key}\r\n          value={nationality.value}\r\n          onChange={(e, checked) => {\r\n            let s = nationalitiesState.slice(0);\r\n            s.forEach((n) => {\r\n              if (n.key === nationality.key) {\r\n                n.value = checked;\r\n              }\r\n            });\r\n            setNationalitiesState({ payload: s, setUnfiltered: false });\r\n            let array = s.filter((n) => n.value === true).map((n) => n.key);\r\n            updateFiltersTwoYear({\r\n              key: \"nationality\",\r\n              array: array,\r\n            });\r\n          }}\r\n        />\r\n      ))}\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGNationalities;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  maxProcessingFees,\r\n  minProcessingFees,\r\n} from \"../../config/FilterOptions\";\r\nimport { IFilterGroupContainer } from \"estreeh-common-library/src/interfaces/IFilterGroupContainer\";\r\nimport FilterGroup from \"./FilterGroup\";\r\nimport FilterSlider from \"./FilterSlider\";\r\n\r\nconst FGProcessFees = (props: IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd\r\n    ? props.expandedDefaultDesktop\r\n    : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t('process-fees-bd')} expanded={expanded}>\r\n      <FilterSlider\r\n        defaultValue={[minProcessingFees, maxProcessingFees]}\r\n        min={minProcessingFees}\r\n        max={maxProcessingFees}\r\n        step={50}\r\n        isMd={props.isMd}\r\n      />\r\n    </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGProcessFees;\r\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { maxSalary, minSalary } from '../../config/FilterOptions';\r\nimport { IFilterGroupContainer } from 'estreeh-common-library/src/interfaces/IFilterGroupContainer';\r\nimport FilterGroup from './FilterGroup';\r\nimport FilterSlider from './FilterSlider';\r\n\r\nconst FGSalary = (props:IFilterGroupContainer) => {\r\n  const {t} = useTranslation();\r\n  const expanded = props.isMd ? props.expandedDefaultDesktop : props.expandedDefaultMobile;\r\n  return (\r\n    <FilterGroup title={t('salary-bd')} expanded={expanded}>\r\n    <FilterSlider\r\n      defaultValue={[minSalary, maxSalary]}\r\n      min={minSalary}\r\n      max={maxSalary}\r\n      step={10}\r\n      isMd={props.isMd}\r\n    />\r\n  </FilterGroup>\r\n  );\r\n};\r\n\r\nexport default FGSalary;","import { jobTitles, jobTitlesRentalForDemo } from \"../../config/FilterOptions\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport FGAge from \"./FGAge\";\r\nimport FGEducation from \"./FGEducation\";\r\nimport FGExperience from \"./FGExperience\";\r\nimport FGJobTitles from \"./FGJobTitles\";\r\nimport FGLanguageSkills from \"./FGLanguageSkills\";\r\nimport FGLocalTransfer from \"./FGLocalTransfer\";\r\nimport FGMaritalStatus from \"./FGMaritalStatus\";\r\nimport FGNationalities from \"./FGNationalities\";\r\nimport FGProcessFees from \"./FGProcessFees\";\r\nimport FGSalary from \"./FGSalary\";\r\n\r\nconst SideFilter = (props: {\r\n  is2Year: boolean;\r\n  isLeased: boolean;\r\n  isMd: boolean;\r\n}) => {\r\n  // const expanded = props.isMd ? undefined : false;\r\n\r\n  // TODO: Make all filters functional (Client side filtering)\r\n\r\n  return (\r\n    <NiceBox>\r\n      {props.is2Year && (\r\n        <>\r\n          <FGLocalTransfer hideDivider={false} expandedDefaultDesktop={true} expandedDefaultMobile={true} isMd={props.isMd} />\r\n          <FGNationalities hideDivider={false} expandedDefaultDesktop={true} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGJobTitles jobTitles={jobTitles} expandedDefaultDesktop={true} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGSalary expandedDefaultDesktop={true} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGProcessFees expandedDefaultDesktop={true} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGLanguageSkills expandedDefaultDesktop={false} expandedDefaultMobile={false} isMd={props.isMd}   />\r\n          <FGExperience expandedDefaultDesktop={false} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGEducation expandedDefaultDesktop={false} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGAge expandedDefaultDesktop={false} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n          <FGMaritalStatus expandedDefaultDesktop={false} expandedDefaultMobile={false} isMd={props.isMd}  />\r\n        </>\r\n      )}\r\n      {props.isLeased && (\r\n        <>\r\n          {/* <FGService  expandedDefaultDesktop={true} expandedDefaultMobile={true} isMd={props.isMd} /> */}\r\n          <FGJobTitles jobTitles={jobTitlesRentalForDemo} expandedDefaultDesktop={true} expandedDefaultMobile={true} isMd={props.isMd}  updatesRentalFilter={true} />\r\n          <FGNationalities hideDivider={true} expandedDefaultDesktop={true} expandedDefaultMobile={true} isMd={props.isMd}  updatesRentalFilter={true} />\r\n        </>\r\n      )}\r\n    </NiceBox>\r\n  );\r\n};\r\n\r\nexport default SideFilter;\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport { FilterList, ImportExport } from \"@material-ui/icons\";\r\nimport { Link, RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport SideFilter from \"./SideFilter\";\r\n\r\ninterface ISideFilterContainerParams {\r\n  is2Year: boolean;\r\n  isLeased: boolean;\r\n  isMd: boolean;\r\n  showSortButton: boolean;\r\n}\r\n\r\ninterface ISideFilterContainer\r\n  extends RouteComponentProps<ISideFilterContainerParams> {\r\n  }\r\n\r\nconst SideFilterContainer = (props: ISideFilterContainer) => {\r\n  // const isMd = useMediaQuery(MyTheme.breakpoints.up(\"md\"));\r\n  const isMd = props.isMd !== undefined ? props.isMd : true;\r\n  const is2Year = props.is2Year ? props.is2Year : false;\r\n  const isLeased = props.isLeased ? props.isLeased : false;\r\n  const linkStyles: React.CSSProperties = {\r\n    // display: \"block\",\r\n    textDecoration: \"none\",\r\n  };\r\n  const buttonStyles: React.CSSProperties = {\r\n    width: props.showSortButton === true ? \"50%\" : \"100%\",\r\n    borderRadius: 0,\r\n    fontWeight: \"bold\",\r\n    // border:0,\r\n    // borderBottom:\"1px solid #000\",\r\n    backgroundColor: \"white\",\r\n  };\r\n  return (\r\n    <React.Fragment key=\"sideFilterHooray\">\r\n      {isMd && <SideFilter is2Year={is2Year} isLeased={isLeased} isMd={isMd} />}\r\n      {!isMd && (\r\n        <Box pt={1}>\r\n {props.showSortButton === true && (          <Link to=\".\" style={linkStyles}>\r\n            <Button style={{ ...buttonStyles, borderRightColor: \"#FFF\" }} variant=\"outlined\">\r\n              <ImportExport />\r\n              &nbsp;Sort\r\n            </Button>\r\n          </Link>)}\r\n          <Link to={props.is2Year ? \"/agencies/contract-filters\" : \"/agencies/leased-filters\"} style={linkStyles}>\r\n            <Button\r\n              style={{ ...buttonStyles }}\r\n              variant=\"outlined\"\r\n            >\r\n              <FilterList />\r\n              &nbsp;Filter\r\n            </Button>\r\n          </Link>\r\n        </Box>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SideFilterContainer;\r\n","import { Icon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst RatingHtml = (props: { rating: number }) => {\r\n  const {t} = useTranslation();\r\n  const rating = props.rating;\r\n  const iconSize = 15;\r\n\r\n  if (rating >= 4.25) return <React.Fragment> {t(\"rating.amazing\")}</React.Fragment>;\r\n  if (rating >= 3.5) return <React.Fragment> {t(\"rating.good\")}</React.Fragment>;\r\n  if (rating >= 3.5) return <React.Fragment><Icon style={{ fontSize:iconSize }}>sentiment_satisfied_sharp</Icon> Good!</React.Fragment>;\r\n  if (rating >= 3) return <React.Fragment> {t(\"rating.ok\")}</React.Fragment>;\r\n  if (rating >= 3) return <React.Fragment><Icon style={{ fontSize:iconSize }}>sentiment_satisfied</Icon> Ok</React.Fragment>;\r\n  return <React.Fragment>{t(\"rating.not-yet-rated\")}</React.Fragment>;\r\n};\r\n\r\nexport default RatingHtml;\r\n","import { Link } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport RatingHtml from \"../common/RatingHtml\";\r\nimport SmallText from \"../common/SmallText\";\r\n\r\nconst AgencyRatingInfo = (props: { agency: IAgency }) => {\r\n  const ratingsCount = props.agency.reviews?.length;\r\n  const {t} = useTranslation();\r\n  // const reviewsCount = props.agency.reviews?.filter((review) => {\r\n  //   if (review.text) return review.text?.length > 0;\r\n  //   return false;\r\n  // }).length;\r\n  return (\r\n    <SmallText>\r\n      <RatingHtml rating={props.agency.rating} />\r\n      {props.agency.showReviewsRatings && (\r\n        <React.Fragment>\r\n          {/* <span> (Based on {ratingsCount} ratings)</span> */}\r\n          <span> - </span>\r\n          {/* <Link to=\"#\">{t(\"reviews\")} ({reviewsCount})</Link> */}\r\n          <Link to=\"#\">{t(\"ratings\")} ({ratingsCount})</Link>\r\n        </React.Fragment>\r\n      )}\r\n    </SmallText>\r\n  );\r\n};\r\n\r\nexport default AgencyRatingInfo;\r\n","import { Chip } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\nconst OrangeChip = (props:{\r\n  label:string;\r\n}) => {\r\n  return (\r\n    <Chip\r\n      component=\"span\"\r\n      label={props.label}\r\n      size=\"small\"\r\n      color=\"secondary\"\r\n      style={{\r\n        borderRadius: 5,\r\n        fontSize: 12,\r\n        height: 20,\r\n        fontWeight:\"bold\"\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default OrangeChip;","import React, { ReactElement } from \"react\";\r\nimport { ICountryChip } from \"estreeh-common-library/src/interfaces/ICountryChip\";\r\n\r\ninterface Props {\r\n  country: ICountryChip;\r\n  showFees: boolean;\r\n  height?: number;\r\n  marginRight?: number;\r\n}\r\n\r\nexport default function CountryFlag(props: Props): ReactElement {\r\n  const flagStyle: React.CSSProperties = {\r\n    height: props.height !== undefined ? props.height : 12,\r\n    // verticalAlign: \"text-bottom\",\r\n    // verticalAlign: \"middle\",\r\n    marginRight: props.marginRight !== undefined ? props.marginRight : 4,\r\n    // border:\"1px solid #888\",\r\n    boxShadow:\"0 0 3px #666\",\r\n    display:\"inline\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        alt={props.country.country}\r\n        src={\r\n          \"http://purecatamphetamine.github.io/country-flag-icons/3x2/\" +\r\n          props.country.countryCode +\r\n          \".svg\"\r\n        }\r\n        style={flagStyle}\r\n      />\r\n      {props.showFees ? props.country.titleTranslatedWithFees : props.country.titleTranslated}\r\n    </>\r\n  );\r\n}\r\n","import { Chip } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport CountryFlag from \"./CountryFlag\";\r\nimport { ICountryChip } from \"estreeh-common-library/src/interfaces/ICountryChip\";\r\n\r\nconst CardChips = (props: {\r\n  variant?: \"chips\" | \"text\";\r\n  titles: string[];\r\n  countryChips?: ICountryChip[];\r\n  showFees: boolean;\r\n}) => {\r\n  const variant = props.variant ? props.variant : \"chips\";\r\n  const showCountryFlag = props.countryChips !== undefined;\r\n  const chipStyle: React.CSSProperties = {\r\n    background: Branding.lightest,\r\n    margin: \"4px 2px 4px 0\",\r\n    height: 22,\r\n    fontSize: 11,\r\n    borderRadius: Branding.borderRadius.niceRadius,\r\n  };\r\n\r\n  let chips: React.ReactNode;\r\n  if (variant === \"chips\" && !showCountryFlag) {\r\n    chips = props.titles.map((title) => (\r\n      <Chip key={title} label={title} size=\"small\" style={chipStyle} />\r\n    ));\r\n  }\r\n  if (variant === \"chips\" && showCountryFlag && props.countryChips) {\r\n    chips = props.countryChips.map((country) => (\r\n      <Chip\r\n        key={country.country}\r\n        label={<CountryFlag country={country} showFees={props.showFees} />}\r\n        size=\"small\"\r\n        style={chipStyle}\r\n      />\r\n    ));\r\n  }\r\n  if (variant === \"text\") {\r\n    chips = props.titles.join(\", \");\r\n  }\r\n  return <React.Fragment>{chips}</React.Fragment>;\r\n};\r\n\r\nexport default CardChips;\r\n","import React from \"react\";\r\nimport IAgencyServiceSelectableWorkers from \"estreeh-common-library/src/interfaces/IAgencyServiceSelectableWorkers\";\r\nimport CardChips from \"../common/CardChips\";\r\n\r\nconst AgencyTabRentalChips = (props: {\r\n  services: IAgencyServiceSelectableWorkers[];\r\n  showContract: boolean;\r\n  showRental: boolean;\r\n  renderAsText: boolean;\r\n  showPriceOnly: boolean;\r\n}) => {\r\n  let render: JSX.Element[] | any;\r\n  let services: IAgencyServiceSelectableWorkers[] = [];\r\n\r\n  const ChipLabel = (service: IAgencyServiceSelectableWorkers) => {\r\n    let unit = service.feesBhdUnit ? \"/\" + service.feesBhdUnit : \"\";\r\n    let price = service.feesBhd\r\n      ? service.feesBhd.toString() + \" BD\" + unit\r\n      : \"\";\r\n    let priceWithParanthesis = price.length > 0 ? \" (\" + price + \")\" : \"\";\r\n\r\n    return props.showPriceOnly ? price : service.title + priceWithParanthesis;\r\n  };\r\n\r\n  let contractServices = props.services.filter((service) => {\r\n    return service.isTwoYearContract;\r\n  });\r\n\r\n  let rentalServices = props.services.filter((service) => {\r\n    return (\r\n      service.isRentalHourly ||\r\n      service.isRentalMonthly ||\r\n      service.isRentalMonthlyStayOver\r\n    );\r\n  });\r\n\r\n  if (props.showContract) services.push(...contractServices);\r\n  if (props.showRental) services.push(...rentalServices);\r\n\r\n  let chipTitles = services.map((service) => ChipLabel(service));\r\n\r\n  if (props.renderAsText) {\r\n    render = <CardChips titles={chipTitles} variant=\"text\" showFees={false} />;\r\n  } else {\r\n    render = <CardChips titles={chipTitles} showFees={false} />;\r\n  }\r\n  return <React.Fragment>{render}</React.Fragment>;\r\n};\r\n\r\nexport default AgencyTabRentalChips;\r\n","export const CountryCodes = [\r\n  {\r\n    country_code: \"AF\",\r\n    country_name: \"Afghanistan\",\r\n    dialling_code: \"+93\",\r\n  },\r\n  {\r\n    country_code: \"AL\",\r\n    country_name: \"Albania\",\r\n    dialling_code: \"+355\",\r\n  },\r\n  {\r\n    country_code: \"DZ\",\r\n    country_name: \"Algeria\",\r\n    dialling_code: \"+213\",\r\n  },\r\n  {\r\n    country_code: \"AS\",\r\n    country_name: \"American Samoa\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"AD\",\r\n    country_name: \"Andorra\",\r\n    dialling_code: \"+376\",\r\n  },\r\n  {\r\n    country_code: \"AO\",\r\n    country_name: \"Angola\",\r\n    dialling_code: \"+244\",\r\n  },\r\n  {\r\n    country_code: \"AI\",\r\n    country_name: \"Anguilla\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"AG\",\r\n    country_name: \"Antigua\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"AR\",\r\n    country_name: \"Argentina\",\r\n    dialling_code: \"+54\",\r\n  },\r\n  {\r\n    country_code: \"AM\",\r\n    country_name: \"Armenia\",\r\n    dialling_code: \"+374\",\r\n  },\r\n  {\r\n    country_code: \"AW\",\r\n    country_name: \"Aruba\",\r\n    dialling_code: \"+297\",\r\n  },\r\n  {\r\n    country_code: \"AU\",\r\n    country_name: \"Australia\",\r\n    dialling_code: \"+61\",\r\n  },\r\n  {\r\n    country_code: \"AI\",\r\n    country_name: \"Austria\",\r\n    dialling_code: \"+43\",\r\n  },\r\n  {\r\n    country_code: \"AZ\",\r\n    country_name: \"Azerbaijan\",\r\n    dialling_code: \"+994\",\r\n  },\r\n  {\r\n    country_code: \"BH\",\r\n    country_name: \"Bahrain\",\r\n    dialling_code: \"+973\",\r\n  },\r\n  {\r\n    country_code: \"BD\",\r\n    country_name: \"Bangladesh\",\r\n    dialling_code: \"+880\",\r\n  },\r\n  {\r\n    country_code: \"BB\",\r\n    country_name: \"Barbados\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"BY\",\r\n    country_name: \"Belarus\",\r\n    dialling_code: \"+375\",\r\n  },\r\n  {\r\n    country_code: \"BE\",\r\n    country_name: \"Belgium\",\r\n    dialling_code: \"+32\",\r\n  },\r\n  {\r\n    country_code: \"BZ\",\r\n    country_name: \"Belize\",\r\n    dialling_code: \"+501\",\r\n  },\r\n  {\r\n    country_code: \"BJ\",\r\n    country_name: \"Benin\",\r\n    dialling_code: \"+229\",\r\n  },\r\n  {\r\n    country_code: \"BM\",\r\n    country_name: \"Bermuda\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"BT\",\r\n    country_name: \"Bhutan\",\r\n    dialling_code: \"+975\",\r\n  },\r\n  {\r\n    country_code: \"BO\",\r\n    country_name: \"Bolivia\",\r\n    dialling_code: \"+591\",\r\n  },\r\n  {\r\n    country_code: \"BA\",\r\n    country_name: \"Bosnia and Herzegovina\",\r\n    dialling_code: \"+387\",\r\n  },\r\n  {\r\n    country_code: \"BW\",\r\n    country_name: \"Botswana\",\r\n    dialling_code: \"+267\",\r\n  },\r\n  {\r\n    country_code: \"BR\",\r\n    country_name: \"Brazil\",\r\n    dialling_code: \"+55\",\r\n  },\r\n  {\r\n    country_code: \"IO\",\r\n    country_name: \"British Indian Ocean Territory\",\r\n    dialling_code: \"+246\",\r\n  },\r\n  {\r\n    country_code: \"VG\",\r\n    country_name: \"British Virgin Islands\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"BN\",\r\n    country_name: \"Brunei\",\r\n    dialling_code: \"+673\",\r\n  },\r\n  {\r\n    country_code: \"BG\",\r\n    country_name: \"Bulgaria\",\r\n    dialling_code: \"+359\",\r\n  },\r\n  {\r\n    country_code: \"BF\",\r\n    country_name: \"Burkina Faso\",\r\n    dialling_code: \"+226\",\r\n  },\r\n  {\r\n    country_code: \"MM\",\r\n    country_name: \"Burma Myanmar\",\r\n    dialling_code: \"+95\",\r\n  },\r\n  {\r\n    country_code: \"BI\",\r\n    country_name: \"Burundi\",\r\n    dialling_code: \"+257\",\r\n  },\r\n  {\r\n    country_code: \"KH\",\r\n    country_name: \"Cambodia\",\r\n    dialling_code: \"+855\",\r\n  },\r\n  {\r\n    country_code: \"CM\",\r\n    country_name: \"Cameroon\",\r\n    dialling_code: \"+237\",\r\n  },\r\n  {\r\n    country_code: \"CA\",\r\n    country_name: \"Canada\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"CV\",\r\n    country_name: \"Cape Verde\",\r\n    dialling_code: \"+238\",\r\n  },\r\n  {\r\n    country_code: \"KY\",\r\n    country_name: \"Cayman Islands\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"CF\",\r\n    country_name: \"Central African Republic\",\r\n    dialling_code: \"+236\",\r\n  },\r\n  {\r\n    country_code: \"ID\",\r\n    country_name: \"Chad\",\r\n    dialling_code: \"+235\",\r\n  },\r\n  {\r\n    country_code: \"CL\",\r\n    country_name: \"Chile\",\r\n    dialling_code: \"+56\",\r\n  },\r\n  {\r\n    country_code: \"CN\",\r\n    country_name: \"China\",\r\n    dialling_code: \"+86\",\r\n  },\r\n  {\r\n    country_code: \"CO\",\r\n    country_name: \"Colombia\",\r\n    dialling_code: \"+57\",\r\n  },\r\n  {\r\n    country_code: \"KM\",\r\n    country_name: \"Comoros\",\r\n    dialling_code: \"+269\",\r\n  },\r\n  {\r\n    country_code: \"CK\",\r\n    country_name: \"Cook Islands\",\r\n    dialling_code: \"+682\",\r\n  },\r\n  {\r\n    country_code: \"CR\",\r\n    country_name: \"Costa Rica\",\r\n    dialling_code: \"+506\",\r\n  },\r\n  {\r\n    country_code: \"CI\",\r\n    country_name: \"Cte d'Ivoire\",\r\n    dialling_code: \"+225\",\r\n  },\r\n  {\r\n    country_code: \"HR\",\r\n    country_name: \"Croatia\",\r\n    dialling_code: \"+385\",\r\n  },\r\n  {\r\n    country_code: \"CU\",\r\n    country_name: \"Cuba\",\r\n    dialling_code: \"+53\",\r\n  },\r\n  {\r\n    country_code: \"CY\",\r\n    country_name: \"Cyprus\",\r\n    dialling_code: \"+357\",\r\n  },\r\n  {\r\n    country_code: \"CZ\",\r\n    country_name: \"Czech Republic\",\r\n    dialling_code: \"+420\",\r\n  },\r\n  {\r\n    country_code: \"CD\",\r\n    country_name: \"Democratic Republic of Congo\",\r\n    dialling_code: \"+243\",\r\n  },\r\n  {\r\n    country_code: \"DK\",\r\n    country_name: \"Denmark\",\r\n    dialling_code: \"+45\",\r\n  },\r\n  {\r\n    country_code: \"DJ\",\r\n    country_name: \"Djibouti\",\r\n    dialling_code: \"+253\",\r\n  },\r\n  {\r\n    country_code: \"DM\",\r\n    country_name: \"Dominica\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"DO\",\r\n    country_name: \"Dominican Republic\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"EC\",\r\n    country_name: \"Ecuador\",\r\n    dialling_code: \"+593\",\r\n  },\r\n  {\r\n    country_code: \"EG\",\r\n    country_name: \"Egypt\",\r\n    dialling_code: \"+20\",\r\n  },\r\n  {\r\n    country_code: \"SV\",\r\n    country_name: \"El Salvador\",\r\n    dialling_code: \"+503\",\r\n  },\r\n  {\r\n    country_code: \"GQ\",\r\n    country_name: \"Equatorial Guinea\",\r\n    dialling_code: \"+240\",\r\n  },\r\n  {\r\n    country_code: \"ER\",\r\n    country_name: \"Eritrea\",\r\n    dialling_code: \"+291\",\r\n  },\r\n  {\r\n    country_code: \"EE\",\r\n    country_name: \"Estonia\",\r\n    dialling_code: \"+372\",\r\n  },\r\n  {\r\n    country_code: \"ET\",\r\n    country_name: \"Ethiopia\",\r\n    dialling_code: \"+251\",\r\n  },\r\n  {\r\n    country_code: \"FK\",\r\n    country_name: \"Falkland Islands\",\r\n    dialling_code: \"+500\",\r\n  },\r\n  {\r\n    country_code: \"FO\",\r\n    country_name: \"Faroe Islands\",\r\n    dialling_code: \"+298\",\r\n  },\r\n  {\r\n    country_code: \"FM\",\r\n    country_name: \"Federated States of Micronesia\",\r\n    dialling_code: \"+691\",\r\n  },\r\n  {\r\n    country_code: \"FJ\",\r\n    country_name: \"Fiji\",\r\n    dialling_code: \"+679\",\r\n  },\r\n  {\r\n    country_code: \"FI\",\r\n    country_name: \"Finland\",\r\n    dialling_code: \"+358\",\r\n  },\r\n  {\r\n    country_code: \"FR\",\r\n    country_name: \"France\",\r\n    dialling_code: \"+33\",\r\n  },\r\n  {\r\n    country_code: \"GF\",\r\n    country_name: \"French Guiana\",\r\n    dialling_code: \"+594\",\r\n  },\r\n  {\r\n    country_code: \"PF\",\r\n    country_name: \"French Polynesia\",\r\n    dialling_code: \"+689\",\r\n  },\r\n  {\r\n    country_code: \"GA\",\r\n    country_name: \"Gabon\",\r\n    dialling_code: \"+241\",\r\n  },\r\n  {\r\n    country_code: \"GE\",\r\n    country_name: \"Georgia\",\r\n    dialling_code: \"+995\",\r\n  },\r\n  {\r\n    country_code: \"DE\",\r\n    country_name: \"Germany\",\r\n    dialling_code: \"+49\",\r\n  },\r\n  {\r\n    country_code: \"GH\",\r\n    country_name: \"Ghana\",\r\n    dialling_code: \"+233\",\r\n  },\r\n  {\r\n    country_code: \"GI\",\r\n    country_name: \"Gibraltar\",\r\n    dialling_code: \"+350\",\r\n  },\r\n  {\r\n    country_code: \"GR\",\r\n    country_name: \"Greece\",\r\n    dialling_code: \"+30\",\r\n  },\r\n  {\r\n    country_code: \"GL\",\r\n    country_name: \"Greenland\",\r\n    dialling_code: \"+299\",\r\n  },\r\n  {\r\n    country_code: \"GD\",\r\n    country_name: \"Grenada\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"GP\",\r\n    country_name: \"Guadeloupe\",\r\n    dialling_code: \"+590\",\r\n  },\r\n  {\r\n    country_code: \"GU\",\r\n    country_name: \"Guam\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"GT\",\r\n    country_name: \"Guatemala\",\r\n    dialling_code: \"+502\",\r\n  },\r\n  {\r\n    country_code: \"GN\",\r\n    country_name: \"Guinea\",\r\n    dialling_code: \"+224\",\r\n  },\r\n  {\r\n    country_code: \"GW\",\r\n    country_name: \"Guinea-Bissau\",\r\n    dialling_code: \"+245\",\r\n  },\r\n  {\r\n    country_code: \"GY\",\r\n    country_name: \"Guyana\",\r\n    dialling_code: \"+592\",\r\n  },\r\n  {\r\n    country_code: \"HT\",\r\n    country_name: \"Haiti\",\r\n    dialling_code: \"+509\",\r\n  },\r\n  {\r\n    country_code: \"HN\",\r\n    country_name: \"Honduras\",\r\n    dialling_code: \"+504\",\r\n  },\r\n  {\r\n    country_code: \"HK\",\r\n    country_name: \"Hong Kong\",\r\n    dialling_code: \"+852\",\r\n  },\r\n  {\r\n    country_code: \"HU\",\r\n    country_name: \"Hungary\",\r\n    dialling_code: \"+36\",\r\n  },\r\n  {\r\n    country_code: \"IS\",\r\n    country_name: \"Iceland\",\r\n    dialling_code: \"+354\",\r\n  },\r\n  {\r\n    country_code: \"IN\",\r\n    country_name: \"India\",\r\n    dialling_code: \"+91\",\r\n  },\r\n  {\r\n    country_code: \"ID\",\r\n    country_name: \"Indonesia\",\r\n    dialling_code: \"+62\",\r\n  },\r\n  {\r\n    country_code: \"IR\",\r\n    country_name: \"Iran\",\r\n    dialling_code: \"+98\",\r\n  },\r\n  {\r\n    country_code: \"IQ\",\r\n    country_name: \"Iraq\",\r\n    dialling_code: \"+964\",\r\n  },\r\n  {\r\n    country_code: \"IE\",\r\n    country_name: \"Ireland\",\r\n    dialling_code: \"+353\",\r\n  },\r\n  {\r\n    country_code: \"IL\",\r\n    country_name: \"Israel\",\r\n    dialling_code: \"+972\",\r\n  },\r\n  {\r\n    country_code: \"IT\",\r\n    country_name: \"Italy\",\r\n    dialling_code: \"+39\",\r\n  },\r\n  {\r\n    country_code: \"JM\",\r\n    country_name: \"Jamaica\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"JP\",\r\n    country_name: \"Japan\",\r\n    dialling_code: \"+81\",\r\n  },\r\n  {\r\n    country_code: \"JO\",\r\n    country_name: \"Jordan\",\r\n    dialling_code: \"+962\",\r\n  },\r\n  {\r\n    country_code: \"KZ\",\r\n    country_name: \"Kazakhstan\",\r\n    dialling_code: \"+7\",\r\n  },\r\n  {\r\n    country_code: \"KE\",\r\n    country_name: \"Kenya\",\r\n    dialling_code: \"+254\",\r\n  },\r\n  {\r\n    country_code: \"KI\",\r\n    country_name: \"Kiribati\",\r\n    dialling_code: \"+686\",\r\n  },\r\n  {\r\n    country_code: \"XK\",\r\n    country_name: \"Kosovo\",\r\n    dialling_code: \"+381\",\r\n  },\r\n  {\r\n    country_code: \"KW\",\r\n    country_name: \"Kuwait\",\r\n    dialling_code: \"+965\",\r\n  },\r\n  {\r\n    country_code: \"KG\",\r\n    country_name: \"Kyrgyzstan\",\r\n    dialling_code: \"+996\",\r\n  },\r\n  {\r\n    country_code: \"LA\",\r\n    country_name: \"Laos\",\r\n    dialling_code: \"+856\",\r\n  },\r\n  {\r\n    country_code: \"LV\",\r\n    country_name: \"Latvia\",\r\n    dialling_code: \"+371\",\r\n  },\r\n  {\r\n    country_code: \"LB\",\r\n    country_name: \"Lebanon\",\r\n    dialling_code: \"+961\",\r\n  },\r\n  {\r\n    country_code: \"LS\",\r\n    country_name: \"Lesotho\",\r\n    dialling_code: \"+266\",\r\n  },\r\n  {\r\n    country_code: \"LR\",\r\n    country_name: \"Liberia\",\r\n    dialling_code: \"+231\",\r\n  },\r\n  {\r\n    country_code: \"LY\",\r\n    country_name: \"Libya\",\r\n    dialling_code: \"+218\",\r\n  },\r\n  {\r\n    country_code: \"LI\",\r\n    country_name: \"Liechtenstein\",\r\n    dialling_code: \"+423\",\r\n  },\r\n  {\r\n    country_code: \"LT\",\r\n    country_name: \"Lithuania\",\r\n    dialling_code: \"+370\",\r\n  },\r\n  {\r\n    country_code: \"LU\",\r\n    country_name: \"Luxembourg\",\r\n    dialling_code: \"+352\",\r\n  },\r\n  {\r\n    country_code: \"MO\",\r\n    country_name: \"Macau\",\r\n    dialling_code: \"+853\",\r\n  },\r\n  {\r\n    country_code: \"MK\",\r\n    country_name: \"Macedonia\",\r\n    dialling_code: \"+389\",\r\n  },\r\n  {\r\n    country_code: \"MG\",\r\n    country_name: \"Madagascar\",\r\n    dialling_code: \"+261\",\r\n  },\r\n  {\r\n    country_code: \"MW\",\r\n    country_name: \"Malawi\",\r\n    dialling_code: \"+265\",\r\n  },\r\n  {\r\n    country_code: \"MY\",\r\n    country_name: \"Malaysia\",\r\n    dialling_code: \"+60\",\r\n  },\r\n  {\r\n    country_code: \"MV\",\r\n    country_name: \"Maldives\",\r\n    dialling_code: \"+960\",\r\n  },\r\n  {\r\n    country_code: \"ML\",\r\n    country_name: \"Mali\",\r\n    dialling_code: \"+223\",\r\n  },\r\n  {\r\n    country_code: \"MT\",\r\n    country_name: \"Malta\",\r\n    dialling_code: \"+356\",\r\n  },\r\n  {\r\n    country_code: \"MH\",\r\n    country_name: \"Marshall Islands\",\r\n    dialling_code: \"+692\",\r\n  },\r\n  {\r\n    country_code: \"MQ\",\r\n    country_name: \"Martinique\",\r\n    dialling_code: \"+596\",\r\n  },\r\n  {\r\n    country_code: \"MR\",\r\n    country_name: \"Mauritania\",\r\n    dialling_code: \"+222\",\r\n  },\r\n  {\r\n    country_code: \"MU\",\r\n    country_name: \"Mauritius\",\r\n    dialling_code: \"+230\",\r\n  },\r\n  {\r\n    country_code: \"YT\",\r\n    country_name: \"Mayotte\",\r\n    dialling_code: \"+262\",\r\n  },\r\n  {\r\n    country_code: \"MX\",\r\n    country_name: \"Mexico\",\r\n    dialling_code: \"+52\",\r\n  },\r\n  {\r\n    country_code: \"MD\",\r\n    country_name: \"Moldova\",\r\n    dialling_code: \"+373\",\r\n  },\r\n  {\r\n    country_code: \"MC\",\r\n    country_name: \"Monaco\",\r\n    dialling_code: \"+377\",\r\n  },\r\n  {\r\n    country_code: \"MN\",\r\n    country_name: \"Mongolia\",\r\n    dialling_code: \"+976\",\r\n  },\r\n  {\r\n    country_code: \"ME\",\r\n    country_name: \"Montenegro\",\r\n    dialling_code: \"+382\",\r\n  },\r\n  {\r\n    country_code: \"MS\",\r\n    country_name: \"Montserrat\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"MA\",\r\n    country_name: \"Morocco\",\r\n    dialling_code: \"+212\",\r\n  },\r\n  {\r\n    country_code: \"MZ\",\r\n    country_name: \"Mozambique\",\r\n    dialling_code: \"+258\",\r\n  },\r\n  {\r\n    country_code: \"NA\",\r\n    country_name: \"Namibia\",\r\n    dialling_code: \"+264\",\r\n  },\r\n  {\r\n    country_code: \"NR\",\r\n    country_name: \"Nauru\",\r\n    dialling_code: \"+674\",\r\n  },\r\n  {\r\n    country_code: \"NP\",\r\n    country_name: \"Nepal\",\r\n    dialling_code: \"+977\",\r\n  },\r\n  {\r\n    country_code: \"NL\",\r\n    country_name: \"Netherlands\",\r\n    dialling_code: \"+31\",\r\n  },\r\n  {\r\n    country_code: \"AN\",\r\n    country_name: \"Netherlands Antilles\",\r\n    dialling_code: \"+599\",\r\n  },\r\n  {\r\n    country_code: \"NC\",\r\n    country_name: \"New Caledonia\",\r\n    dialling_code: \"+687\",\r\n  },\r\n  {\r\n    country_code: \"NZ\",\r\n    country_name: \"New Zealand\",\r\n    dialling_code: \"+64\",\r\n  },\r\n  {\r\n    country_code: \"NI\",\r\n    country_name: \"Nicaragua\",\r\n    dialling_code: \"+505\",\r\n  },\r\n  {\r\n    country_code: \"NE\",\r\n    country_name: \"Niger\",\r\n    dialling_code: \"+227\",\r\n  },\r\n  {\r\n    country_code: \"NG\",\r\n    country_name: \"Nigeria\",\r\n    dialling_code: \"+234\",\r\n  },\r\n  {\r\n    country_code: \"NU\",\r\n    country_name: \"Niue\",\r\n    dialling_code: \"+683\",\r\n  },\r\n  {\r\n    country_code: \"NF\",\r\n    country_name: \"Norfolk Island\",\r\n    dialling_code: \"+672\",\r\n  },\r\n  {\r\n    country_code: \"KP\",\r\n    country_name: \"North Korea\",\r\n    dialling_code: \"+850\",\r\n  },\r\n  {\r\n    country_code: \"MP\",\r\n    country_name: \"Northern Mariana Islands\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"NO\",\r\n    country_name: \"Norway\",\r\n    dialling_code: \"+47\",\r\n  },\r\n  {\r\n    country_code: \"OM\",\r\n    country_name: \"Oman\",\r\n    dialling_code: \"+968\",\r\n  },\r\n  {\r\n    country_code: \"PK\",\r\n    country_name: \"Pakistan\",\r\n    dialling_code: \"+92\",\r\n  },\r\n  {\r\n    country_code: \"PW\",\r\n    country_name: \"Palau\",\r\n    dialling_code: \"+680\",\r\n  },\r\n  {\r\n    country_code: \"PS\",\r\n    country_name: \"Palestine\",\r\n    dialling_code: \"+970\",\r\n  },\r\n  {\r\n    country_code: \"PA\",\r\n    country_name: \"Panama\",\r\n    dialling_code: \"+507\",\r\n  },\r\n  {\r\n    country_code: \"PG\",\r\n    country_name: \"Papua New Guinea\",\r\n    dialling_code: \"+675\",\r\n  },\r\n  {\r\n    country_code: \"PY\",\r\n    country_name: \"Paraguay\",\r\n    dialling_code: \"+595\",\r\n  },\r\n  {\r\n    country_code: \"PE\",\r\n    country_name: \"Peru\",\r\n    dialling_code: \"+51\",\r\n  },\r\n  {\r\n    country_code: \"PH\",\r\n    country_name: \"Philippines\",\r\n    dialling_code: \"+63\",\r\n  },\r\n  {\r\n    country_code: \"PL\",\r\n    country_name: \"Poland\",\r\n    dialling_code: \"+48\",\r\n  },\r\n  {\r\n    country_code: \"PT\",\r\n    country_name: \"Portugal\",\r\n    dialling_code: \"+351\",\r\n  },\r\n  {\r\n    country_code: \"PR\",\r\n    country_name: \"Puerto Rico\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"QA\",\r\n    country_name: \"Qatar\",\r\n    dialling_code: \"+974\",\r\n  },\r\n  {\r\n    country_code: \"CG\",\r\n    country_name: \"Republic of the Congo\",\r\n    dialling_code: \"+242\",\r\n  },\r\n  {\r\n    country_code: \"RE\",\r\n    country_name: \"Runion\",\r\n    dialling_code: \"+262\",\r\n  },\r\n  {\r\n    country_code: \"RO\",\r\n    country_name: \"Romania\",\r\n    dialling_code: \"+40\",\r\n  },\r\n  {\r\n    country_code: \"RU\",\r\n    country_name: \"Russia\",\r\n    dialling_code: \"+7\",\r\n  },\r\n  {\r\n    country_code: \"RW\",\r\n    country_name: \"Rwanda\",\r\n    dialling_code: \"+250\",\r\n  },\r\n  {\r\n    country_code: \"BL\",\r\n    country_name: \"Saint Barthlemy\",\r\n    dialling_code: \"+590\",\r\n  },\r\n  {\r\n    country_code: \"SH\",\r\n    country_name: \"Saint Helena\",\r\n    dialling_code: \"+290\",\r\n  },\r\n  {\r\n    country_code: \"KN\",\r\n    country_name: \"Saint Kitts and Nevis\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"MF\",\r\n    country_name: \"Saint Martin\",\r\n    dialling_code: \"+590\",\r\n  },\r\n  {\r\n    country_code: \"PM\",\r\n    country_name: \"Saint Pierre and Miquelon\",\r\n    dialling_code: \"+508\",\r\n  },\r\n  {\r\n    country_code: \"VC\",\r\n    country_name: \"Saint Vincent and the Grenadines\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"WS\",\r\n    country_name: \"Samoa\",\r\n    dialling_code: \"+685\",\r\n  },\r\n  {\r\n    country_code: \"SM\",\r\n    country_name: \"San Marino\",\r\n    dialling_code: \"+378\",\r\n  },\r\n  {\r\n    country_code: \"ST\",\r\n    country_name: \"So Tom and Prncipe\",\r\n    dialling_code: \"+239\",\r\n  },\r\n  {\r\n    country_code: \"SA\",\r\n    country_name: \"Saudi Arabia\",\r\n    dialling_code: \"+966\",\r\n  },\r\n  {\r\n    country_code: \"SN\",\r\n    country_name: \"Senegal\",\r\n    dialling_code: \"+221\",\r\n  },\r\n  {\r\n    country_code: \"RS\",\r\n    country_name: \"Serbia\",\r\n    dialling_code: \"+381\",\r\n  },\r\n  {\r\n    country_code: \"SC\",\r\n    country_name: \"Seychelles\",\r\n    dialling_code: \"+248\",\r\n  },\r\n  {\r\n    country_code: \"SL\",\r\n    country_name: \"Sierra Leone\",\r\n    dialling_code: \"+232\",\r\n  },\r\n  {\r\n    country_code: \"SG\",\r\n    country_name: \"Singapore\",\r\n    dialling_code: \"+65\",\r\n  },\r\n  {\r\n    country_code: \"SK\",\r\n    country_name: \"Slovakia\",\r\n    dialling_code: \"+421\",\r\n  },\r\n  {\r\n    country_code: \"SI\",\r\n    country_name: \"Slovenia\",\r\n    dialling_code: \"+386\",\r\n  },\r\n  {\r\n    country_code: \"SB\",\r\n    country_name: \"Solomon Islands\",\r\n    dialling_code: \"+677\",\r\n  },\r\n  {\r\n    country_code: \"SO\",\r\n    country_name: \"Somalia\",\r\n    dialling_code: \"+252\",\r\n  },\r\n  {\r\n    country_code: \"ZA\",\r\n    country_name: \"South Africa\",\r\n    dialling_code: \"+27\",\r\n  },\r\n  {\r\n    country_code: \"KR\",\r\n    country_name: \"South Korea\",\r\n    dialling_code: \"+82\",\r\n  },\r\n  {\r\n    country_code: \"ES\",\r\n    country_name: \"Spain\",\r\n    dialling_code: \"+34\",\r\n  },\r\n  {\r\n    country_code: \"LK\",\r\n    country_name: \"Sri Lanka\",\r\n    dialling_code: \"+94\",\r\n  },\r\n  {\r\n    country_code: \"LC\",\r\n    country_name: \"St. Lucia\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"SD\",\r\n    country_name: \"Sudan\",\r\n    dialling_code: \"+249\",\r\n  },\r\n  {\r\n    country_code: \"SR\",\r\n    country_name: \"Suriname\",\r\n    dialling_code: \"+597\",\r\n  },\r\n  {\r\n    country_code: \"SZ\",\r\n    country_name: \"Swaziland\",\r\n    dialling_code: \"+268\",\r\n  },\r\n  {\r\n    country_code: \"SE\",\r\n    country_name: \"Sweden\",\r\n    dialling_code: \"+46\",\r\n  },\r\n  {\r\n    country_code: \"CH\",\r\n    country_name: \"Switzerland\",\r\n    dialling_code: \"+41\",\r\n  },\r\n  {\r\n    country_code: \"SY\",\r\n    country_name: \"Syria\",\r\n    dialling_code: \"+963\",\r\n  },\r\n  {\r\n    country_code: \"TW\",\r\n    country_name: \"Taiwan\",\r\n    dialling_code: \"+886\",\r\n  },\r\n  {\r\n    country_code: \"TJ\",\r\n    country_name: \"Tajikistan\",\r\n    dialling_code: \"+992\",\r\n  },\r\n  {\r\n    country_code: \"TZ\",\r\n    country_name: \"Tanzania\",\r\n    dialling_code: \"+255\",\r\n  },\r\n  {\r\n    country_code: \"TH\",\r\n    country_name: \"Thailand\",\r\n    dialling_code: \"+66\",\r\n  },\r\n  {\r\n    country_code: \"BS\",\r\n    country_name: \"The Bahamas\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"GM\",\r\n    country_name: \"The Gambia\",\r\n    dialling_code: \"+220\",\r\n  },\r\n  {\r\n    country_code: \"TL\",\r\n    country_name: \"Timor-Leste\",\r\n    dialling_code: \"+670\",\r\n  },\r\n  {\r\n    country_code: \"TG\",\r\n    country_name: \"Togo\",\r\n    dialling_code: \"+228\",\r\n  },\r\n  {\r\n    country_code: \"TK\",\r\n    country_name: \"Tokelau\",\r\n    dialling_code: \"+690\",\r\n  },\r\n  {\r\n    country_code: \"TO\",\r\n    country_name: \"Tonga\",\r\n    dialling_code: \"+676\",\r\n  },\r\n  {\r\n    country_code: \"TT\",\r\n    country_name: \"Trinidad and Tobago\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"TN\",\r\n    country_name: \"Tunisia\",\r\n    dialling_code: \"+216\",\r\n  },\r\n  {\r\n    country_code: \"TR\",\r\n    country_name: \"Turkey\",\r\n    dialling_code: \"+90\",\r\n  },\r\n  {\r\n    country_code: \"TM\",\r\n    country_name: \"Turkmenistan\",\r\n    dialling_code: \"+993\",\r\n  },\r\n  {\r\n    country_code: \"TC\",\r\n    country_name: \"Turks and Caicos Islands\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"TV\",\r\n    country_name: \"Tuvalu\",\r\n    dialling_code: \"+688\",\r\n  },\r\n  {\r\n    country_code: \"UG\",\r\n    country_name: \"Uganda\",\r\n    dialling_code: \"+256\",\r\n  },\r\n  {\r\n    country_code: \"UA\",\r\n    country_name: \"Ukraine\",\r\n    dialling_code: \"+380\",\r\n  },\r\n  {\r\n    country_code: \"AE\",\r\n    country_name: \"United Arab Emirates\",\r\n    dialling_code: \"+971\",\r\n  },\r\n  {\r\n    country_code: \"GB\",\r\n    country_name: \"United Kingdom\",\r\n    dialling_code: \"+44\",\r\n  },\r\n  {\r\n    country_code: \"US\",\r\n    country_name: \"United States\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"UY\",\r\n    country_name: \"Uruguay\",\r\n    dialling_code: \"+598\",\r\n  },\r\n  {\r\n    country_code: \"VI\",\r\n    country_name: \"US Virgin Islands\",\r\n    dialling_code: \"+1\",\r\n  },\r\n  {\r\n    country_code: \"UZ\",\r\n    country_name: \"Uzbekistan\",\r\n    dialling_code: \"+998\",\r\n  },\r\n  {\r\n    country_code: \"VU\",\r\n    country_name: \"Vanuatu\",\r\n    dialling_code: \"+678\",\r\n  },\r\n  {\r\n    country_code: \"VA\",\r\n    country_name: \"Vatican City\",\r\n    dialling_code: \"+39\",\r\n  },\r\n  {\r\n    country_code: \"VE\",\r\n    country_name: \"Venezuela\",\r\n    dialling_code: \"+58\",\r\n  },\r\n  {\r\n    country_code: \"VN\",\r\n    country_name: \"Vietnam\",\r\n    dialling_code: \"+84\",\r\n  },\r\n  {\r\n    country_code: \"WF\",\r\n    country_name: \"Wallis and Futuna\",\r\n    dialling_code: \"+681\",\r\n  },\r\n  {\r\n    country_code: \"YE\",\r\n    country_name: \"Yemen\",\r\n    dialling_code: \"+967\",\r\n  },\r\n  {\r\n    country_code: \"ZM\",\r\n    country_name: \"Zambia\",\r\n    dialling_code: \"+260\",\r\n  },\r\n  {\r\n    country_code: \"ZW\",\r\n    country_name: \"Zimbabwe\",\r\n    dialling_code: \"+263\",\r\n  },\r\n];\r\n","import { Avatar, Box, Grid, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport SmallText from \"../common/SmallText\";\r\nimport { Link } from \"@reach/router\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport AgencyRatingInfo from \"./AgencyRatingInfo\";\r\nimport OrangeChip from \"../common/OrangeChip\";\r\nimport AgencyTabRentalChips from \"./AgencyTabRentalChips\";\r\nimport CardChips from \"../common/CardChips\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ICountryChip } from \"estreeh-common-library/src/interfaces/ICountryChip\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\nimport { CountryCodes } from \"../../config/CountryCodes\";\r\n\r\nconst AgencyCard = (props: {\r\n  agency: IAgency;\r\n  showContractInfo?: boolean;\r\n  showTabChips?: boolean;\r\n}) => {\r\n  const { t, i18n } = useTranslation();\r\n  const isArabic = i18n.language === \"ar\";\r\n  const agency = props.agency;\r\n  // const smallInfoGrid = 3;\r\n\r\n  const newChip = agency.new ? <OrangeChip label=\"New\" /> : null;\r\n\r\n  let nationalitiesTitles = agency.nationalities?.map((nationality) =>\r\n    t(\"nationality.\" + nationality.toLowerCase())\r\n  );\r\n  let nationalitiesText = nationalitiesTitles?.join(\", \");\r\n\r\n  const twoYearsCountryChips: ICountryChip[] = makeCountryChipsFromAgencyTabs(\r\n    agency.tabsTwoYearWorkers,\r\n    t\r\n  );\r\n\r\n  // const twoYearTabsTitles = agency.tabsTwoYearWorkers.map(\r\n  //   (tab) =>\r\n  //     t(\"nationality.\" + tab.title.toLowerCase()) + \" (\" + tab.feesText + \")\"\r\n  // );\r\n\r\n  // let servicesText = serviceTitles.join(\", \");\r\n\r\n  // const id = agency._id? agency._id : \"\";\r\n\r\n  return (\r\n    <NiceBox>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={3} md={2}>\r\n          <Box>\r\n            <Link to={agency.slug}>\r\n              <Avatar\r\n                variant=\"rounded\"\r\n                src={process.env.REACT_APP_IMAGES_ROOT + \"\" + agency.logo}\r\n                style={{\r\n                  flexShrink: 0,\r\n                  width: \"100%\",\r\n                  minHeight: 109,\r\n                }}\r\n              />\r\n            </Link>\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={9} md={8}>\r\n          <Box pb={0}>\r\n            <Typography style={{ fontSize: \"110%\", fontWeight: \"bold\" }}>\r\n              <Link\r\n                to={agency.slug}\r\n                style={{ textDecoration: \"none\" }}\r\n              >\r\n                {isArabic ? agency.titleAr : agency.title}\r\n                {/* ({agency.workersTwoYear?.length} Workers) */}\r\n              </Link>{\" \"}\r\n              {newChip}\r\n            </Typography>\r\n          </Box>\r\n          {props.showContractInfo && (\r\n            <Box>\r\n              <SmallText>\r\n                <CardChips\r\n                  titles={[]}\r\n                  countryChips={twoYearsCountryChips}\r\n                  variant=\"chips\"\r\n                  showFees={false}\r\n                />\r\n              </SmallText>\r\n            </Box>\r\n          )}\r\n\r\n          {props.showTabChips && props.agency.servicesSelectableWorkers && (\r\n            <Box>\r\n              <SmallText>\r\n                <AgencyTabRentalChips\r\n                  services={props.agency.servicesSelectableWorkers}\r\n                  showContract={false}\r\n                  showRental={true}\r\n                  renderAsText={true}\r\n                  showPriceOnly={true}\r\n                />\r\n              </SmallText>\r\n            </Box>\r\n          )}\r\n          {!props.showContractInfo && false && (\r\n            <SmallText>{nationalitiesText}</SmallText>\r\n          )}\r\n          {!props.showContractInfo && (\r\n            <SmallText>{props.agency.tabsRental[0].remarks}</SmallText>\r\n          )}\r\n          <AgencyRatingInfo agency={agency} />\r\n          {/* <SmallText>&nbsp;</SmallText> */}\r\n          {/* <AgencyContactInfo agency={agency} /> */}\r\n        </Grid>\r\n        {/* <Grid item xs={12} md={2}>\r\n          <Box textAlign=\"right\" px={1} color={Branding.text.secondary}>\r\n            <FavoriteButton />\r\n          </Box>\r\n        </Grid> */}\r\n      </Grid>\r\n    </NiceBox>\r\n  );\r\n};\r\n\r\nexport default AgencyCard;\r\n\r\nexport const makeCountryChipsFromAgencyTabs = (\r\n  agencyTabs: IAgencyTab[],\r\n  t: Function\r\n): ICountryChip[] => {\r\n  return agencyTabs.map((tab) => {\r\n    const code = CountryCodes.find(\r\n      (x) => x.country_name === tab.title\r\n    )?.country_code;\r\n    return {\r\n      country: tab.title,\r\n      countryCode: code !== undefined ? code : \"XX\",\r\n      titleTranslated: t(\"nationality.\" + tab.title.toLowerCase()),\r\n      titleTranslatedWithFees:\r\n        t(\"nationality.\" + tab.title.toLowerCase()) + \" (\" + tab.feesText + \")\",\r\n    };\r\n  });\r\n};\r\n","import React, { ReactElement } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useLocation } from \"@reach/router\";\r\n\r\ninterface Props {}\r\n\r\nexport default function ScrollToTop(props: Props): ReactElement {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return <React.Fragment></React.Fragment>;\r\n}\r\n","import { Button } from \"@material-ui/core\";\r\nimport React, { ReactElement, useEffect, useState } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport NiceBox from \"./NiceBox\";\r\n\r\ninterface Props {}\r\n\r\nfunction timeout(delay: number) {\r\n  return new Promise((res) => setTimeout(res, delay));\r\n}\r\n\r\nexport default function FilteredResultsAlert(props: Props): ReactElement {\r\n  const filtersCount = useStoreState(\r\n    (s) => s.filterTwoYear.items.length + s.filterRental.items.length\r\n  );\r\n  const clearFilters = useStoreActions((a) => a.clearFilters);\r\n  const [bgColor, setBgColor] = useState(\"#ffffaa\");\r\n  const [boxShadow, setBoxShadow] = useState(\"\");\r\n  const [transition, setTransition] = useState(Branding.transitionSlow);\r\n\r\n  useEffect(() => {\r\n    const flashReset = async () => {\r\n      setTransition(\"0\");\r\n      setBoxShadow(\"0 0 6px #ff000033\");\r\n      setBgColor(\"#ffffaa\");\r\n    };\r\n\r\n    const flashColor = async () => {\r\n      await flashReset();\r\n      await timeout(100);\r\n      setTransition(Branding.transitionSlow);\r\n      setBoxShadow(`0 0 9px ${Branding.primary}66`);\r\n      setBgColor(Branding.lightest);\r\n    };\r\n\r\n    if (filtersCount === 0) flashReset();\r\n    else flashColor();\r\n  }, [filtersCount]);\r\n\r\n  if (filtersCount === 0) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <NiceBox\r\n      style={{\r\n        backgroundColor: bgColor,\r\n        boxShadow: boxShadow,\r\n        transition: transition,\r\n      }}\r\n      p={3}\r\n    >\r\n      <span style={{ marginRight: 16 }}>You are viewing filtered results</span>\r\n      <Button\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        variant=\"contained\"\r\n        onClick={() => clearFilters()}\r\n      >\r\n        Clear Filters\r\n      </Button>\r\n    </NiceBox>\r\n  );\r\n}\r\n","import AgencyCard from \"./AgencyCard\";\r\nimport IAgenciesPage from \"estreeh-common-library/src/interfaces/IAgenciesPage\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\nimport FilteredResultsAlert from \"../common/FilteredResultsAlert\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport React, { ReactElement, useEffect, useState } from \"react\";\r\nimport IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\n\r\nexport default function AgenciesPage({\r\n  agencies,\r\n  showContractInfo,\r\n  showRentedInfo,\r\n}: IAgenciesPage): ReactElement {\r\n  // TODO: If selected by month, message / button for \"With stay over? I want stay over?\" which links to safety information\r\n  // TODO: Search bar\r\n\r\n  const [maxDisplay, setMaxDisplay] = useState(100);\r\n  const [agenciesTrimmed, setAgenciesTrimmed] = useState<IAgency[]>([]);\r\n  let agencyComponents: React.ReactNode = <>No agencies</>;\r\n\r\n  useEffect(() => {\r\n    if (agencies !== undefined) {\r\n      setAgenciesTrimmed(agencies.slice(0, maxDisplay));\r\n    }\r\n  }, [agencies, maxDisplay]);\r\n\r\n  if (agenciesTrimmed !== undefined) {\r\n    agencyComponents = agenciesTrimmed.map((agency) => (\r\n      <AgencyCard\r\n        key={agency._id}\r\n        agency={agency}\r\n        showContractInfo={showContractInfo}\r\n        showTabChips={showRentedInfo}\r\n      />\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ScrollToTop />\r\n      <FilteredResultsAlert />\r\n      {agenciesTrimmed !== undefined && agencies !== undefined && (\r\n        <InfiniteScroll\r\n          dataLength={agenciesTrimmed.length} //This is important field to render the next data\r\n          next={() => {\r\n            setMaxDisplay(maxDisplay + 5);\r\n          }}\r\n          hasMore={agenciesTrimmed.length < agencies.length}\r\n          loader={<h4>Loading...</h4>}\r\n          // endMessage={\r\n          //   <p style={{ textAlign: \"center\" }}>\r\n          //     <b>Yay! You have seen it all</b>\r\n          //   </p>\r\n          // }\r\n        >\r\n          {agencyComponents}\r\n        </InfiniteScroll>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { Box } from \"@material-ui/core\";\r\n\r\ninterface TabPanelProps {\r\n  children?: React.ReactNode;\r\n  index: any;\r\n  value: any;\r\n  p?: number;\r\n  pt?:number;\r\n}\r\n\r\nfunction TabPanel(props: TabPanelProps) {\r\n  const { children, value, index, ...other } = props;\r\n  const p = props.p === undefined ? 0 : props.p;\r\n  const pt = props.pt === undefined ? 0 : props.pt;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`wrapped-tabpanel-${index}`}\r\n      aria-labelledby={`wrapped-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={p} pt={pt}>{children}</Box>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TabPanel;\r\n","import React, { ReactElement } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from \"@material-ui/pickers\";\r\n\r\ninterface Props {}\r\n\r\nexport default function WizardDatePicker(props: Props): ReactElement {\r\n  const [selectedDate, setSelectedDate] = React.useState<Date | null>(\r\n    new Date()\r\n  );\r\n\r\n  const handleDateChange = (date: Date | null) => {\r\n    setSelectedDate(date);\r\n  };\r\n\r\n  return (\r\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n      {/* \r\n        <KeyboardDatePicker\r\n          disableToolbar\r\n          variant=\"inline\"\r\n          format=\"MM/dd/yyyy\"\r\n          margin=\"normal\"\r\n          id=\"date-picker-inline\"\r\n          label=\"Select Date\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n          }}\r\n        /> */}\r\n      <KeyboardDatePicker\r\n        disableToolbar\r\n        disablePast\r\n        margin=\"normal\"\r\n        id=\"date-picker-dialog\"\r\n        label=\"Select Date\"\r\n        format=\"dd MMM yyyy\"\r\n        value={selectedDate}\r\n        onChange={handleDateChange}\r\n        KeyboardButtonProps={{\r\n          \"aria-label\": \"change date\",\r\n        }}\r\n        style={{ width: 200 }}\r\n      />\r\n      {/* <KeyboardTimePicker\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"Time picker\"\r\n          value={selectedDate}\r\n          onChange={handleDateChange}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change time',\r\n          }}\r\n        /> */}\r\n    </MuiPickersUtilsProvider>\r\n  );\r\n}\r\n","export const demoAgencies = [\r\n  { id: 1, name: \"Awlawiya Manpower\", nameAr: \"  \" },\r\n  { id: 2, name: \"Al Dar Manpower\", nameAr: \"   \" },\r\n  { id: 3, name: \"Al Sahwa Manpower\", nameAr: \"  \" },\r\n  { id: 4, name: \"Al Safwa Manpower\", nameAr: \"  \" },\r\n  { id: 5, name: \"Al Asfoor Manpower\", nameAr: \"  \" },\r\n  { id: 6, name: \"Al Omar Manpower\", nameAr: \"  \" },\r\n  { id: 7, name: \"Easy Life Manpower\", nameAr: \"   \" },\r\n  { id: 8, name: \"Balsamint Manpower\", nameAr: \"  \" },\r\n  { id: 9, name: \"Global Manpower\", nameAr: \"  \" },\r\n  {\r\n    id: 10,\r\n    name: \"Jumana Gulf Manpower\",\r\n    nameAr: \"    \",\r\n  },\r\n  {\r\n    id: 11,\r\n    name: \"Gulf Network Manpower\",\r\n    nameAr: \"   \",\r\n  },\r\n  { id: 12, name: \"Shamma Manpower\", nameAr: \"  \" },\r\n  { id: 13, name: \"Fredoo Manpower\", nameAr: \"  \" },\r\n  { id: 14, name: \"Helpers Manpower\", nameAr: \"  \" },\r\n  {\r\n    id: 15,\r\n    name: \"Official Manpower and Services\",\r\n    nameAr: \"  \",\r\n  },\r\n  { id: 16, name: \"Tad-beer Manpower\", nameAr: \" \" },\r\n  { id: 17, name: \"True Touch Manpower\", nameAr: \"  \" },\r\n];\r\n\r\nconst demoWorkerFirstNames = [\r\n  \"Dila\",\r\n  \"Nurseah\",\r\n  \"Siti\",\r\n  \"Meream\",\r\n  \"Aan\",\r\n  \"Hayat\",\r\n  \"Yousi\",\r\n  \"Ramini\",\r\n  \"Summayati\",\r\n  \"Lasaina\",\r\n  \"Emukuls\",\r\n  \"Rumini\",\r\n  \"Siti\",\r\n  \"Jamilia\",\r\n  \"Yayen\",\r\n  \"Hudaelah\",\r\n  \"Emyati\",\r\n  \"Debebech\",\r\n  \"Amriya\",\r\n  \"Alemtshay\",\r\n  \"Sunipah\",\r\n  \"Cartini\",\r\n  \"Suparmi\",\r\n  \"Sopia\",\r\n  \"Nurmala\",\r\n  \"Fatuma\",\r\n  \"Nurhasana\",\r\n  \"Amih\",\r\n  \"Masawati\",\r\n  \"Melinda\",\r\n  \"Haleima\",\r\n  \"Sara\",\r\n  \"Rodhaleen\",\r\n  \"Debbie\",\r\n  \"Stephanie\",\r\n  \"Cairo\",\r\n  \"Sandra\",\r\n  \"Ayva\",\r\n  \"Lily-Rose\",\r\n  \"Syeda\",\r\n  \"Kendall\",\r\n  \"Giselle\",\r\n  \"Kaiya\",\r\n  \"Kade\",\r\n  \"Macy\",\r\n  \"Keisha\",\r\n  \"Eilish\",\r\n  \"Brianna\",\r\n  \"Klara\",\r\n  \"Anabelle\",\r\n  \"Kyra\",\r\n  \"Aairah\",\r\n  \"Isla-Grace\",\r\n  \"Luka\",\r\n  \"Mimi\",\r\n  \"Remy\",\r\n  \"Minnie\",\r\n  \"Priya\",\r\n  \"Ayla\",\r\n  \"Brittany\",\r\n  \"Emer\",\r\n  \"Marian\",\r\n  \"Libby\",\r\n  \"Tyrell\",\r\n  \"Asia\",\r\n  \"Aaminah\",\r\n  \"Alys\",\r\n  \"Romana\",\r\n  \"Vikki\",\r\n  \"Izzy\",\r\n  \"Karan\",\r\n  \"Penny\",\r\n  \"Chloe\",\r\n];\r\n\r\nconst demoWorkerLastNames = [\r\n  \"Jubaedah\",\r\n  \"Bt Wawe\",\r\n  \"Bt Sarga\",\r\n  \"Mueh Yesuf\",\r\n  \"Anday\",\r\n  \"Mohammed\",\r\n  \"Bt\",\r\n  \"Bt\",\r\n  \"Saim\",\r\n  \"Bt\",\r\n  \"Sherefa\",\r\n  \"Rasam\",\r\n  \"Wayouni\",\r\n  \"Bt Amir\",\r\n  \"Risnawati\",\r\n  \"BT Zakari\",\r\n  \"Tames\",\r\n  \"Dayeso\",\r\n  \"Isa\",\r\n  \"Kibret\",\r\n  \"BT\",\r\n  \"BT\",\r\n  \"Arjo\",\r\n  \"Sukra\",\r\n  \"Sari\",\r\n  \"Kedir\",\r\n  \"Damiri\",\r\n  \"Ama\",\r\n  \"Ema\",\r\n  \"Dabola\",\r\n  \"Bt\",\r\n  \"Maho\",\r\n  \"Deyablo\",\r\n  \"Cooley\",\r\n  \"O'Gallagher\",\r\n  \"Ahmad\",\r\n  \"Searle\",\r\n  \"Sandoval\",\r\n  \"Whitaker\",\r\n  \"Woodley\",\r\n  \"Neale\",\r\n  \"Dyer\",\r\n  \"Davie\",\r\n  \"Beil\",\r\n  \"Wilcox\",\r\n  \"Salazar\",\r\n  \"Martinez\",\r\n  \"Rowland\",\r\n  \"Frederick\",\r\n  \"Ward\",\r\n  \"Savage\",\r\n  \"Munoz\",\r\n  \"Melendez\",\r\n  \"Irvine\",\r\n  \"Sutherland\",\r\n  \"Weaver\",\r\n  \"Charlton\",\r\n  \"Benton\",\r\n  \"Grimes\",\r\n  \"Wood\",\r\n  \"Lyon\",\r\n  \"Murphy\",\r\n  \"Stanley\",\r\n  \"Lin\",\r\n  \"Potts\",\r\n  \"Waller\",\r\n  \"Ritter\",\r\n  \"Pratt\",\r\n  \"Shields\",\r\n  \"Sellers\",\r\n  \"Benjamin\",\r\n  \"Owens\",\r\n  \"Fellows\",\r\n];\r\n\r\nexport const demoWorkerSingleNames = [...demoWorkerFirstNames,...demoWorkerLastNames];\r\n\r\n// const demoWorkerNames = [\r\n//   \"Dila Jubaedah\",\r\n//   \"Nurseah Bt Wawe\",\r\n//   \"Siti Bt Sarga\",\r\n//   \"Meream Mueh Yesuf\",\r\n//   \"Aan Anday\",\r\n//   \"Hayat Mohammed\",\r\n//   \"Yousi Bt\",\r\n//   \"Ramini Bt\",\r\n//   \"Summayati Saim\",\r\n//   \"Lasaina Bt \",\r\n//   \"Emukuls Sherefa\",\r\n//   \"Rumini Rasam\",\r\n//   \"Siti Wayouni\",\r\n//   \"Jamilia Bt Amir\",\r\n//   \"Yayen Risnawati\",\r\n//   \"Hudaelah BT Zakari\",\r\n//   \"Emyati Tames\",\r\n//   \"Debebech Dayeso\",\r\n//   \"Amriya Isa\",\r\n//   \"Alemtshay Kibret\",\r\n//   \"Sunipah BT\",\r\n//   \"Cartini BT\",\r\n//   \"Suparmi Arjo\",\r\n//   \"Sopia Sukra\",\r\n//   \"Nurmala Sari\",\r\n//   \"Fatuma Kedir\",\r\n//   \"Nurhasana Damiri\",\r\n//   \"Amih Ama\",\r\n//   \"Masawati Ema\",\r\n//   \"Melinda Dabola\",\r\n//   \"Haleima Bt\",\r\n//   \"Sara Maho\",\r\n//   \"Rodhaleen Deyablo\",\r\n//   \"Debbie Cooley\",\r\n//   \"Stephanie O'Gallagher\",\r\n//   \"Cairo Ahmad\",\r\n//   \"Sandra Searle\",\r\n//   \"Ayva Sandoval\",\r\n//   \"Lily-Rose Whitaker\",\r\n//   \"Syeda Woodley\",\r\n//   \"Kendall Neale\",\r\n//   \"Giselle Dyer\",\r\n//   \"Kaiya Davie\",\r\n//   \"Kade Beil\",\r\n//   \"Macy Wilcox\",\r\n//   \"Keisha Salazar\",\r\n//   \"Eilish Martinez\",\r\n//   \"Brianna Rowland\",\r\n//   \"Klara Frederick\",\r\n//   \"Anabelle Ward\",\r\n//   \"Kyra Savage\",\r\n//   \"Aairah Munoz\",\r\n//   \"Isla-Grace Melendez\",\r\n//   \"Luka Irvine\",\r\n//   \"Mimi Sutherland\",\r\n//   \"Remy Weaver\",\r\n//   \"Minnie Charlton\",\r\n//   \"Priya Benton\",\r\n//   \"Ayla Grimes\",\r\n//   \"Brittany Wood\",\r\n//   \"Emer Lyon\",\r\n//   \"Marian Murphy\",\r\n//   \"Libby Stanley\",\r\n//   \"Tyrell Lin\",\r\n//   \"Asia Potts\",\r\n//   \"Aaminah Waller\",\r\n//   \"Alys Ritter\",\r\n//   \"Romana Pratt\",\r\n//   \"Vikki Shields\",\r\n//   \"Izzy Sellers\",\r\n//   \"Karan Benjamin\",\r\n//   \"Penny Owens\",\r\n//   \"Chloe Fellows\",\r\n// ];\r\n\r\nexport const demoRentalHourlyRemarks = [\r\n  \"Free delivery\",\r\n  \"Minimum 2 hours per reservation\",\r\n  undefined,\r\n  undefined,\r\n];\r\n\r\n// const rentalv1 = [\r\n//   \"Dropoff is 7 AM and pickup is 7 PM\",\r\n//   \"Friday is off-day\",\r\n//   \"Delivery charge is 30 BD/Mo\",\r\n// ];\r\n\r\n// const stayOverv1 = [\r\n//   \"Payment in advance\",\r\n//   \"1 Day off per month\",\r\n//   \"Optional one-time delivery charge is 10 BD\",\r\n// ];\r\n\r\nconst rental = [\r\n  // \"With stay over in your home.\",\r\n  \"Transported to your location everyday from 8:00 am to 5:00 pm.<br/>Friday is day-off.\",\r\n  \"Transported to your location everyday from 9:00 am to 6:00 pm.<br/>Friday and Saturday are day-off.\",\r\n  \"Transported to your location everyday from 8:00 am to 7:00 pm.<br/>Friday is day-off.\",\r\n];\r\n\r\nexport const demoRentalMonthlyRemarks = rental;\r\n\r\nexport const demoRentalMonthlyStayOverRemarks = rental;\r\n\r\nexport const demoItemsCount = [\r\n  {\r\n    name: \"Ethiopia\",\r\n    count: 31,\r\n  },\r\n  {\r\n    name: \"Ghana\",\r\n    count: 8,\r\n  },\r\n  {\r\n    name: \"India\",\r\n    count: 6,\r\n  },\r\n  {\r\n    name: \"Indonesia\",\r\n    count: 32,\r\n  },\r\n  {\r\n    name: \"Kenya\",\r\n    count: 20,\r\n  },\r\n  {\r\n    name: \"Philippines\",\r\n    count: 42,\r\n  },\r\n  {\r\n    name: \"Sri Lanka\",\r\n    count: 17,\r\n  },\r\n];\r\n\r\nexport const monthPickerMonths = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n];\r\n\r\nexport const monthPickerMonths2 = [\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\",\r\n  \"January-2022\",\r\n  \"February-2022\",\r\n  \"March-2022\",\r\n];\r\n\r\nexport const demoNumberOfContractWorkersPerAgency = {\r\n  min: 10,\r\n  max: 25,\r\n};\r\n\r\nexport const demoNumberOfRentalWorkersPerServicePerAgency = {\r\n  min: 8,\r\n  max: 12,\r\n};\r\n","import {\r\n  Checkbox,\r\n  createStyles,\r\n  FormControl,\r\n  Input,\r\n  InputLabel,\r\n  ListItemText,\r\n  makeStyles,\r\n  MenuItem,\r\n  Select,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\nimport { monthPickerMonths } from \"../../../config/DemoItems\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface Props {}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    // formControl: {\r\n    //   marginTop: theme.spacing(0.5),\r\n    //   minWidth: 220,\r\n    // },\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 220,\r\n      // maxWidth: 320,\r\n      maxWidth:\"95%\",\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    chips: {\r\n      display: \"flex\",\r\n      flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n      margin: 2,\r\n    },\r\n    noLabel: {\r\n      marginTop: theme.spacing(3),\r\n    },\r\n  })\r\n);\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      // maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      maxHeight: ITEM_HEIGHT * 6.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\n\r\nexport default function WizardMonthMultiplePicker(props: Props): ReactElement {\r\n  const {t} = useTranslation();\r\n  const classes = useStyles();\r\n  const [selectedMonths, setSelectedMonths] = useState<string[]>([]);\r\n\r\n  const handleChange = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n    setSelectedMonths(event.target.value as string[]);\r\n  };\r\n\r\n  // const handleChangeMultiple = (\r\n  //   event: React.ChangeEvent<{ value: unknown }>\r\n  // ) => {\r\n  //   const { options } = event.target as HTMLSelectElement;\r\n  //   const value: string[] = [];\r\n  //   for (let i = 0, l = options.length; i < l; i += 1) {\r\n  //     if (options[i].selected) {\r\n  //       value.push(options[i].value);\r\n  //     }\r\n  //   }\r\n  //   setSelectedMonths(value);\r\n  // };\r\n\r\n  const label = t(\"select-month\");\r\n\r\n  return (\r\n    <FormControl className={classes.formControl} variant=\"outlined\">\r\n      <InputLabel id=\"month-label\">{label}</InputLabel>\r\n      <Select\r\n        labelId=\"month-label\"\r\n        label={label}\r\n        multiple\r\n        value={selectedMonths}\r\n        onChange={handleChange}\r\n        input={<Input />}\r\n        MenuProps={MenuProps}\r\n        renderValue={(selected) => (selected as string[]).join(', ')}\r\n      >\r\n        {monthPickerMonths.map((month) => (\r\n          <MenuItem key={month} value={month}>\r\n            <Checkbox color=\"primary\" checked={selectedMonths.indexOf(month) > -1} />\r\n            <ListItemText primary={month} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n","import { Button, Icon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props {\r\n  worker?: IWorkerTwoYear;\r\n}\r\n\r\nconst FavoriteButton = ({ worker }: Props) => {\r\n  const { t } = useTranslation();\r\n  const add = useStoreActions((a) => a.addToFavTwoYear);\r\n  const remove = useStoreActions((a) => a.removeFromFavTwoYear);\r\n  const favorites = useStoreState((s) => s.favTwoYear.items);\r\n  const exists =\r\n    worker !== undefined &&\r\n    favorites.findIndex((x) => x._id === worker.id) !== -1;\r\n  const heartColor = \"#CC6174\";\r\n\r\n  return (\r\n    <>\r\n      {exists ? (\r\n        <Button\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          // color=\"primary\"\r\n          style={{ color: heartColor, borderColor: heartColor }}\r\n          startIcon={<Icon>favorite</Icon>}\r\n          onClick={() => {\r\n            if (worker !== undefined) {\r\n              // eslint-disable-next-line no-restricted-globals\r\n              if (confirm(`Remove ${worker.name} from favorites?`)) {\r\n                remove(worker);\r\n              }\r\n            }\r\n          }}\r\n        >\r\n          {t(\"button.fav\")}\r\n        </Button>\r\n      ) : (\r\n        <Button\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<Icon>favorite_outlined</Icon>}\r\n          onClick={() => {\r\n            if (worker !== undefined) {\r\n              add(worker);\r\n            }\r\n          }}\r\n        >\r\n          {t(\"button.fav\")}\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FavoriteButton;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { Link } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst ReserveWorkerButton = (props: {\r\n  link?: string;\r\n  onClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const {t} = useTranslation();\r\n  const link = props.link ? props.link : \"/login-prompt\";\r\n  const linkStyles: React.CSSProperties = {\r\n    display: \"inline-flex\",\r\n    textDecoration: \"none\",\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.onClick === undefined && (\r\n        <Link to={link} style={linkStyles}>\r\n          <Button\r\n            style={{ marginLeft: 8 }}\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            variant=\"outlined\"\r\n          >\r\n            Reserve (FIX ME)\r\n          </Button>\r\n        </Link>\r\n      )}\r\n      {props.onClick !== undefined && (\r\n        <Button\r\n          style={{ marginLeft: 8 }}\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          onClick={props.onClick}\r\n        >\r\n          {t(\"button.reserve\")}\r\n        </Button>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReserveWorkerButton;\r\n","import { Icon } from \"@material-ui/core\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport React from \"react\";\r\nimport SmallText from \"../common/SmallText\";\r\n\r\nconst IconInfo = (props: {\r\n  icon?: string;\r\n  iconFontSize?: \"inherit\" | \"default\" | \"small\" | \"large\";\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  style?: React.CSSProperties;\r\n}) => {\r\n  const iconFontSize = props.iconFontSize ? props.iconFontSize : \"inherit\";\r\n\r\n  const inside = (\r\n    <SmallText style={props.style}>\r\n      {props.icon && (\r\n        <React.Fragment>\r\n          <Icon fontSize={iconFontSize}>{props.icon}</Icon>&nbsp;\r\n        </React.Fragment>\r\n      )}\r\n      {props.children}\r\n    </SmallText>\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.children !== undefined && props.children !== \"\" && (\r\n        <>\r\n          {props.title !== undefined && (\r\n            <Tooltip title={props.title} arrow>\r\n              <div>{inside}</div>\r\n            </Tooltip>\r\n          )}\r\n          {props.title === undefined && inside}\r\n        </>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default IconInfo;\r\n","import { Icon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\nconst Dot = (props: { color?: string; px?: number; fontSize?:number }) => {\r\n  const color = props.color !== undefined ? props.color : Branding.primary;\r\n  const px = props.px !== undefined ? props.px : 6;\r\n  const fontSize = props.fontSize ? props.fontSize : 8;\r\n  return (\r\n    <Icon\r\n      fontSize=\"inherit\"\r\n      style={{\r\n        paddingLeft: px,\r\n        paddingRight: px,\r\n        fontSize: fontSize,\r\n        verticalAlign: \"middle\",\r\n        color: color,\r\n      }}\r\n    >\r\n      fiber_manual_record_icon\r\n    </Icon>\r\n  );\r\n};\r\n\r\nexport default Dot;\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport Dot from \"../../common/Dot\";\r\n\r\ninterface Props {\r\n  dotColor?: string;\r\n  text: string;\r\n}\r\n\r\nexport default function SlotMiniDisplay(props: Props): ReactElement {\r\n  const fontSize = Branding.fontSize.small - 4;\r\n  return (\r\n    <Box\r\n      css={{\r\n        padding: \"0\",\r\n        margin: \"0\",\r\n      }}\r\n    >\r\n      <Typography\r\n        style={{\r\n          fontSize: fontSize,\r\n          fontWeight: \"bold\",\r\n          // textAlign: \"center\",\r\n          display: \"block\",\r\n          margin: 0,\r\n          padding: 0,\r\n        }}\r\n      >\r\n        <Dot fontSize={10} color={props.dotColor} px={0.5} /> {props.text}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","import IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport dateFormat from \"dateformat\";\r\nimport SlotMiniDisplay from \"./SlotMiniDisplay\";\r\n\r\nconst HourlySlotMiniDisplay = (props: { slot: IHourlySlot }) => {\r\n  const slot = props.slot;\r\n  // const militaryFormat = \"HH:MM\";\r\n  const simpleFormat = \"h tt\";\r\n  const text = dateFormat(slot.hourlySlotDefinition?.from, simpleFormat);\r\n  // const to = dateFormat(slot.hourlySlotDefinition?.to, \"h:MM tt\");\r\n\r\n  return <SlotMiniDisplay dotColor={slot.colorDot} text={text} />;\r\n};\r\n\r\nexport default HourlySlotMiniDisplay;\r\n","import { Box, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport HourlySlotMiniDisplay from \"./HourlySlotMiniDisplay\";\r\nimport dateFormat from \"dateformat\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport {  NavigateBefore, NavigateNext } from \"@material-ui/icons\";\r\n\r\nconst HourlySlotsDayMiniDisplay = (props: {\r\n  slots?: IHourlySlot[];\r\n  leftOnClick: any;\r\n  rightOnClick: any;\r\n  showLeftArrow: boolean;\r\n  showRightArrow: boolean;\r\n  date: Date;\r\n}): ReactElement => {\r\n  const date = props.date;\r\n\r\n  const day = dateFormat(date, \"ddd\");\r\n  const dayMonth = dateFormat(date, \"d-mmm\");\r\n  const iconSize = 28;\r\n\r\n  const textStyle: React.CSSProperties = {\r\n    fontSize: Branding.fontSize.small - 2,\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    color: Branding.text.primary,\r\n  };\r\n\r\n  const iconStyle: React.CSSProperties = {\r\n    fontSize: iconSize,\r\n    verticalAlign: \"middle\",\r\n    cursor: \"pointer\",\r\n    color: Branding.primary,\r\n  };\r\n\r\n  let items = null;\r\n\r\n  if (props.slots && props.slots.length > 0) {\r\n    items = props.slots.map((slot) => (\r\n      <Grid item xs={4}>\r\n        <HourlySlotMiniDisplay slot={slot} />\r\n      </Grid>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box py={0}>\r\n        <Typography style={textStyle}>\r\n          <Grid container>\r\n            <Grid item xs={3}>\r\n              {props.showLeftArrow && (\r\n                <Box onClick={props.leftOnClick} textAlign=\"right\">\r\n                  <NavigateBefore fontSize=\"small\" style={iconStyle} />\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Box lineHeight={iconSize + \"px\"}>\r\n                {day}&nbsp;{dayMonth}\r\n              </Box>\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              {props.showRightArrow && (\r\n                <Box onClick={props.rightOnClick} textAlign=\"left\">\r\n                  <NavigateNext fontSize=\"small\" style={iconStyle} />\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </Typography>\r\n      </Box>\r\n      <Box>\r\n        <Grid container>{items}</Grid>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default HourlySlotsDayMiniDisplay;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport dateFormat from \"dateformat\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IMonthlySlot from \"estreeh-common-library/src/interfaces/IMonthlySlot\";\r\nimport SlotMiniDisplay from \"./SlotMiniDisplay\";\r\n\r\ninterface Props {\r\n  date: Date;\r\n  slots: IMonthlySlot[];\r\n  numDisplay?: number;\r\n}\r\n\r\nexport default function MonthlySlotsMiniDisplay(props: Props): ReactElement {\r\n  const numDisplay = props.numDisplay ? props.numDisplay : 6;\r\n  let slots = props.slots;\r\n  if (slots.length > numDisplay) slots.length = numDisplay;\r\n\r\n  return (\r\n    <Box pt={1}>\r\n      <Grid container>\r\n        {props.slots.map((slot) => (\r\n          <Grid item xs={4}>\r\n            <SlotMiniDisplay\r\n              dotColor={slot.colorDot}\r\n              text={dateFormat(slot.date, \"mmm\")}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import { Avatar, Box, Divider, Grid, Typography } from \"@material-ui/core\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport { Link } from \"@reach/router\";\r\nimport dateFormat from \"dateformat\";\r\nimport { useState } from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport FavoriteButton from \"../../common/FavoriteButton\";\r\nimport NiceBox from \"../../common/NiceBox\";\r\nimport ReserveWorkerButton from \"../../common/ReserveWorkerButton\";\r\nimport SmallText from \"../../common/SmallText\";\r\nimport IconInfo from \"../IconInfo\";\r\nimport HourlySlotsDayMiniDisplay from \"./HourlySlotsDayMiniDisplay\";\r\nimport MonthlySlotsMiniDisplay from \"./MonthlySlotsMiniDisplay\";\r\nimport { useNavigate } from \"@reach/router\";\r\nimport { useStoreActions } from \"../../../helpers/StoreTypedHooks\";\r\n\r\nconst WorkerRentalGridCard = (props: {\r\n  worker: IWorkerRental;\r\n  isHourly: boolean;\r\n  isMonthly: boolean;\r\n  picHeight?: number;\r\n  showButtons?: boolean;\r\n}) => {\r\n  const worker = props.worker;\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n  const setWorker = useStoreActions((action) => action.selectedWorkerRental.setItem);\r\n\r\n  const addDays = (days: number): void => {\r\n    let newDate = new Date(selectedDate);\r\n    newDate.setDate(newDate.getDate() + days);\r\n    if (getSlots(newDate)) {\r\n      setSelectedDate(newDate);\r\n    }\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const getDateKey = (iDate?: Date): string => {\r\n    let date = iDate ? iDate : selectedDate;\r\n    return dateFormat(date, \"yyyy-mm-dd\");\r\n  };\r\n\r\n  const getSlots = (iDate?: Date): IHourlySlot[] => {\r\n    return worker.hourlySlotsDictionary[getDateKey(iDate)];\r\n  };\r\n\r\n  const getRelevantDaySlots = (days: number): IHourlySlot[] => {\r\n    let d = new Date(selectedDate);\r\n    d.setDate(d.getDate() + days);\r\n    return getSlots(d);\r\n  };\r\n\r\n  const onReserveButton = () => {\r\n    setWorker(props.worker);\r\n    navigate(props.isHourly ? hourlyWorkerLink : monthlyWorkerLink);\r\n  };\r\n\r\n  const picWidth = \"100%\";\r\n  const picHeight = 96;\r\n  // const hourlyWorkerLink = \"/new-request/hourly-worker\";\r\n  // const monthlyWorkerLink = \"/new-request/monthly-worker\";\r\n  const hourlyWorkerLink = \"/new-request/select-hours\";\r\n  const monthlyWorkerLink = \"/new-request/select-months\";\r\n\r\n  return (\r\n    <Grid item xs={12} sm={6} md={4}>\r\n      <NiceBox p={1} my={0}>\r\n        <Box>\r\n          <Grid container justify=\"space-between\">\r\n            <Grid item xs={12}>\r\n              <Typography style={{ fontWeight: \"bold\" }}>\r\n                {worker.name}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Box textAlign=\"left\">\r\n                <Rating\r\n                  precision={0.5}\r\n                  value={worker.rating}\r\n                  size=\"small\"\r\n                  readOnly\r\n                  style={{ verticalAlign: \"middle\" }}\r\n                />\r\n                &nbsp;\r\n                <Link to=\".\">\r\n                  <SmallText\r\n                    style={{ display: \"inline\", color: Branding.primary }}\r\n                  >\r\n                    Reviews ({worker.reviews.length})\r\n                  </SmallText>\r\n                </Link>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n          <Box py={1}>\r\n            <Divider />\r\n          </Box>\r\n\r\n          <Box>\r\n            <Grid container>\r\n              <Grid item xs={5}>\r\n                <Box textAlign=\"center\">\r\n                  <Avatar\r\n                    src={worker.smallPicture}\r\n                    style={{\r\n                      width: picWidth,\r\n                      minHeight: picHeight,\r\n                      alignSelf: \"center\",\r\n                    }}\r\n                    variant=\"rounded\"\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={7}>\r\n                <Box px={1}>\r\n                  <IconInfo icon=\"work\">{worker.jobTitle}</IconInfo>\r\n                  <IconInfo icon=\"flag\">{worker.nationality}</IconInfo>\r\n                  <IconInfo icon=\"attach_money\">{worker.feesText}</IconInfo>\r\n                  {/* {worker.remarks && <IconInfo>{worker.remarks}</IconInfo>} */}\r\n                  {props.isHourly && (\r\n                    <HourlySlotsDayMiniDisplay\r\n                      slots={worker.hourlySlotsDictionary[getDateKey()]}\r\n                      leftOnClick={() => addDays(-1)}\r\n                      rightOnClick={() => addDays(1)}\r\n                      showLeftArrow={getRelevantDaySlots(-1) !== undefined}\r\n                      showRightArrow={getRelevantDaySlots(1) !== undefined}\r\n                      date={selectedDate}\r\n                    />\r\n                  )}\r\n                  {props.isMonthly && (\r\n                    <MonthlySlotsMiniDisplay\r\n                      slots={worker.monthlySlots}\r\n                      date={selectedDate}\r\n                    />\r\n                  )}\r\n\r\n                  {/* <IconInfo icon=\"local_airport\">\r\n                    {worker.experienceYears} years experience\r\n                  </IconInfo> */}\r\n\r\n                  {/* <IconInfo icon=\"attach_money\">{worker.processFeesBhdFormatted}</IconInfo> */}\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Box py={1}>\r\n          <Divider />\r\n        </Box>\r\n        <Box textAlign=\"center\">\r\n          <FavoriteButton />\r\n          <ReserveWorkerButton\r\n            link={props.isHourly ? hourlyWorkerLink : monthlyWorkerLink}\r\n            onClick={onReserveButton}\r\n          />\r\n        </Box>\r\n      </NiceBox>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default WorkerRentalGridCard;\r\n","import { Box, Divider, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport OrangeChip from \"../common/OrangeChip\";\r\n\r\nconst DetailsGroup = (props: {\r\n  title?: string;\r\n  titleChip?: string;\r\n  children?: React.ReactNode;\r\n}) => {\r\n  const titleChip = props.titleChip ? (\r\n    <OrangeChip label={props.titleChip} />\r\n  ) : null;\r\n\r\n  const title = props.title ? (\r\n    <Box pb={1}>\r\n      <Typography variant=\"h6\">\r\n        {props.title} {titleChip}\r\n      </Typography>\r\n    </Box>\r\n  ) : null;\r\n\r\n  return (\r\n    <Box>\r\n      <Divider variant=\"middle\" />\r\n      <Box py={1}>\r\n        {title}\r\n        <Box py={1}>{props.children}</Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default DetailsGroup;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport SmallText from \"./SmallText\";\r\n\r\nconst LabelValueLine = (props: {\r\n  title: string | React.ReactNode;\r\n  oneLine?: boolean;\r\n  children?: React.ReactNode;\r\n  style?: React.CSSProperties;\r\n  oneLineTitleSizeMd?: 1 | 2 | 3;\r\n  oneLineValueSizeMd?: 9 | 10 | 11;\r\n}) => {\r\n  const oneLineTitleSizeMd = props.oneLineTitleSizeMd\r\n    ? props.oneLineTitleSizeMd\r\n    : 3;\r\n  const oneLineValueSizeMd = props.oneLineValueSizeMd\r\n    ? props.oneLineValueSizeMd\r\n    : 9;\r\n  const titleSizeMd = props.oneLine ? oneLineTitleSizeMd : 3;\r\n  const valueSizeMd = props.oneLine ? oneLineValueSizeMd : 3;\r\n  const valueSizeXs = 6;\r\n  const titleSizeXs = 6;\r\n  const paddingBottom = 0.5;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid item xs={titleSizeXs} md={titleSizeMd}>\r\n        <Box pb={paddingBottom}>\r\n          <SmallText style={{ fontWeight: \"bold\",...props.style }}>{props.title}</SmallText>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={valueSizeXs} md={valueSizeMd}>\r\n        <Box pb={paddingBottom}>\r\n          <SmallText style={props.style}>{props.children}</SmallText>\r\n        </Box>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default LabelValueLine;\r\n","import { Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nconst LabelValuesContainer = (props: any) => {\r\n  return <Grid container>{props.children}</Grid>;\r\n};\r\n\r\nexport default LabelValuesContainer;\r\n","import { Button } from \"@material-ui/core\";\r\n// import { Link } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst SelectWorkerButton = (props: {\r\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const { t } = useTranslation();\r\n  // const linkStyles: React.CSSProperties = {\r\n  //   display: \"inline-flex\",\r\n  //   textDecoration: \"none\",\r\n  // };\r\n\r\n  // const loggedIn = props.toolboxData.user !== undefined;\r\n  // const url = loggedIn ? \"/new-request/two-year-worker\" : \"/login-prompt\";\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button\r\n        style={{ marginLeft: 8 }}\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        variant=\"outlined\"\r\n        onClick={props.onClick}\r\n      >\r\n        {t(\"button.select\")}\r\n      </Button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SelectWorkerButton;\r\n","import { Avatar, Box, Grid, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport FavoriteButton from \"../../common/FavoriteButton\";\r\n\r\nimport OrangeChip from \"../../common/OrangeChip\";\r\nimport SelectWorkerButton from \"../../common/SelectWorkerButton\";\r\n\r\nconst WorkerTwoYearCardPicTitle = (props: {\r\n  worker: IWorkerTwoYear;\r\n  children?: React.ReactNode;\r\n  picHeight?: number;\r\n  showButtons: boolean;\r\n  onPicTitleClick?: any;\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const worker = props.worker;\r\n\r\n  // const linkStyles: CSSProperties = {\r\n  //   display: \"inline-flex\",\r\n  //   textDecoration: \"none\",\r\n  // };\r\n  const picWidth = \"100%\";\r\n  const picHeight = props.picHeight ? props.picHeight : 80;\r\n  const localTransfer =\r\n    worker.isLocalTransfer && false ? (\r\n      <OrangeChip label=\"Local Transfer\" />\r\n    ) : null;\r\n\r\n  const buttons = props.showButtons ? (\r\n    <Grid item xs={12} md={2}>\r\n      <Box textAlign=\"right\" px={1} color={Branding.text.secondary}>\r\n        <FavoriteButton worker={worker} />\r\n        <SelectWorkerButton onClick={props.onReserveButton} />\r\n      </Box>\r\n    </Grid>\r\n  ) : null;\r\n\r\n  const clickableStyle = props.onPicTitleClick ? { cursor: \"pointer\" } : {};\r\n\r\n  return (\r\n    <Grid container spacing={2} direction=\"row-reverse\">\r\n      {buttons}\r\n      <Grid item xs={8} md={8}>\r\n        <Box pb={1} style={clickableStyle} onClick={props.onPicTitleClick}>\r\n          <Typography style={{ fontWeight: \"bold\" }}>\r\n            {worker.name} {localTransfer}\r\n          </Typography>\r\n        </Box>\r\n        {props.children}\r\n      </Grid>\r\n      <Grid item xs={4} md={2}>\r\n        <Box\r\n          textAlign=\"center\"\r\n          style={clickableStyle}\r\n          onClick={props.onPicTitleClick}\r\n        >\r\n          <Avatar\r\n            src={process.env.REACT_APP_IMAGES_ROOT + \"\" + worker.smallPicture}\r\n            style={{\r\n              width: picWidth,\r\n              minHeight: picHeight,\r\n              alignSelf: \"center\",\r\n            }}\r\n            variant=\"rounded\"\r\n          />\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default WorkerTwoYearCardPicTitle;\r\n","import { Box, Icon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport WorkerTwoYearCardPicTitle from \"./Worker2ListCardPicTitle\";\r\nimport LabelValueLine from \"../../common/LabelValueLine\";\r\nimport LabelValuesContainer from \"../../common/LabelValuesContainer\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport { localTransferExplanation } from \"../../../config/FilterOptions\";\r\nimport SmallText from \"../../common/SmallText\";\r\n\r\nconst WorkerTwoYearDetailsTopSection = (props: {\r\n  worker: IWorkerTwoYear;\r\n  showButtons?: boolean;\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const worker = props.worker;\r\n\r\n  const oneLine = true;\r\n  const lt = 2;\r\n  const lv = 10;\r\n  const showButtons =\r\n    props.showButtons !== undefined ? props.showButtons : true;\r\n\r\n  return (\r\n    <Box pb={2}>\r\n      <WorkerTwoYearCardPicTitle\r\n        worker={worker}\r\n        picHeight={140}\r\n        showButtons={showButtons}\r\n        onReserveButton={props.onReserveButton}\r\n      >\r\n        <LabelValuesContainer>\r\n          <LabelValueLine\r\n            oneLineTitleSizeMd={lt}\r\n            oneLineValueSizeMd={lv}\r\n            oneLine={oneLine}\r\n            title=\"Reference #\"\r\n          >\r\n            {worker.referenceId}\r\n          </LabelValueLine>\r\n          <LabelValueLine\r\n            oneLineTitleSizeMd={lt}\r\n            oneLineValueSizeMd={lv}\r\n            oneLine={oneLine}\r\n            title=\"Job Title\"\r\n          >\r\n            {worker.jobTitle}\r\n          </LabelValueLine>\r\n          <LabelValueLine\r\n            oneLineTitleSizeMd={lt}\r\n            oneLineValueSizeMd={lv}\r\n            oneLine={oneLine}\r\n            title=\"Salary\"\r\n          >\r\n            {worker.monthlySalaryBhdFormatted}\r\n          </LabelValueLine>\r\n          <LabelValueLine\r\n            oneLineTitleSizeMd={lt}\r\n            oneLineValueSizeMd={lv}\r\n            oneLine={oneLine}\r\n            title=\"Processing Fees\"\r\n          >\r\n            {worker.processFeesBhdFormatted}\r\n          </LabelValueLine>\r\n\r\n          <LabelValueLine\r\n            oneLineTitleSizeMd={lt}\r\n            oneLineValueSizeMd={lv}\r\n            oneLine={oneLine}\r\n            title=\"Contract Period\"\r\n          >\r\n            2 Years\r\n          </LabelValueLine>\r\n          {/* {worker.isLocalTransfer && (\r\n            <LabelValueLine\r\n              oneLineTitleSizeMd={lt}\r\n              oneLineValueSizeMd={lv}\r\n              oneLine={oneLine}\r\n              title={\r\n                <React.Fragment>\r\n                  <Icon fontSize=\"inherit\">warning</Icon> Available in Bahrain\r\n                </React.Fragment>\r\n              }\r\n              style={{ color: Branding.text.warning }}\r\n            >\r\n              {localTransferExplanation}\r\n            </LabelValueLine>\r\n          )} */}\r\n          {worker.isLocalTransfer && (\r\n            <Box>\r\n              <SmallText style={{ color: Branding.text.warning }}>\r\n                <Icon fontSize=\"inherit\">warning</Icon>{\" \"}\r\n                {localTransferExplanation}\r\n              </SmallText>\r\n            </Box>\r\n          )}\r\n        </LabelValuesContainer>\r\n      </WorkerTwoYearCardPicTitle>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WorkerTwoYearDetailsTopSection;\r\n","import { Box, Chip, Grid, Icon } from \"@material-ui/core\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport DetailsGroup from \"../DetailsGroup\";\r\nimport LabelValueLine from \"../../common/LabelValueLine\";\r\nimport LabelValuesContainer from \"../../common/LabelValuesContainer\";\r\nimport WorkerTwoYearDetailsTopSection from \"./Worker2TopSection\";\r\nimport UseStyles from \"../../../config/UseStyles\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Worker2Details = (props: {\r\n  worker: IWorkerTwoYear;\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const worker = props.worker;\r\n  const {t} = useTranslation();\r\n  const classes = UseStyles();\r\n  // const languageSkills = worker.languageSkills.map((skill) => (\r\n  //   <LabelValueLine oneLine={true} key={skill.language} title={skill.language}>\r\n  //     {skill.levelText}\r\n  //   </LabelValueLine>\r\n  // ));\r\n  // TODO: Language skills component\r\n  const languageSkills = (\r\n    <>\r\n      <LabelValueLine oneLine={true} title=\"English\">\r\n        {worker.languageSkillEnglish}\r\n      </LabelValueLine>\r\n      <LabelValueLine oneLine={true} title=\"Arabic\">\r\n        {worker.languageSkillArabic}\r\n      </LabelValueLine>\r\n    </>\r\n  );\r\n\r\n  const jobExperiences = worker.jobExperiences.map((job) => (\r\n    <LabelValueLine\r\n      oneLine={true}\r\n      key={job.country + job.totalYears}\r\n      title={job.country}\r\n    >\r\n      {job.fromYear}-{job.toYear}, {job.totalYears} Years\r\n    </LabelValueLine>\r\n  ));\r\n\r\n  const otherSkills = worker.otherSkills.map((skill) => (\r\n    <li>\r\n      <Chip\r\n        icon={<Icon fontSize=\"small\">check</Icon>}\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={skill}\r\n        key={skill}\r\n        style={{ margin: 2 }}\r\n      />\r\n    </li>\r\n  ));\r\n\r\n  const picMinHeight = 500;\r\n\r\n  return (\r\n    <Box p={2} maxWidth={1100} className={classes.objectFitContain}>\r\n      <WorkerTwoYearDetailsTopSection\r\n        worker={worker}\r\n        showButtons={true}\r\n        onReserveButton={props.onReserveButton}\r\n      />\r\n      <Grid spacing={1} container direction=\"row-reverse\">\r\n        <Grid item xs={12} md={6}>\r\n          <DetailsGroup>\r\n            {/* <Avatar\r\n              src={worker.bigPicture}\r\n              variant=\"rounded\"\r\n              style={{\r\n                width: \"100%\",\r\n                minHeight: picMinHeight,\r\n              }}\r\n            /> */}\r\n            <div\r\n              className=\"MuiAvatar-root MuiAvatar-rounded\"\r\n              style={{\r\n                width: \"100%\",\r\n                minHeight: picMinHeight,\r\n              }}\r\n            >\r\n              <img\r\n                src={process.env.REACT_APP_IMAGES_ROOT + \"\" + worker.bigPicture}\r\n                alt={worker.name}\r\n                style={{\r\n                  objectFit: \"contain\",\r\n                  height: \"100%\",\r\n                }}\r\n              />\r\n            </div>\r\n          </DetailsGroup>\r\n        </Grid>\r\n        <Grid item xs={12} md={6}>\r\n          <DetailsGroup title=\"Personal Details\">\r\n            <LabelValuesContainer>\r\n              <LabelValueLine title=\"Nationality\">\r\n                {worker.nationality}\r\n              </LabelValueLine>\r\n              <LabelValueLine title=\"Religion\">\r\n                {worker.religion}\r\n              </LabelValueLine>\r\n              {/* <LabelValueLine title=\"Date of Birth\">\r\n                {new Date(worker.dateOfBirth).toDateString()}\r\n              </LabelValueLine> */}\r\n              <LabelValueLine title=\"Age\">\r\n                {worker.age} {t(\"years-old\")}\r\n              </LabelValueLine>\r\n              {/* <LabelValueLine title=\"Place of Birth\">\r\n                {worker.cityOfBirth}\r\n              </LabelValueLine> */}\r\n              {/* <LabelValueLine title=\"Living Town\">\r\n                {worker.addressOriginalCountry.city}\r\n              </LabelValueLine> */}\r\n              <LabelValueLine title=\"Marital Status\">\r\n                {worker.maritalStatus}\r\n              </LabelValueLine>\r\n              <LabelValueLine title=\"Number of Children\">\r\n                {worker.numberOfChildren}\r\n              </LabelValueLine>\r\n              <LabelValueLine title=\"Weight\">\r\n                {worker.weightKg} kg\r\n              </LabelValueLine>\r\n              <LabelValueLine title=\"Height\">\r\n                {worker.heightCm} cm\r\n              </LabelValueLine>\r\n              {/* <LabelValueLine title=\"Complexion\">\r\n                {worker.complexion}\r\n              </LabelValueLine> */}\r\n              <LabelValueLine title=\"Educational Level\">\r\n                {worker.educationalLevel}\r\n              </LabelValueLine>\r\n            </LabelValuesContainer>\r\n          </DetailsGroup>\r\n          <DetailsGroup title=\"Language Skills\">\r\n            <LabelValuesContainer>{languageSkills}</LabelValuesContainer>\r\n          </DetailsGroup>\r\n          <DetailsGroup\r\n            title=\"Work Experience\"\r\n            titleChip={worker.experienceYears.toString() + \" Years\"}\r\n          >\r\n            <LabelValuesContainer>{jobExperiences}</LabelValuesContainer>\r\n          </DetailsGroup>\r\n          <DetailsGroup title=\"Skills\">\r\n            <Box\r\n              component=\"ul\"\r\n              display=\"flex\"\r\n              justifyContent=\"left\"\r\n              flexWrap=\"wrap\"\r\n              p={0}\r\n              m={0}\r\n              style={{\r\n                listStyle: \"none\",\r\n              }}\r\n            >\r\n              {otherSkills}\r\n            </Box>\r\n          </DetailsGroup>\r\n          <DetailsGroup title=\"Remarks\">{worker.remarks}</DetailsGroup>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Worker2Details;\r\n","import { Box, Button, Grid, Icon } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport SmallText from \"../../common/SmallText\";\r\n\r\ntype ButtonVariant = \"text\" | \"outlined\" | \"contained\";\r\n\r\nconst Worker2ListCardInfo = (props: { worker: IWorkerTwoYear }) => {\r\n  const worker = props.worker;\r\n\r\n  const buttonStyle: React.CSSProperties = {\r\n    margin: \"0 4px\",\r\n    padding: \"0px 8px\",\r\n  };\r\n  const buttonVariant: ButtonVariant = \"contained\";\r\n  const iconFontSize = \"inherit\";\r\n  const infoGridXs = 6;\r\n  const infoGridMd = 4;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>local_airport</Icon>{\" \"}\r\n            {worker.experienceYears} years experience\r\n          </SmallText>\r\n        </Grid>\r\n\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>history</Icon> {worker.age} years old\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>attach_money</Icon>{\" \"}\r\n            {worker.processFeesBhdFormatted}\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>work</Icon> {worker.jobTitle}\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>school</Icon>{\" \"}\r\n            {worker.educationalLevel}\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>attach_money</Icon>{\" \"}\r\n            {worker.monthlySalaryBhdFormatted}\r\n          </SmallText>\r\n        </Grid>\r\n\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>brightness_3</Icon> {worker.religion}\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>sms</Icon>{\" \"}\r\n            {worker.demoLanguageSkillsText} Spoken\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={infoGridXs} md={infoGridMd}>\r\n          <SmallText>\r\n            <Icon fontSize={iconFontSize}>phone</Icon> {worker.phone}\r\n          </SmallText>\r\n        </Grid>\r\n      </Grid>\r\n      <Box mt={2} display=\"none\" textAlign=\"right\">\r\n        <Button\r\n          color=\"secondary\"\r\n          variant={buttonVariant}\r\n          size=\"small\"\r\n          style={buttonStyle}\r\n        >\r\n          CV Details\r\n        </Button>\r\n        <Button\r\n          color=\"secondary\"\r\n          variant={buttonVariant}\r\n          size=\"small\"\r\n          style={buttonStyle}\r\n        >\r\n          <Icon fontSize=\"inherit\">favorite</Icon>\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          variant={buttonVariant}\r\n          size=\"small\"\r\n          style={buttonStyle}\r\n        >\r\n          Select\r\n        </Button>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Worker2ListCardInfo;\r\n","import { Box, Divider } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport UseStyles from \"../../../config/UseStyles\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport Worker2ListCardInfo from \"./Worker2ListCardInfo\";\r\nimport Worker2ListCardPicTitle from \"./Worker2ListCardPicTitle\";\r\n\r\n\r\nconst Worker2ListCard = (props: {\r\n  worker: IWorkerTwoYear;\r\n  picClickEvent: any;\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n\r\n  const classes = UseStyles();\r\n\r\n  return (\r\n    <React.Fragment key={props.worker._id}>\r\n      <Box pt={1} className={classes.hoverBox}>\r\n        <Worker2ListCardPicTitle\r\n          onPicTitleClick={props.picClickEvent}\r\n          worker={props.worker}\r\n          showButtons={true}\r\n          onReserveButton={props.onReserveButton}\r\n        >\r\n          <Worker2ListCardInfo worker={props.worker} />\r\n        </Worker2ListCardPicTitle>\r\n        <Box pt={1}>\r\n          <Divider />\r\n        </Box>\r\n      </Box>\r\n \r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Worker2ListCard;\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst DetailsButton = (props: { onClick: any }) => {\r\n const {t} = useTranslation();\r\n\r\n  return (\r\n    <Button\r\n      onClick={props.onClick}\r\n      style={{ marginLeft: 8 }}\r\n      size=\"small\"\r\n      color=\"primary\"\r\n      variant=\"outlined\"\r\n    >\r\n      {t(\"button.details\")}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default DetailsButton;\r\n","import { Avatar } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { S3Folder } from \"estreeh-common-library/src/types/S3Folder\";\r\n\r\ninterface Props {\r\n  worker: IWorkerTwoYear;\r\n  variant?: 1 | 2;\r\n  width?: number | string;\r\n  height?: number | string;\r\n}\r\n\r\nexport default function Worker2SmallPic({\r\n  worker,\r\n  height,\r\n  width,\r\n  variant,\r\n}: Props): ReactElement {\r\n  let paddingLeft: string | undefined;\r\n  let paddingRight: string | undefined;\r\n  if (variant === 1) {\r\n    width = \"100%\";\r\n    height = 151;\r\n  }\r\n  if (variant === 2) {\r\n    width = \"92%\";\r\n    height = 90;\r\n    paddingLeft = \"4%\";\r\n    paddingRight = \"4%\";\r\n  }\r\n  const folder: S3Folder = \"2y/sm\";\r\n  return (\r\n    <Avatar\r\n      src={`${process.env.REACT_APP_IMAGES_ROOT}/${folder}/${worker.id}.${worker.smallPictureFileExt}`}\r\n      style={{\r\n        width,\r\n        minHeight: height,\r\n        alignSelf: \"center\",\r\n        paddingLeft,\r\n        paddingRight,\r\n      }}\r\n      variant=\"rounded\"\r\n    />\r\n  );\r\n}\r\n","import {  Box, Divider, Grid, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport { localTransferExplanation } from \"../../../config/FilterOptions\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport DetailsButton from \"../../common/DetailsButton\";\r\nimport FavoriteButton from \"../../common/FavoriteButton\";\r\nimport NiceBox from \"../../common/NiceBox\";\r\n// import OrangeChip from \"../../common/OrangeChip\";\r\nimport SelectWorkerButton from \"../../common/SelectWorkerButton\";\r\nimport IconInfo from \"../IconInfo\";\r\nimport Worker2SmallPic from \"./Worker2SmallPic\";\r\n\r\nconst Worker2GridCard = (props: {\r\n  worker: IWorkerTwoYear;\r\n  picClickEvent: any;\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}) => {\r\n  const {t} = useTranslation();\r\n\r\n  const worker = props.worker;\r\n\r\n  const clickableStyle: React.CSSProperties = {\r\n    cursor: \"pointer\",\r\n    userSelect: \"none\",\r\n  };\r\n\r\n\r\n  // const localTransferChip = worker.isLocalTransfer ? (\r\n  //   <OrangeChip label=\"Local Transfer\" />\r\n  // ) : null;\r\n\r\n  const localTransferInfoLine = (\r\n    <React.Fragment>\r\n      {worker.isLocalTransfer && (\r\n        <IconInfo style={{ color: Branding.text.warning }} icon=\"warning\" title={localTransferExplanation}>\r\n          Available in Bahrain\r\n        </IconInfo>\r\n      )}\r\n      {!worker.isLocalTransfer && <IconInfo icon=\"hehehehe\">&nbsp;</IconInfo>}\r\n    </React.Fragment>\r\n  );\r\n\r\n  // const localTransferGrid = worker.isLocalTransfer ? (\r\n  //   <Grid xs={6}>{localTransferInfoLine}</Grid>\r\n  // ) : null;\r\n\r\n  return (\r\n    <Grid item xs={12} sm={6} md={4}>\r\n      <NiceBox p={1} my={0}>\r\n        <Box style={clickableStyle} onClick={props.picClickEvent}>\r\n          <Grid container>\r\n            <Grid item xs={worker.isLocalTransfer ? 12 : 12}>\r\n              <Typography style={{ fontWeight: \"bold\" }}>\r\n                {worker.name}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Box py={1}>\r\n            <Divider />\r\n          </Box>\r\n\r\n          <Box>\r\n            <Grid container>\r\n              <Grid item xs={5}>\r\n                <Box textAlign=\"center\" style={clickableStyle}>\r\n                  <Worker2SmallPic worker={worker} variant={1} />\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={7}>\r\n                <Box px={1}>\r\n                  <IconInfo icon=\"work\" title=\"Job Title\">\r\n                    {worker.jobTitle}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"history\" title=\"Age\">\r\n                    {worker.age} {t(\"years-old\")}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"brightness_3\" title=\"Religion\">\r\n                    {worker.religion}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"fiber_smart_record\" title=\"Marital Status\">\r\n                    {worker.maritalStatus}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"local_airport\" title=\"Experience\">\r\n                    {worker.experienceYears} years experience\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"attach_money\" title=\"Salary\">\r\n                    {worker.monthlySalaryBhdFormatted}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"request_quote\" title=\"Process Fees\">\r\n                    {worker.processFeesBhdFormatted}\r\n                  </IconInfo>\r\n                  {localTransferInfoLine}\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Box py={1}>\r\n          <Divider />\r\n        </Box>\r\n        <Box textAlign=\"center\">\r\n          <FavoriteButton worker={worker} />\r\n          <DetailsButton onClick={props.picClickEvent} />\r\n          <SelectWorkerButton onClick={props.onReserveButton} />\r\n        </Box>\r\n      </NiceBox>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Worker2GridCard;\r\n","import { Drawer } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { Anchor } from \"estreeh-common-library/src/types/Anchor\";\r\nimport { Design } from \"estreeh-common-library/src/types/Design\";\r\nimport Worker2Details from \"./Worker2Details\";\r\nimport { withBreakpoints } from \"react-breakpoints\";\r\nimport { useNavigate } from \"@reach/router\";\r\nimport Worker2ListCard from \"./Worker2ListCard\";\r\nimport Worker2GridCard from \"./Worker2GridCard\";\r\nimport { ClickEvent } from \"estreeh-common-library/src/types/ClickEvent\";\r\nimport {\r\n  useStoreActions,\r\n  useStoreState,\r\n} from \"../../../helpers/StoreTypedHooks\";\r\n\r\nconst Worker2CardWrapper = (props: {\r\n  worker: IWorkerTwoYear;\r\n  design: Design;\r\n  breakpoints: any;\r\n  currentBreakpoint: any;\r\n}) => {\r\n  const user = useStoreState((s) => s.user.item);\r\n  const setReturnUrl = useStoreActions((a) => a.returnUrl.setItem);\r\n  // const setSelectedWorker = useStoreActions(\r\n  //   (a) => a.selectedWorkerTwoYear.setItem\r\n  // );\r\n\r\n  const [state, setState] = React.useState({\r\n    top: false,\r\n    left: false,\r\n    bottom: false,\r\n    right: false,\r\n  });\r\n\r\n  const nextUrl = \"/new-request/two-year-worker/\" + props.worker.guid;\r\n  const loggedIn = user !== undefined;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const toggleDrawer =\r\n    (anchor: Anchor, open: boolean) =>\r\n    (event: React.KeyboardEvent | React.MouseEvent) => {\r\n      if (\r\n        event.type === \"keydown\" &&\r\n        ((event as React.KeyboardEvent).key === \"Tab\" ||\r\n          (event as React.KeyboardEvent).key === \"Shift\")\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      setState({ ...state, [anchor]: open });\r\n    };\r\n\r\n  const linkToDrawerPage =\r\n    () => (event: React.KeyboardEvent | React.MouseEvent) => {\r\n      navigate(\r\n        props.worker.agency?._id + \"/worker-details/\" + props.worker._id\r\n      );\r\n    };\r\n\r\n  const { breakpoints, currentBreakpoint } = props;\r\n\r\n  const anchor: Anchor = \"right\";\r\n\r\n  const onReserveButton = () => {\r\n    // setSelectedWorker(props.worker);\r\n    setReturnUrl(nextUrl);\r\n    navigate(loggedIn ? nextUrl : \"/login-prompt\");\r\n  };\r\n\r\n  let picClickEvent: ClickEvent;\r\n\r\n  const isMd = breakpoints[currentBreakpoint] > breakpoints.md;\r\n\r\n  if (isMd) {\r\n    picClickEvent = toggleDrawer(anchor, true);\r\n  } else {\r\n    picClickEvent = linkToDrawerPage();\r\n  }\r\n\r\n  return (\r\n    <React.Fragment key={props.worker._id}>\r\n      {props.design === \"list\" && (\r\n        <Worker2ListCard\r\n          worker={props.worker}\r\n          picClickEvent={picClickEvent}\r\n          onReserveButton={onReserveButton}\r\n        />\r\n      )}\r\n      {props.design === \"grid\" && (\r\n        <Worker2GridCard\r\n          worker={props.worker}\r\n          picClickEvent={picClickEvent}\r\n          onReserveButton={onReserveButton}\r\n        />\r\n      )}\r\n      {isMd && (\r\n        <Drawer\r\n          anchor={anchor}\r\n          open={state[anchor]}\r\n          onClose={toggleDrawer(anchor, false)}\r\n        >\r\n          <Worker2Details\r\n            worker={props.worker}\r\n            onReserveButton={onReserveButton}\r\n          />\r\n        </Drawer>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withBreakpoints(Worker2CardWrapper);\r\n","import { Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\nimport WorkerRentalGridCard from \"../worker/rental/WorkerRentalGridCard\";\r\nimport Worker2CardWrapper from \"../worker/two-years/Worker2CardWrapper\";\r\n\r\nconst AgencyTabPanelGridDesign = (props: {\r\n  tab: IAgencyTab;\r\n  isHourly: boolean;\r\n  isMonthly: boolean;\r\n}) => {\r\n\r\n  // Hides the hidden workers\r\n  const workersTwoYear = props.tab.workersTwoYear?.map(x => x).filter(x => x.hidden === false && x.collected === false);\r\n\r\n  return (\r\n    <Grid container spacing={1}>\r\n      {workersTwoYear && workersTwoYear.map((worker) => (\r\n        <Worker2CardWrapper\r\n          worker={worker}\r\n          design=\"grid\"\r\n          key={worker._id}\r\n        />\r\n      ))}\r\n      {props.tab.workersRental?.map((worker) => (\r\n        <WorkerRentalGridCard\r\n          worker={worker}\r\n          isHourly={props.isHourly}\r\n          isMonthly={props.isMonthly}\r\n          showButtons={true}\r\n          key={worker._id}\r\n        />\r\n      ))}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default AgencyTabPanelGridDesign;\r\n","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { Box, Grid, GridSize, Icon, Typography } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport dateFormat from \"dateformat\";\r\nimport IMonthlySlot from \"estreeh-common-library/src/interfaces/IMonthlySlot\";\r\n\r\nconst MonthlySlot = (props: { slot: IMonthlySlot; md:GridSize }) => {\r\n  const slot = props.slot;\r\n  const [selected, setSelected] = useState(slot.selected);\r\n  // const selectedColor = \"#56c7ff\";\r\n  const fontSize = Branding.fontSize.small - 2;\r\n  const selectedColor = Branding.slotColors.selected;\r\n  const shadow = Branding.slotColors.shadow(slot.color);\r\n  const shadowSelected = Branding.slotColors.shadow(selectedColor, 2, 1);\r\n  // const hoverStyles: CSSObject = {\r\n  //   backgroundColor: Branding.slotColors.hover,\r\n  //   boxShadow: Branding.slotColors.shadow(Branding.primary, 0, 1),\r\n  // };\r\n  return (\r\n    <Grid item md={props.md} xs={6}>\r\n      <Box px={0.5} py={.5}>\r\n        <div\r\n          onClick={() => {\r\n            if (slot.clickable) setSelected(!selected);\r\n          }}\r\n          css={{\r\n            cursor: slot.clickable ? \"pointer\" : \"default\",\r\n            padding: \"2px 4px\",\r\n            // margin: \"6px 0\",\r\n            backgroundColor: selected ? selectedColor : slot.color,\r\n            borderRadius: Branding.borderRadius.niceRadius / 2,\r\n            boxShadow: selected ? shadowSelected : shadow,\r\n            transition: Branding.transition,\r\n            userSelect: \"none\",\r\n            position: \"relative\",\r\n            // \":hover\": slot.clickable && !selected ? hoverStyles : {},\r\n          }}\r\n        >\r\n          <Typography\r\n            style={{\r\n              fontSize: fontSize,\r\n              fontWeight: \"bold\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {selected && (\r\n              <Box position=\"absolute\">\r\n                <Icon color=\"primary\" style={{ fontSize: fontSize + 3 }}>\r\n                  check\r\n                </Icon>\r\n              </Box>\r\n            )}\r\n            {dateFormat(slot.date, \"mmmm yyyy\")}\r\n          </Typography>\r\n        </div>\r\n      </Box>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MonthlySlot;\r\n","/** @jsxRuntime classic */\r\n/** @jsx jsx */\r\nimport { jsx } from \"@emotion/react\";\r\nimport { Box, Icon, Typography } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport dateFormat from \"dateformat\";\r\n\r\nconst HourlySlot = (props: { slot: IHourlySlot }) => {\r\n  const slot = props.slot;\r\n  const [selected, setSelected] = useState(slot.selected);\r\n  const from = dateFormat(slot.hourlySlotDefinition?.from, \"h:MM\");\r\n  const to = dateFormat(slot.hourlySlotDefinition?.to, \"h:MM tt\");\r\n  // const single = dateFormat(slot.hourlySlotDefinition?.from, \"h:MM tt\");\r\n  // const selectedColor = \"#56c7ff\";\r\n  const fontSize = Branding.fontSize.small - 2;\r\n  const selectedColor = Branding.slotColors.selected;\r\n  const shadow = Branding.slotColors.shadow(slot.color);\r\n  const shadowSelected = Branding.slotColors.shadow(selectedColor, 2, 1);\r\n  // const hoverStyles: CSSObject = {\r\n  //   backgroundColor: Branding.slotColors.hover,\r\n  //   boxShadow: Branding.slotColors.shadow(Branding.primary, 0, 1),\r\n  // };\r\n  return (\r\n    <div\r\n      onClick={() => {\r\n        if (slot.clickable) setSelected(!selected);\r\n      }}\r\n      css={{\r\n        cursor: slot.clickable ? \"pointer\" : \"default\",\r\n        padding: \"2px 4px\",\r\n        margin: \"6px 0\",\r\n        backgroundColor: selected ? selectedColor : slot.color,\r\n        borderRadius: Branding.borderRadius.niceRadius / 2,\r\n        boxShadow: selected ? shadowSelected : shadow,\r\n        transition: Branding.transition,\r\n        userSelect: \"none\",\r\n        position: \"relative\",\r\n        // \":hover\": slot.clickable && !selected ? hoverStyles : {},\r\n      }}\r\n    >\r\n      <Typography\r\n        style={{\r\n          fontSize: fontSize,\r\n          fontWeight: \"bold\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        {selected && (\r\n          <Box position=\"absolute\">\r\n            <Icon color=\"primary\" style={{ fontSize: fontSize + 3 }}>\r\n              check\r\n            </Icon>\r\n          </Box>\r\n        )}\r\n        {from} - {to}\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HourlySlot;\r\n","import { Box, Grid, GridSize, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport HourlySlot from \"./HourlySlot\";\r\nimport dateFormat from \"dateformat\";\r\nimport Branding from \"../../../config/Branding\";\r\n\r\nconst HourlySlotsDay = (props: { dateKey: string; slots: IHourlySlot[]; md:GridSize }) => {\r\n  const date: Date | undefined =\r\n    props.slots.length > 0 ? props.slots[0].date : new Date(props.dateKey);\r\n\r\n  const items = props.slots.map((slot) => <HourlySlot slot={slot} />);\r\n\r\n  const day = dateFormat(date, \"ddd\");\r\n  const dayMonth = dateFormat(date, \"d-mmm\");\r\n\r\n  const textStyle: React.CSSProperties = {\r\n    fontSize: Branding.fontSize.small,\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    // color: Branding.text.secondary,\r\n  };\r\n\r\n  return (\r\n    <Grid item md={props.md} xs={6}>\r\n      <Box px={0.5} py={1}>\r\n        <Grid container>\r\n          <Grid item xs={12}>\r\n            <Typography style={textStyle}>\r\n              {day}&nbsp;{dayMonth}\r\n            </Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Box>{items}</Box>\r\n      </Box>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default HourlySlotsDay;\r\n","import { Box, Grid, GridSize } from \"@material-ui/core\";\r\nimport React, { ReactNode } from \"react\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport _ from \"lodash\";\r\nimport HourlySlotsDay from \"./HourlySlotsDay\";\r\n\r\nconst WorkerRentalCardHourlySlots = (props: {\r\n  slotsDictionary: _.Dictionary<IHourlySlot[]>;\r\n  md: GridSize;\r\n  maxDays: number;\r\n}) => {\r\n  // const slotsDictionary = _.cloneDeep(props.slotsDictionary);\r\n\r\n  // Object.keys(slotsDictionary).forEach((key, index) => {\r\n  //   if (index >= props.maxDays) delete slotsDictionary[key];\r\n  // });\r\n\r\n  // const items = _.map(slotsDictionary, (slots, key) => (\r\n  //   <HourlySlotsDay slots={slots} dateKey={key} md={props.md} />\r\n  // ));\r\n\r\n  let items: ReactNode[] = [];\r\n  const slotsDictionary = props.slotsDictionary;\r\n\r\n  Object.keys(slotsDictionary).forEach((key, index) => {\r\n    if (index < props.maxDays) {\r\n      items.push(\r\n        <HourlySlotsDay\r\n          slots={slotsDictionary[key]}\r\n          dateKey={key}\r\n          md={props.md}\r\n        />\r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Box>\r\n      <Grid container>{items}</Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default WorkerRentalCardHourlySlots;\r\n","import { Grid, GridSize } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport MonthlySlot from \"./MonthlySlot\";\r\nimport WorkerRentalCardHourlySlots from \"./WorkerRentalCardHourlySlots\";\r\n\r\nconst WorkerRentalCardSlots = (props: {\r\n  worker: IWorkerRental;\r\n  isHourly: boolean;\r\n  isMonthly: boolean;\r\n  md: GridSize;\r\n  maxDays: number;\r\n  maxMonths: number;\r\n}) => {\r\n  let hourlySlots = props.worker.hourlySlotsDictionary;\r\n  let monthlySlots = props.worker.monthlySlots;\r\n\r\n  if (monthlySlots.length > props.maxMonths) {\r\n    monthlySlots.length = props.maxMonths;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      {props.isHourly && (\r\n        <WorkerRentalCardHourlySlots slotsDictionary={hourlySlots} md={props.md} maxDays={props.maxDays} />\r\n      )}\r\n      {props.isMonthly && (\r\n        <Grid container>\r\n          {monthlySlots.map((slot) => (\r\n            <MonthlySlot slot={slot} key={slot.id} md={props.md} />\r\n          ))}\r\n        </Grid>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default WorkerRentalCardSlots;\r\n","import { Avatar, Box, Divider, Grid, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\nimport UseStyles from \"../../../config/UseStyles\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport Dot from \"../../common/Dot\";\r\nimport FavoriteButton from \"../../common/FavoriteButton\";\r\nimport ReserveWorkerButton from \"../../common/ReserveWorkerButton\";\r\nimport SmallText from \"../../common/SmallText\";\r\nimport WorkerRentalCardSlots from \"./WorkerRentalCardSlots\";\r\n\r\nconst WorkerRentalListCard = (props: {\r\n  worker: IWorkerRental;\r\n  isHourly: boolean;\r\n  isMonthly: boolean;\r\n  picHeight?: number;\r\n  showButtons?: boolean;\r\n}) => {\r\n  const worker = props.worker;\r\n  const classes = UseStyles();\r\n  const clickableStyle = false ? { cursor: \"pointer\" } : {};\r\n\r\n  const picWidth = \"100%\";\r\n  const picHeight = props.picHeight ? props.picHeight : 80;\r\n  const hourlyWorkerLink = \"/new-request/hourly-worker\";\r\n  const monthlyWorkerLink = \"/new-request/monthly-worker\";\r\n\r\n  const buttons = props.showButtons ? (\r\n    <Grid item xs={5}>\r\n      <Box textAlign=\"right\" px={1} color={Branding.text.secondary}>\r\n        <FavoriteButton />\r\n        <ReserveWorkerButton\r\n          link={props.isHourly ? hourlyWorkerLink : monthlyWorkerLink}\r\n        />\r\n      </Box>\r\n    </Grid>\r\n  ) : null;\r\n\r\n  return (\r\n    <React.Fragment key={worker._id}>\r\n      <Box pt={1} className={classes.hoverBox}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={2}>\r\n            <Box textAlign=\"center\" style={clickableStyle}>\r\n              <Avatar\r\n                src={worker.smallPicture}\r\n                style={{\r\n                  width: picWidth,\r\n                  minHeight: picHeight,\r\n                  alignSelf: \"center\",\r\n                }}\r\n                variant=\"rounded\"\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={10}>\r\n            <Grid container>\r\n              <Grid item xs={7}>\r\n                <Box pb={1} style={clickableStyle}>\r\n                  <Typography style={{ fontWeight: \"bold\" }}>\r\n                    {worker.name}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n              {buttons}\r\n            </Grid>\r\n            <Box>\r\n              <Grid container>\r\n                <Grid item xs={12}>\r\n                  <SmallText>\r\n                    {worker.nationality}\r\n                    <Dot />\r\n                    {worker.jobTitle}\r\n                    <Dot />\r\n                    {worker.feesText}\r\n                  </SmallText>\r\n                </Grid>\r\n                {worker.remarks && (\r\n                  <Grid item xs={12}>\r\n                    <SmallText>{worker.remarks}</SmallText>\r\n                  </Grid>\r\n                )}\r\n              </Grid>\r\n            </Box>\r\n            <SmallText>\r\n              You can select more than 1 {props.isHourly ? \"timing\" : \"month\"}:\r\n            </SmallText>\r\n            <WorkerRentalCardSlots\r\n              worker={worker}\r\n              isHourly={props.isHourly}\r\n              isMonthly={props.isMonthly}\r\n              md={2}\r\n              maxDays={6}\r\n              maxMonths={6}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Box pt={1}>\r\n          <Divider />\r\n        </Box>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default WorkerRentalListCard;\r\n","import React from \"react\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\nimport WorkerRentalListCard from \"../worker/rental/WorkerRentalListCard\";\r\nimport Worker2CardWrapper from \"../worker/two-years/Worker2CardWrapper\";\r\n\r\nconst AgencyTabPanelListDesign = (props: {\r\n  tab: IAgencyTab;\r\n  isHourly: boolean;\r\n  isMonthly: boolean;\r\n}) => {\r\n  const tab = props.tab;\r\n  return (\r\n    <>\r\n      {tab.workersTwoYear?.map((worker) => (\r\n        <Worker2CardWrapper worker={worker} design=\"list\" />\r\n      ))}\r\n      {tab.workersRental?.map((worker) => (\r\n        <WorkerRentalListCard\r\n          worker={worker}\r\n          isHourly={props.isHourly}\r\n          isMonthly={props.isMonthly}\r\n          showButtons={true}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AgencyTabPanelListDesign;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { HomeTwoTone } from \"@material-ui/icons\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\n// import Branding from \"estreeh-common-library/src/config/Branding\";\r\nimport SmallText from \"../common/SmallText\";\r\n\r\ninterface Props {\r\n  text?: string;\r\n}\r\n\r\nexport default function AgencyTabRemarks(props: Props): ReactElement {\r\n  const iconStyles: React.CSSProperties = {\r\n    fontSize: 19,\r\n    color: Branding.primary,\r\n    verticalAlign: \"text-bottom\",\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.text && (\r\n        <Box\r\n          boxShadow={Branding.shadow.niceShadow}\r\n          p={1}\r\n          my={1}\r\n          bgcolor={Branding.lightest}\r\n          borderRadius={Branding.borderRadius.niceRadius}\r\n        >\r\n          <SmallText>\r\n            <Grid container spacing={1} alignItems=\"center\">\r\n              <Grid item>\r\n                <HomeTwoTone style={iconStyles} />\r\n              </Grid>\r\n              <Grid item>\r\n                <span dangerouslySetInnerHTML={{ __html: props.text }}></span>\r\n              </Grid>\r\n            </Grid>\r\n          </SmallText>\r\n        </Box>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { Box } from \"@material-ui/core\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\nimport { Design } from \"estreeh-common-library/src/types/Design\";\r\nimport TabPanel from \"../common/TabPanel\";\r\nimport WizardDatePicker from \"../wizard/controls/WizardDatePicker\";\r\nimport WizardMonthMultiplePicker from \"../wizard/controls/WizardMonthMultiplePicker\";\r\nimport AgencyTabPanelGridDesign from \"./AgencyTabPanelGridDesign\";\r\nimport AgencyTabPanelListDesign from \"./AgencyTabPanelListDesign\";\r\nimport AgencyTabRemarks from \"./AgencyTabRemarks\";\r\n\r\nconst AgencyTabPanels = (props: {\r\n  value: number;\r\n  tab: IAgencyTab;\r\n  index: number;\r\n  design: Design;\r\n}) => {\r\n  const tab = props.tab;\r\n  const isHourly = tab.rentalService?.isRentalHourly\r\n    ? tab.rentalService.isRentalHourly\r\n    : false;\r\n  let isMonthly = false;\r\n\r\n  if (\r\n    tab.rentalService?.isRentalMonthly ||\r\n    tab.rentalService?.isRentalMonthlyStayOver\r\n  ) {\r\n    isMonthly = true;\r\n  }\r\n\r\n  return (\r\n    <TabPanel\r\n      key={tab.index + \"_\" + tab.title}\r\n      value={props.value}\r\n      index={props.index}\r\n      pt={2}\r\n    >\r\n      {isMonthly && (\r\n        <Box my={1}>\r\n          <WizardMonthMultiplePicker />\r\n        </Box>\r\n      )}\r\n      {isHourly && (\r\n        <Box my={2}>\r\n          <WizardDatePicker />\r\n        </Box>\r\n      )}\r\n\r\n      <AgencyTabRemarks text={tab.remarks} />\r\n\r\n      {props.design === \"grid\" && (\r\n        <AgencyTabPanelGridDesign\r\n          tab={tab}\r\n          isHourly={isHourly}\r\n          isMonthly={isMonthly}\r\n        />\r\n      )}\r\n      {props.design === \"list\" && (\r\n        <AgencyTabPanelListDesign\r\n          tab={tab}\r\n          isHourly={isHourly}\r\n          isMonthly={isMonthly}\r\n        />\r\n      )}\r\n    </TabPanel>\r\n  );\r\n};\r\n\r\nexport default AgencyTabPanels;\r\n","import { Avatar, Box, Grid, Tab, Tabs, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport AgencyRatingInfo from \"./AgencyRatingInfo\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport AgencyTabPanels from \"./AgencyTabPanels\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\nimport { makeCountryChipsFromAgencyTabs } from \"./AgencyCard\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport CountryFlag from \"../common/CountryFlag\";\r\n\r\nconst AgencyDetails = (props: {\r\n  agency: IAgency;\r\n  showTwoYearTabs: boolean;\r\n  showRentalTabs: boolean;\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleTabChange = (event: React.ChangeEvent<{}>, newValue: any) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const agency = props.agency;\r\n\r\n  let tabs: IAgencyTab[];\r\n\r\n  if (props.showTwoYearTabs) {\r\n    tabs = agency.tabsTwoYearWorkers;\r\n  } else {\r\n    // tabs = [...agency.tabsRental, ...agency.tabsServices];\r\n    tabs = [...agency.tabsRental];\r\n  }\r\n\r\n  const countryChips = makeCountryChipsFromAgencyTabs(tabs, t);\r\n\r\n  // FIXME: \"Sri Lanka\" shows in 2 lines in mobile responsive devices\r\n  // FIXME: When changing filters the tab index misbehaves\r\n  const tabNavigationButtons = countryChips.map((country) => (\r\n    <Tab\r\n      label={\r\n        <CountryFlag\r\n          country={country}\r\n          showFees={false}\r\n          height={18}\r\n          marginRight={8}\r\n        />\r\n      }\r\n      style={{\r\n        fontWeight: \"bold\",\r\n        textTransform: \"none\",\r\n        flexDirection: \"row\",\r\n      }}\r\n      classes={{\r\n        wrapper: \"no-flex-direction\",\r\n      }}\r\n      key={country.country}\r\n    />\r\n  ));\r\n\r\n  let tabsIndex = -1;\r\n  const tabPanels = tabs.map((tab) => {\r\n    tabsIndex++;\r\n    return (\r\n      <AgencyTabPanels\r\n        value={value}\r\n        tab={tab}\r\n        index={tabsIndex}\r\n        design=\"grid\"\r\n        key={tab.title}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <NiceBox>\r\n      <Grid container spacing={2}>\r\n        <Grid item md={3} xs={12}>\r\n          <Avatar\r\n            variant=\"rounded\"\r\n            src={process.env.REACT_APP_IMAGES_ROOT + \"\" + agency.logo}\r\n            style={{\r\n              flexShrink: 0,\r\n              width: \"100%\",\r\n              minHeight: 100,\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item md={9} xs={12}>\r\n          <Typography variant=\"h5\">{agency.title}</Typography>\r\n          <Box>\r\n            <AgencyRatingInfo agency={agency} />\r\n            {/* <AgencyContactInfo agency={agency} /> */}\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Box\r\n            display={\r\n              tabNavigationButtons.length < 2 && props.showRentalTabs\r\n                ? \"none\"\r\n                : \"block\"\r\n            }\r\n          >\r\n            <Tabs\r\n              value={value}\r\n              onChange={handleTabChange}\r\n              indicatorColor=\"primary\"\r\n              scrollButtons=\"on\"\r\n              variant=\"scrollable\"\r\n            >\r\n              {tabNavigationButtons}\r\n            </Tabs>\r\n          </Box>\r\n          {tabPanels}\r\n        </Grid>\r\n      </Grid>\r\n    </NiceBox>\r\n  );\r\n};\r\n\r\nexport default AgencyDetails;\r\n","import { Box } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport AgencyDetails from \"./AgencyDetails\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\n\r\ninterface Params {\r\n  agencySlug: string;\r\n  showTwoYearTabs: boolean;\r\n  showRentalTabs: boolean;\r\n  agencies: IAgency[];\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nexport default function AgencyPage(props: Props): ReactElement {\r\n  const dataLoaded = useStoreState((state) => state.dataLoaded);\r\n\r\n  let agency = null;\r\n  let showTwoYearTabs = props.showTwoYearTabs ? props.showTwoYearTabs : false;\r\n  let showRentalTabs = props.showRentalTabs ? props.showRentalTabs : false;\r\n\r\n  if (props.agencySlug && props.agencies)\r\n    if (props.agencies.length > 0) {\r\n      const slug = props.agencySlug;\r\n      agency = props.agencies?.filter((x) => x.slug === slug)[0];\r\n\r\n      if (agency) {\r\n        return (\r\n          <React.Fragment>\r\n            <ScrollToTop />\r\n            <AgencyDetails\r\n              agency={agency}\r\n              showTwoYearTabs={showTwoYearTabs}\r\n              showRentalTabs={showRentalTabs}\r\n            />\r\n          </React.Fragment>\r\n        );\r\n      }\r\n    }\r\n  return <Box>{dataLoaded ? <>Finding data..</> : <>Loading...</>}</Box>;\r\n}\r\n","import { navigate, RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\nimport Worker2Details from \"../worker/two-years/Worker2Details\";\r\nimport { ObjectId } from \"bson\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Params {\r\n  workerTwoYearId: ObjectId;\r\n  workersTwoYear: IWorkerTwoYear[];\r\n  onReserveButton: React.MouseEventHandler<HTMLButtonElement>;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nconst WorkerDrawerPage = (props: Props) => {\r\n  const workersTwoYear = props.workersTwoYear ? props.workersTwoYear : [];\r\n  const workerId = props.workerTwoYearId ? props.workerTwoYearId : undefined;\r\n  const worker = workersTwoYear.find((worker) => worker._id === workerId);\r\n  const user = useStoreState((state) => state.user.item);\r\n  const loggedIn = user !== undefined;\r\n  const nextUrl = \"/new-request/two-year-worker/\" + worker?.guid;\r\n  const setReturnUrl = useStoreActions((action) => action.returnUrl.setItem);\r\n  // const setSelectedWorker = useStoreActions(\r\n  //   (action) => action.selectedWorkerTwoYear.setItem\r\n  // );\r\n\r\n  let onReserveButton: React.MouseEventHandler<HTMLButtonElement> = () => {};\r\n\r\n  onReserveButton = props.onReserveButton\r\n    ? props.onReserveButton\r\n    : () => {\r\n        setReturnUrl(nextUrl);\r\n        // setSelectedWorker(worker);\r\n        navigate(loggedIn ? nextUrl : \"/login-prompt\");\r\n      };\r\n\r\n  return (\r\n    <>\r\n      <ScrollToTop />\r\n      {worker && (\r\n        <Worker2Details worker={worker} onReserveButton={onReserveButton} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WorkerDrawerPage;\r\n","import { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\n\r\ninterface Params {}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nexport default function SideFilterHidden(props: Props): ReactElement {\r\n  return <React.Fragment></React.Fragment>;\r\n}\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { Router } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IPage from \"estreeh-common-library/src/interfaces/IPage\";\r\nimport SideFilterContainer from \"../side-filter/SideFilterContainer\";\r\nimport AgenciesPage from \"../agency/AgenciesPage\";\r\nimport AgencyPage from \"../agency/AgencyPage\";\r\nimport WorkerDrawerPage from \"../pages/WorkerDrawerPage\";\r\nimport SideFilterHidden from \"../side-filter/SideFilterHidden\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\n\r\n\r\nexport default function AgenciesDataProvider(props: IPage): ReactElement {\r\n  const dataLoaded = useStoreState((state) => state.dataLoaded.item);\r\n  const agencies = useStoreState((state) => state.agency.items);\r\n  const agenciesContract = useStoreState(\r\n    (state) => state.agencyTwoYear.items\r\n  );\r\n  const workersTwoYear = useStoreState((state) => state.workerTwoYear.items);\r\n  const showSortButton = false;\r\n\r\n  const isMd = props.isMd;\r\n  const toRender =\r\n    agencies.length > 0 && agenciesContract.length > 0 ? (\r\n      <Router primary={false}>\r\n        <AgenciesPage\r\n          agencies={agenciesContract}\r\n          path=\"contract\"\r\n          showContractInfo={true}\r\n        />\r\n\r\n        {/* FUTURE: Enable lease pages when store is complete */}\r\n\r\n        {/* <AgenciesPage\r\n        agencies={props.toolboxData.agenciesLeasedHourly}\r\n        path=\"leased-hourly\"\r\n        showRentedInfo={true}\r\n        toolboxData={props.toolboxData}\r\n      />\r\n      <AgenciesPage\r\n        agencies={props.toolboxData.agenciesLeasedMonthly}\r\n        path=\"leased-monthly\"\r\n        showRentedInfo={true}\r\n        toolboxData={props.toolboxData}\r\n      /> \r\n            <AgencyPage\r\n        agencies={props.toolboxData.agenciesLeasedHourly}\r\n        showRentalTabs={true}\r\n        path=\"leased-hourly/:agencyId\"\r\n        toolboxData={props.toolboxData}\r\n        setToolbox={props.setToolbox}\r\n      />\r\n      <AgencyPage\r\n        agencies={props.toolboxData.agenciesLeasedMonthly}\r\n        showRentalTabs={true}\r\n        path=\"leased-monthly/:agencyId\"\r\n        toolboxData={props.toolboxData}\r\n        setToolbox={props.setToolbox}\r\n      />\r\n              <AgencyPage\r\n          agencies={agencies}\r\n          showRentalTabs={true}\r\n          path=\"leased/:agencyId\"\r\n          toolboxData={props.toolboxData}\r\n          setToolbox={props.setToolbox}\r\n        />\r\n      */}\r\n        <AgencyPage\r\n          agencies={agenciesContract}\r\n          showTwoYearTabs={true}\r\n          path=\"contract/:agencySlug\"\r\n        />\r\n        <WorkerDrawerPage\r\n          workersTwoYear={workersTwoYear}\r\n          path=\"contract/:agencyId/worker-details/:workerTwoYearId\"\r\n        />\r\n      </Router>\r\n    ) : (\r\n      <NiceBox>{dataLoaded ? <>There are no workers that match your current filters.</> : <>Loading...</>}</NiceBox>\r\n    );\r\n\r\n  return (\r\n    <Grid container spacing={0}>\r\n      <Grid item xs={12} md={3}>\r\n        <Box pr={isMd ? 2 : 0}>\r\n          <Router primary={false}>\r\n            <SideFilterHidden path=\"contract/:agencyId/worker-details/:workerTwoYearId\" />\r\n            <SideFilterContainer\r\n              default\r\n              showSortButton={showSortButton}\r\n              is2Year={true}\r\n              isLeased={false}\r\n              isMd={isMd}\r\n            />\r\n            <SideFilterContainer\r\n              path=\"leased-monthly/*\"\r\n              showSortButton={showSortButton}\r\n              is2Year={false}\r\n              isLeased={true}\r\n              isMd={isMd}\r\n            />\r\n            <SideFilterContainer\r\n              path=\"leased-hourly/*\"\r\n              showSortButton={showSortButton}\r\n              is2Year={false}\r\n              isLeased={true}\r\n              isMd={isMd}\r\n            />\r\n          </Router>\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={12} md={9}>\r\n        {toRender}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\n// import { ApplicationFormSetter } from \"estreeh-common-library/src/types/ApplicationFormSetter\";\r\nimport { IApplicationForm } from \"estreeh-common-library/src/interfaces/IApplicationForm\";\r\nimport { FormikProps } from \"formik\";\r\n\r\nconst RequestFormGeneral = (props: {\r\n  showAddress?: boolean;\r\n  showFrequency?: boolean;\r\n  showEquipmentOption?: boolean;\r\n  // applicationForm: IApplicationForm;\r\n  // setApplicationForm: ApplicationFormSetter;\r\n  formik: FormikProps<IApplicationForm>;\r\n}) => {\r\n  const headerVariant = \"h6\";\r\n  const inputSize: \"small\" | \"medium\" = \"medium\";\r\n  const inputVariant = \"outlined\";\r\n  const showAddress = props.showAddress ? props.showAddress : false;\r\n  const showEquipmentOption = props.showEquipmentOption\r\n    ? props.showEquipmentOption\r\n    : false;\r\n\r\n  const formik = props.formik;\r\n\r\n  // const a = props.applicationForm;\r\n  // const set = props.setApplicationForm;\r\n\r\n  //TODO: Two year contract some have addons options (like INSURANCE) F#36\r\n  //TODO: Implement FORM VALIDATION (Research from tutorials and videos)\r\n  //TODO: Implement check for duplicate email That is VALIDATED email (Allow duplicate unvalidated email)\r\n  //TODO: Bind these fields (it works or not..?)\r\n\r\n  // TODO: Mobile Number is mandatory\r\n  // TODO: If logged in, mobile number is read-only\r\n\r\n  // TODO: New page after submit IF NOT LOGGED IN, check via API if mobile number already exist or not:\r\n  // TODO: If not logged in + Mobile not exist: OTP\r\n  // TODO: If not logged in + Mobile exist: Enter Password\r\n  // TODO: If logged in: Skip\r\n\r\n\r\n  return (\r\n    <>\r\n      <Box pb={1}>\r\n        <Typography variant={headerVariant}>Application Details</Typography>\r\n      </Box>\r\n      <Box pb={1}>\r\n        <TextField\r\n          label=\"Name\"\r\n          variant={inputVariant}\r\n          size={inputSize}\r\n          error={formik.touched.fullName && formik.errors.fullName !== undefined}\r\n          helperText={formik.touched.fullName && formik.errors.fullName}\r\n          \r\n          {...formik.getFieldProps(\"fullName\")}\r\n\r\n        />\r\n        <TextField\r\n          label=\"Mobile Number\"\r\n          variant={inputVariant}\r\n          size={inputSize}\r\n          error={formik.touched.mobileNumber && formik.errors.mobileNumber !== undefined}\r\n          helperText={formik.touched.mobileNumber && formik.errors.mobileNumber}\r\n          \r\n          {...formik.getFieldProps(\"mobileNumber\")}\r\n\r\n        />\r\n        <TextField\r\n          label=\"Other Mobile Number (Optional)\"\r\n          variant={inputVariant}\r\n          size={inputSize}\r\n          {...formik.getFieldProps(\"otherMobileNumber\")}\r\n          // value={a.otherMobileNumber}\r\n          // onChange={(e) =>\r\n          //   set((v) => ({ ...v, otherMobileNumber: e.target.value }))\r\n          // }\r\n        />\r\n        {/* <TextField\r\n          label=\"Email\"\r\n          variant={inputVariant}\r\n          size={inputSize}\r\n          // type=\"email\"\r\n          error={formik.touched.email && formik.errors.email !== undefined}\r\n          helperText={formik.touched.email && formik.errors.email}\r\n          {...formik.getFieldProps(\"email\")}\r\n          // value={a.email}\r\n          // onChange={(e) => set((v) => ({ ...v, email: e.target.value }))}\r\n        /> */}\r\n        {showAddress && (\r\n          <TextField\r\n            label=\"Address\"\r\n            variant={inputVariant}\r\n            size={inputSize}\r\n            multiline\r\n            rows={3}\r\n            {...formik.getFieldProps(\"address\")}\r\n            // value={a.address}\r\n            // onChange={(e) => set((v) => ({ ...v, address: e.target.value }))}\r\n          />\r\n        )}\r\n        <TextField\r\n          label=\"Special Notes (Optional)\"\r\n          variant={inputVariant}\r\n          size={inputSize}\r\n          multiline\r\n          rows={3}\r\n          {...formik.getFieldProps(\"specialNotes\")}\r\n          // value={a.specialNotes}\r\n          // onChange={(e) => set((v) => ({ ...v, specialNotes: e.target.value }))}\r\n        />\r\n        {showEquipmentOption && (\r\n          <FormControlLabel\r\n            label=\"Bring Equipment (2 BD/Day)\"\r\n            control={\r\n              <Checkbox\r\n                color=\"primary\"\r\n                {...formik.getFieldProps(\"bringCleaningTools\")}\r\n              />\r\n            }\r\n          />\r\n        )}\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RequestFormGeneral;\r\n","function FormatCurrency(number: number, fixed: number = 3) {\r\n  if (number !== undefined) {\r\n    if (fixed > 0) {\r\n      return number.toFixed(fixed).replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\r\n    } else {\r\n      return number.toFixed(fixed).replace(/\\d(?=(\\d{3})+)/g, \"$&,\");\r\n    }\r\n  }\r\n}\r\n\r\nexport default FormatCurrency;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport FormatCurrency from \"../../helpers/FormatCurrency\";\r\nimport SmallText from \"./SmallText\";\r\n\r\nconst PaymentSummaryItem = (props: {\r\n  title: string;\r\n  amount: number;\r\n  emphasized?: boolean;\r\n  py?: number;\r\n}) => {\r\n  const formattedAmount = FormatCurrency(props.amount);\r\n\r\n  const fontWeight = props.emphasized ? \"bold\" : \"normal\";\r\n  const py = props.py ? props.py : 0;\r\n  return (\r\n    <Box fontWeight={fontWeight} py={py}>\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={8}>\r\n          <SmallText style={{ fontWeight: fontWeight }}>\r\n            {props.title}\r\n          </SmallText>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <Box textAlign=\"left\">\r\n            <SmallText style={{ fontWeight: fontWeight }}>\r\n              <span style={{ fontSize:\"80%\" }}>BHD</span> {formattedAmount}\r\n            </SmallText>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PaymentSummaryItem;\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport IPaymentSummaryItem from \"estreeh-common-library/src/interfaces/IPaymentSummaryItem\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport AgencyTabRemarks from \"../agency/AgencyTabRemarks\";\r\nimport PaymentSummaryItem from \"../common/PaymentSummaryItem\";\r\n\r\nconst RequestPaymentSummary = (props: {\r\n  paymentItems: IPaymentSummaryItem[];\r\n  remarks?:string;\r\n  workerRental?: IWorkerRental;\r\n}) => {\r\n  const headerVariant = \"h6\";\r\n\r\n  let total: number = 0;\r\n  props.paymentItems.forEach((item) => {\r\n    total += item.amount;\r\n  });\r\n\r\n  //TODO: Add the new items from Backend (Process Fees, fixed fees)\r\n\r\n  return (\r\n    <>\r\n      <Box pb={1} pt={2}>\r\n        <Typography variant={headerVariant}>Payment Summary</Typography>\r\n      </Box>\r\n      <Box maxWidth={340}>\r\n        {props.paymentItems.map((item) => (\r\n          <PaymentSummaryItem title={item.title} amount={item.amount} />\r\n        ))}\r\n        {/* <PaymentSummaryItem title=\"VAT (5%)\" amount={0} /> */}\r\n        <PaymentSummaryItem\r\n          title=\"Total Amount\"\r\n          amount={total}\r\n          emphasized={true}\r\n        />\r\n      </Box>\r\n      {props.workerRental &&\r\n        props.workerRental.service &&\r\n        props.workerRental.service.remarks && (\r\n          <Box my={1}>\r\n            <AgencyTabRemarks text={props.workerRental.service?.remarks} />\r\n          </Box>\r\n        )}\r\n      <Box\r\n        my={2}\r\n        fontStyle=\"italic\"\r\n        color={Branding.text.warning}\r\n        fontWeight=\"bold\"\r\n      >\r\n        {props.remarks}\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RequestPaymentSummary;\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\n\r\nfunction instanceOfInterface<T>(object: any): object is T {\r\n  return \"member\" in object;\r\n}\r\n\r\nexport function instanceOfIAgency(object: any): object is IAgency {\r\n  return instanceOfInterface<IAgency>(object);\r\n}\r\n","import { Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport SmallText from \"./SmallText\";\r\n\r\nconst ConfirmationSummaryItem = (props: {\r\n  title: string;\r\n  value: string | undefined;\r\n}) => {\r\n  return (\r\n    <Grid container spacing={1}>\r\n      <Grid item md={4} xs={6}>\r\n        <SmallText style={{ fontWeight: \"bold\" }}>{props.title}</SmallText>\r\n      </Grid>\r\n      <Grid item md={8} xs={6}>\r\n        <SmallText>{props.value}</SmallText>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ConfirmationSummaryItem;\r\n","import { Avatar, Box, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport { instanceOfIAgency } from \"../../interface_tests/interfaceTests\";\r\nimport ConfirmationSummaryItem from \"../common/ConfirmationSummaryItem\";\r\n\r\nconst RequestWorkerRental = (props: {\r\n  picWidth: string | number;\r\n  picHeight: string | number;\r\n  worker: IWorkerRental;\r\n}) => {\r\n  const worker = props.worker;\r\n  const picWidth = props.picWidth;\r\n  const picHeight = props.picHeight;\r\n  const agency = instanceOfIAgency(worker.agency) ? worker.agency : undefined;\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item xs={12} md={4}>\r\n        <Box>\r\n          <Avatar\r\n            style={{\r\n              alignSelf: \"center\",\r\n              width: picWidth,\r\n              minHeight: picHeight,\r\n            }}\r\n            src={process.env.REACT_APP_IMAGES_ROOT + \"\" + worker.smallPicture}\r\n            variant=\"rounded\"\r\n          />\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={12} md={8}>\r\n        <ConfirmationSummaryItem title=\"Agency\" value={agency?.title} />\r\n        <ConfirmationSummaryItem title=\"Name\" value={worker.name} />\r\n        <ConfirmationSummaryItem\r\n          title=\"Nationality\"\r\n          value={worker.nationality}\r\n        />\r\n        <ConfirmationSummaryItem title=\"Job Title\" value={worker.jobTitle} />\r\n        {/* <ConfirmationSummaryItem title=\"Remarks\" value={worker.remarks} /> */}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default RequestWorkerRental;\r\n","import { Avatar, Box, Grid } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport ConfirmationSummaryItem from \"../common/ConfirmationSummaryItem\";\r\n\r\nconst RequestWorkerTwoYear = (props: {\r\n  picWidth: string | number;\r\n  picHeight: string | number;\r\n  worker: IWorkerTwoYear;\r\n}) => {\r\n  const worker = props.worker;\r\n  const picWidth = props.picWidth;\r\n  const picHeight = props.picHeight;\r\n  const agency = worker.agency;\r\n  return (\r\n    <Grid container spacing={2}>\r\n      <Grid item xs={12} md={4}>\r\n        <Box>\r\n          <Avatar\r\n            style={{\r\n              alignSelf: \"center\",\r\n              width: picWidth,\r\n              minHeight: picHeight,\r\n            }}\r\n            src={process.env.REACT_APP_IMAGES_ROOT + \"\" + worker.smallPicture}\r\n            variant=\"rounded\"\r\n          />\r\n        </Box>\r\n      </Grid>\r\n      <Grid item xs={12} md={8}>\r\n        {/* //FIXME: Agency title not working */}\r\n        <ConfirmationSummaryItem title=\"Agency\" value={agency?.title} />\r\n        <ConfirmationSummaryItem\r\n          title=\"Reference #\"\r\n          value={worker.referenceId}\r\n        />\r\n        <ConfirmationSummaryItem title=\"Name\" value={worker.name} />\r\n        <ConfirmationSummaryItem\r\n          title=\"Nationality\"\r\n          value={worker.nationality}\r\n        />\r\n        <ConfirmationSummaryItem title=\"Job Title\" value={worker.jobTitle} />\r\n\r\n        <ConfirmationSummaryItem\r\n          title=\"Salary\"\r\n          value={worker.monthlySalaryBhdFormatted}\r\n        />\r\n        <ConfirmationSummaryItem\r\n          title=\"Processing Fees\"\r\n          value={worker.processFeesBhdFormatted}\r\n        />\r\n        <ConfirmationSummaryItem title=\"Contract Period\" value=\"Two Years\" />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default RequestWorkerTwoYear;\r\n","import { Box } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport RequestWorkerRental from \"./RequestWorkerRental\";\r\nimport RequestWorkerTwoYear from \"./RequestWorkerTwoYear\";\r\n\r\ninterface Props {\r\n  workerTwoYear?: IWorkerTwoYear;\r\n  workerRental?: IWorkerRental;\r\n}\r\n\r\nexport default function RequestWorkerContainer(props: Props): ReactElement {\r\n  const picWidth = \"100%\";\r\n  const picHeight = 180;\r\n\r\n  return (\r\n    <Box>\r\n      {props.workerTwoYear !== undefined && (\r\n        <RequestWorkerTwoYear\r\n          worker={props.workerTwoYear}\r\n          picHeight={picHeight}\r\n          picWidth={picWidth}\r\n        />\r\n      )}\r\n      {props.workerRental !== undefined && (\r\n        <RequestWorkerRental\r\n          worker={props.workerRental}\r\n          picHeight={picHeight}\r\n          picWidth={picWidth}\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApplicationForm } from \"estreeh-common-library/src/interfaces/IApplicationForm\";\r\nimport LabelValueLine from \"../common/LabelValueLine\";\r\n\r\ninterface Props {\r\n  selectedHours?: {\r\n    key: string;\r\n    value: string;\r\n  }[];\r\n  selectedHoursFrequency?: string;\r\n  selectedMonths?: string[];\r\n  applicationForm?: IApplicationForm;\r\n}\r\n\r\nexport default function RequestScheduleDisplay(props: Props): ReactElement {\r\n  const oneLine = true;\r\n  let selectedHours;\r\n  let selectedMonths;\r\n  let selectedHoursFrequency: string | undefined;\r\n\r\n  if (props.applicationForm !== undefined) {\r\n    selectedHours = props.applicationForm.selectedHours;\r\n    selectedMonths = props.applicationForm.selectedMonths;\r\n    selectedHoursFrequency = props.applicationForm.selectedHoursFrequency;\r\n  } else {\r\n    selectedHours = props.selectedHours;\r\n    selectedMonths = props.selectedMonths;\r\n    selectedHoursFrequency = props.selectedHoursFrequency;\r\n  }\r\n  if (selectedHours === undefined && selectedMonths === undefined) {\r\n    return <Box></Box>;\r\n  }\r\n  return (\r\n    <Box>\r\n      <Box pb={1}>\r\n        <Typography variant=\"h6\">Selected Schedule</Typography>\r\n      </Box>\r\n      <Grid container>\r\n        {selectedHours &&\r\n          selectedHours.map((selectedHour) => (\r\n            <LabelValueLine title={selectedHour.key} oneLine={oneLine}>\r\n              {selectedHour.value}\r\n            </LabelValueLine>\r\n          ))}\r\n        {selectedHours !== undefined && selectedHours.length > 0 && (\r\n          <LabelValueLine title=\"Frequency\" oneLine={oneLine}>\r\n            {selectedHoursFrequency}\r\n          </LabelValueLine>\r\n        )}\r\n        {selectedMonths !== undefined && (\r\n          <LabelValueLine title=\"Months\" oneLine={oneLine}>\r\n            {selectedMonths.join(\", \")}\r\n          </LabelValueLine>\r\n        )}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Checkbox, Link } from \"@material-ui/core\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { ReactElement } from \"react\";\r\n\r\ninterface Props {\r\n  title: string;\r\n  verb?: string;\r\n  labelHref?: string;\r\n  labelOnClick?: any;\r\n  checkboxOnClick?: any;\r\n}\r\n\r\nexport default function TandCItem(props: Props): ReactElement {\r\n  const verb = props.verb ?? \"I have read & accepted\";\r\n\r\n  return (\r\n    <Box fontSize=\"95%\">\r\n      <Grid container alignItems=\"center\">\r\n        <Grid item xs={2} md={1}>\r\n          <Checkbox color=\"primary\" />\r\n        </Grid>\r\n        <Grid item xs={10} md={11}>\r\n          <Box>\r\n            {verb} the{\" \"}\r\n            <Link\r\n              href={props.labelHref}\r\n              style={{\r\n                cursor: \"pointer\",\r\n                userSelect: \"none\",\r\n              }}\r\n            >\r\n              {props.title}\r\n            </Link>\r\n            .\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Grid,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { RouteComponentProps, navigate } from \"@reach/router\";\r\nimport { ReactElement, useEffect, useState } from \"react\";\r\nimport { IApplicationForm } from \"estreeh-common-library/src/interfaces/IApplicationForm\";\r\nimport IPaymentSummaryItem from \"estreeh-common-library/src/interfaces/IPaymentSummaryItem\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\nimport RequestFormGeneral from \"./RequestFormGeneral\";\r\nimport RequestPaymentSummary from \"./RequestPaymentSummary\";\r\nimport RequestWorkerContainer from \"./RequestWorkerContainer\";\r\n// import { ApplicationFormFactory } from \"../../factories/ApplicationFormFactory\";\r\nimport RequestScheduleDisplay from \"./RequestScheduleDisplay\";\r\nimport TandCItem from \"../common/TandCItem\";\r\nimport isEmail from \"validator/es/lib/isEmail\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport { Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\n\r\ninterface IRequestWorkerPageParams {\r\n  isTwoYear: boolean;\r\n  isRentalHourly: boolean;\r\n  isRentalMonthly: boolean;\r\n  link: string;\r\n  isMd: boolean;\r\n  guid: string;\r\n}\r\n\r\n//TODO: Provide worker ID in the page param so user can resume / refresh directly\r\ninterface IRequestWorkerPage\r\n  extends RouteComponentProps<IRequestWorkerPageParams> {}\r\n\r\nexport default function RequestWorkerPage(\r\n  props: IRequestWorkerPage\r\n): ReactElement {\r\n  // const selectedWorkerTwoYear = useStoreState(\r\n  //   (s) => s.selectedWorkerTwoYear.item\r\n  // );\r\n  const selectedWorkerRental = useStoreState(\r\n    (s) => s.selectedWorkerRental.item\r\n  );\r\n  const applicationForm = useStoreState((s) => s.applicationForm.item);\r\n  const user = useStoreState((s) => s.user.item);\r\n  const workersTwoYear = useStoreState((s) => s.workerTwoYear.items);\r\n\r\n  const setAppForm = useStoreActions((a) => a.applicationForm.setItem);\r\n\r\n  //TODO: Better messages\r\n  //TODO: Message Indication of the non-refundable amount\r\n\r\n  const isRentalHourly =\r\n    props.isRentalHourly !== undefined ? props.isRentalHourly : false;\r\n  const isRentalMonthly =\r\n    props.isRentalMonthly !== undefined ? props.isRentalMonthly : false;\r\n  const link = props.link !== undefined ? props.link : \"#\";\r\n  const isRental = isRentalHourly || isRentalMonthly;\r\n\r\n  let workerTwoYear = props.isTwoYear\r\n    ? workersTwoYear.find((x) => x.guid === props.guid)\r\n    : undefined;\r\n  let workerRental = isRental ? selectedWorkerRental : undefined;\r\n\r\n  const [paymentItems, setPaymentItems] = useState<IPaymentSummaryItem[]>([]);\r\n\r\n  const borderColor = \"#0000001f\";\r\n  const border = \"1px solid \" + borderColor;\r\n  const headerVariant = \"h6\";\r\n  const showRentalFormFields = props.isTwoYear ? false : true;\r\n\r\n  if (isRentalHourly) {\r\n    setPaymentItems([\r\n      {\r\n        title: \"Service Charges (Incl. VAT)\",\r\n        amount: 0.4,\r\n      },\r\n      {\r\n        title: \"Worker Charges\",\r\n        amount: 8,\r\n      },\r\n    ]);\r\n  }\r\n  if (isRentalMonthly) {\r\n    setPaymentItems([\r\n      {\r\n        title: \"Service Charges (Incl. VAT)\",\r\n        amount: 3.1,\r\n      },\r\n\r\n      {\r\n        title: \"Worker Charges\",\r\n        amount: 200,\r\n      },\r\n      {\r\n        title: \"Delivery Charges\",\r\n        amount: 25,\r\n      },\r\n    ]);\r\n  }\r\n\r\n  // let applicationForm = ApplicationFormFactory.build();\r\n\r\n  //TODO: Application Form to bring options from previous pages (Frequency, schedule, etc)\r\n\r\n  const initialAppForm: IApplicationForm =\r\n    applicationForm !== undefined\r\n      ? applicationForm\r\n      : {\r\n          fullName: user ? user.fullName : \"\",\r\n          mobileNumber: user ? user.mobile : \"\",\r\n          otherMobileNumber: user ? user.mobile2 : \"\",\r\n          email: user ? user.email : \"\",\r\n          paymentRemarks: \"\",\r\n          paymentSummaryItems: [],\r\n          selectedHoursFrequency: \"One Time\",\r\n          created: new Date(),\r\n          modified: new Date(),\r\n        };\r\n\r\n  initialAppForm.workerTwoYear = workerTwoYear;\r\n\r\n  // const [localApplicationForm, setLocalApplicationForm] =\r\n  //   useState<IApplicationForm>(initialAppForm);\r\n\r\n  const selectedHours = isRentalHourly\r\n    ? initialAppForm.selectedHours\r\n    : undefined;\r\n  const selectedMonths = isRentalMonthly\r\n    ? initialAppForm.selectedMonths\r\n    : undefined;\r\n\r\n  const paymentRemarks =\r\n    props.isTwoYear === true\r\n      ? \"Once the application has been sent, the agency will contact you within 1 business day.\"\r\n      : \"Currently we only accept payment as cash on delivery.\";\r\n\r\n  const onFormSubmit = (values: IApplicationForm) => {\r\n    values.paymentSummaryItems = paymentItems;\r\n    values.paymentRemarks = paymentRemarks;\r\n\r\n    transformAppForm(values);\r\n    // setLocalApplicationForm(values);\r\n    setAppForm(values);\r\n    navigate(link);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get<IResponse<IPaymentSummaryItem[]>>(\r\n        process.env.REACT_APP_API_ROOT +\r\n          \"/pub/workertwoyear/cost/\" +\r\n          workerTwoYear?._id\r\n      )\r\n      .then((response) => {\r\n        console.log(\"Loaded cost breakdown\");\r\n        setPaymentItems(response.data.data);\r\n      })\r\n      .catch((reason) => {\r\n        console.log(reason);\r\n      });\r\n  }, [setPaymentItems, workerTwoYear]);\r\n\r\n  return (\r\n    <>\r\n      <ScrollToTop />\r\n      <NiceBox p={3}>\r\n        <Grid container spacing={2} direction=\"row-reverse\">\r\n          <Grid item xs={12} md={7}>\r\n            <Box>\r\n              <Box pb={1}>\r\n                <Typography variant={headerVariant}>\r\n                  Selected Worker Details\r\n                </Typography>\r\n              </Box>\r\n              <RequestWorkerContainer\r\n                workerTwoYear={workerTwoYear}\r\n                workerRental={workerRental}\r\n              />\r\n            </Box>\r\n          </Grid>\r\n          <Grid item xs={12} md={5}>\r\n            {user !== undefined && (\r\n              <Formik\r\n                validationSchema={Yup.object({\r\n                  // fullName: Yup.string().required(\"Required\"),\r\n                  // mobileNumber: Yup.string().required(\"Required\"),\r\n                  // email: Yup.string().email(\"Invalid email address\"),\r\n                })}\r\n                initialValues={initialAppForm}\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                  setSubmitting(false);\r\n                  onFormSubmit(values);\r\n                }}\r\n              >\r\n                {(formik) => (\r\n                  <form onSubmit={formik.handleSubmit}>\r\n                    <Box\r\n                      pr={props.isMd === true ? 2 : 0}\r\n                      borderRight={props.isMd === true ? border : \"none\"}\r\n                    >\r\n                      <RequestScheduleDisplay\r\n                        selectedHours={selectedHours}\r\n                        selectedMonths={selectedMonths}\r\n                        selectedHoursFrequency={\r\n                          initialAppForm.selectedHoursFrequency\r\n                        }\r\n                      />\r\n                      <RequestFormGeneral\r\n                        showFrequency={showRentalFormFields}\r\n                        showAddress={showRentalFormFields}\r\n                        showEquipmentOption={false}\r\n                        formik={formik}\r\n                      />\r\n                      {isRentalHourly && (\r\n                        <Box py={1}>\r\n                          <FormControlLabel\r\n                            label=\"Bring Cleaning Tools (BHD 2 / Day)\"\r\n                            control={<Checkbox color=\"primary\" />}\r\n                          />\r\n                        </Box>\r\n                      )}\r\n                      {isRentalMonthly && (\r\n                        <Box py={1}>\r\n                          <FormControlLabel\r\n                            label=\"Bring Cleaning Tools (BHD 30 / Month)\"\r\n                            control={<Checkbox color=\"primary\" />}\r\n                          />\r\n                          <FormControlLabel\r\n                            label=\"Extra 2 hours per day (BHD 30 / Month)\"\r\n                            control={<Checkbox color=\"primary\" />}\r\n                          />\r\n                          <FormControlLabel\r\n                            label=\"Bring own Food (BHD 60 / Month)\"\r\n                            control={<Checkbox color=\"primary\" />}\r\n                          />\r\n                        </Box>\r\n                      )}\r\n                      <RequestPaymentSummary\r\n                        paymentItems={paymentItems}\r\n                        workerRental={workerRental}\r\n                        remarks={paymentRemarks}\r\n                      />\r\n                      <Box py={1}>\r\n                        <TandCItem title=\"Terms & Conditions\" />\r\n                        {/* <TandCItem title=\"Local Transfer Terms & Conditions\" />\r\n                      <TandCItem title=\"LMRA Terms & Conditions\" /> */}\r\n                        <TandCItem\r\n                          verb=\"I have read\"\r\n                          title=\"Personal Safety Guidelines\"\r\n                        />\r\n                      </Box>\r\n                      <Box textAlign=\"center\" pb={6} pt={2}>\r\n                        <Button\r\n                          size=\"large\"\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          type=\"submit\"\r\n                        >\r\n                          Continue\r\n                        </Button>\r\n                      </Box>\r\n                    </Box>\r\n                  </form>\r\n                )}\r\n              </Formik>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </NiceBox>\r\n    </>\r\n  );\r\n}\r\n\r\nconst transformAppForm = (a: IApplicationForm) => {\r\n  if (a.email && !isEmail(a.email)) {\r\n    a.email = undefined;\r\n  }\r\n\r\n  return a;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/check.6b6350a4.svg\";","import { Box, Typography } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApiResNewRequest } from \"estreeh-common-library/src/interfaces/api/res/IApiResNewRequest\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\ninterface Props {\r\n  response?: IApiResNewRequest;\r\n}\r\n\r\nexport default function TrackingCode(props: Props): ReactElement {\r\n  return (\r\n    <Box my={3}>\r\n      <Typography variant=\"h4\">Tracking ID: </Typography>\r\n      <Typography variant=\"h5\" style={{ color: Branding.primary, fontWeight: \"bold\" }}>\r\n        {props.response?.trackingCode}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Button, Divider, Grid, Typography } from \"@material-ui/core\";\r\nimport { Link, RouteComponentProps } from \"@reach/router\";\r\nimport React, { CSSProperties } from \"react\";\r\nimport Check from \"../../images/check.svg\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport RequestWorkerContainer from \"../request/RequestWorkerContainer\";\r\nimport LabelValueLine from \"../common/LabelValueLine\";\r\nimport { navigate } from \"@reach/router\";\r\nimport RequestScheduleDisplay from \"../request/RequestScheduleDisplay\";\r\nimport TrackingCode from \"../user/TrackingCode\";\r\n// import OneClickRegistration from \"../user/OneClickRegistration\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\n\r\ninterface Params {\r\n  message: string;\r\n  smallMessage: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nconst SuccessPage = (props: Props) => {\r\n  const rcr = useStoreState((s) => s.recent.request.item);\r\n  const rcrr = useStoreState((s) => s.recent.requestResponse.item);\r\n  if (rcr === undefined || rcrr === undefined) return <></>;\r\n\r\n  const buttonBoxStyle: CSSProperties = {\r\n    margin: 4,\r\n    display: \"inline-flex\",\r\n  };\r\n\r\n  const buttonSize = \"medium\";\r\n  const oneLine = true;\r\n  const applicationForm = rcr.applicationForm;\r\n\r\n  const nextButtons = (\r\n    <Box py={2} textAlign=\"center\">\r\n      <Box style={buttonBoxStyle}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          size={buttonSize}\r\n          onClick={() => {\r\n            navigate(\"/account/my-requests\");\r\n          }}\r\n        >\r\n          My Requests\r\n        </Button>\r\n      </Box>\r\n      <Box style={buttonBoxStyle}>\r\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n          <Button variant=\"outlined\" color=\"primary\" size={buttonSize}>\r\n            Back to Home\r\n          </Button>\r\n        </Link>\r\n      </Box>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ScrollToTop />\r\n      <NiceBox p={4}>\r\n        <Box p={1} maxWidth={600} mx=\"auto\">\r\n          <Box textAlign=\"center\">\r\n            <Box maxWidth={60} mx=\"auto\" pb={2}>\r\n              <img src={Check} style={{ display: \"block\" }} alt=\"success\" />\r\n            </Box>\r\n            <Typography variant=\"h5\">Success!</Typography>\r\n            <Box py={1}>\r\n              <Typography variant=\"h6\">{props.message}</Typography>\r\n            </Box>\r\n            <Box>\r\n              <Typography>{props.smallMessage}</Typography>\r\n            </Box>\r\n\r\n            <Box my={3}>\r\n              <Divider variant=\"middle\" />\r\n            </Box>\r\n            <TrackingCode response={rcrr} />\r\n            {/* <OneClickRegistration response={rcrr} /> */}\r\n          </Box>\r\n        </Box>\r\n        <Box py={2}>\r\n          <Divider />\r\n        </Box>\r\n        <Grid container spacing={1} direction=\"row-reverse\">\r\n          <Grid item xs={12} md={6}>\r\n            <Box py={2}>\r\n              <Typography variant=\"h6\">Worker Details</Typography>\r\n            </Box>\r\n            <RequestWorkerContainer\r\n              workerRental={applicationForm.workerRental}\r\n              workerTwoYear={applicationForm.workerTwoYear}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n            <RequestScheduleDisplay applicationForm={applicationForm} />\r\n            <Box py={2}>\r\n              <Typography variant=\"h6\">Application Details</Typography>\r\n            </Box>\r\n            <Box>\r\n              <Grid container>\r\n                <LabelValueLine title=\"Full Name\" oneLine={oneLine}>\r\n                  {applicationForm?.fullName}\r\n                </LabelValueLine>\r\n                <LabelValueLine title=\"Mobile\" oneLine={oneLine}>\r\n                  {applicationForm?.mobileNumber}\r\n                </LabelValueLine>\r\n                <LabelValueLine title=\"Other Mobile\" oneLine={oneLine}>\r\n                  {applicationForm?.otherMobileNumber}\r\n                </LabelValueLine>\r\n                <LabelValueLine title=\"Special Notes\" oneLine={oneLine}>\r\n                  {applicationForm?.specialNotes}\r\n                </LabelValueLine>\r\n                <LabelValueLine title=\"Address\" oneLine={oneLine}>\r\n                  {applicationForm?.address}\r\n                </LabelValueLine>\r\n                {/* <LabelValueLine title=\"Frequency\" oneLine={oneLine}>{applicationForm?.frequency}</LabelValueLine> */}\r\n              </Grid>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n        {nextButtons}\r\n      </NiceBox>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SuccessPage;\r\n","import { Box, Button } from \"@material-ui/core\";\r\nimport { navigate } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport NiceBox from \"./NiceBox\";\r\n\r\ninterface Props {\r\n  message: string;\r\n}\r\n\r\nexport default function ErrorMessage(props: Props): ReactElement {\r\n  const click = () => {\r\n    navigate(-1);\r\n  };\r\n  const dev = process.env.NODE_ENV === \"development\";\r\n  return (\r\n    <NiceBox>\r\n      An unexpected error has ocurred{dev ? \": \" + props.message : \".\"}\r\n      <Box>\r\n        <Button onClick={click} variant=\"contained\" color=\"primary\">\r\n          Back\r\n        </Button>\r\n      </Box>\r\n    </NiceBox>\r\n  );\r\n}\r\n","import { Box, Button, Grid, Typography } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport RequestWorkerContainer from \"./RequestWorkerContainer\";\r\nimport LabelValueLine from \"../common/LabelValueLine\";\r\nimport { navigate } from \"@reach/router\";\r\nimport RequestPaymentSummary from \"./RequestPaymentSummary\";\r\nimport { IRequest } from \"estreeh-common-library/src/interfaces/IRequest\";\r\nimport RequestScheduleDisplay from \"./RequestScheduleDisplay\";\r\nimport ErrorMessage from \"../common/ErrorMessage\";\r\nimport { useState } from \"react\";\r\nimport axios, { AxiosResponse } from \"axios\";\r\nimport { IApiResNewRequest } from \"estreeh-common-library/src/interfaces/api/res/IApiResNewRequest\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport { toast } from \"react-toastify\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\n\r\ninterface Params {}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n  link: string;\r\n}\r\n\r\nconst RequestConfirmationPage = (props: Props) => {\r\n  const [inProgress, setInProgress] = useState(false);\r\n  let errorMessage = \"\";\r\n  const buttonSize = \"medium\";\r\n  const oneLine = true;\r\n  const user = useStoreState((s) => s.user.item);\r\n  let userId = user && user._id ? user._id : \"NewUser\";\r\n\r\n  const applicationForm = useStoreState((s) => s.applicationForm.item);\r\n  const selectedWorkerRental = useStoreState(\r\n    (s) => s.selectedWorkerRental.item\r\n  );\r\n\r\n  const setAppForm = useStoreActions((a) => a.applicationForm.setItem);\r\n  const setRecentRequest = useStoreActions((a) => a.recent.request.setItem);\r\n  const setRecentRequestResponse = useStoreActions(\r\n    (a) => a.recent.requestResponse.setItem\r\n  );\r\n\r\n  if (\r\n    applicationForm === undefined ||\r\n    applicationForm.workerTwoYear === undefined\r\n  ) {\r\n    errorMessage += \"Application Form data is undefined\";\r\n    return <ErrorMessage message={errorMessage} />;\r\n  } else {\r\n    const onClick = () => {\r\n      setInProgress(true);\r\n\r\n      let request: IRequest = {\r\n        applicationForm: applicationForm,\r\n        trackingCode: \"\",\r\n        // user: user,\r\n        workerTwoYear: applicationForm.workerTwoYear,\r\n        agencyId: applicationForm.workerTwoYear?.agencyId\r\n          ? applicationForm.workerTwoYear?.agencyId\r\n          : \"NoID\",\r\n        isLeaseByHour: true,\r\n        isLeaseByMonth: false,\r\n        isTwoYearContract: false,\r\n        statusCode: 1000,\r\n        statusHistory: [],\r\n        statusRemarks: \"\",\r\n\r\n        userId: userId,\r\n        created: new Date(),\r\n        modified: new Date(),\r\n      };\r\n\r\n      axios\r\n        .post<IRequest, AxiosResponse<IResponse<IApiResNewRequest>>>(\r\n          process.env.REACT_APP_API_ROOT + \"/customer/requests\",\r\n          request,\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        )\r\n        .then((response) => {\r\n          console.log(\"Successfully created new request:\");\r\n\r\n          setAppForm(undefined);\r\n          setRecentRequest(request);\r\n          setRecentRequestResponse(response.data.data);\r\n\r\n          navigate(props.link);\r\n        })\r\n        .catch((reason) => {\r\n          toast.error(reason.response.message);\r\n        })\r\n        .finally(() => {\r\n          setInProgress(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <ScrollToTop />\r\n        <NiceBox p={4}>\r\n          <Grid container spacing={1} direction=\"row-reverse\">\r\n            <Grid item xs={12} md={6}>\r\n              <Box py={2}>\r\n                <Typography variant=\"h6\">Worker Details</Typography>\r\n              </Box>\r\n              <RequestWorkerContainer\r\n                workerRental={applicationForm?.workerRental}\r\n                workerTwoYear={applicationForm?.workerTwoYear}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} md={6}>\r\n              <RequestScheduleDisplay applicationForm={applicationForm} />\r\n              <Box py={2}>\r\n                <Typography variant=\"h6\">Application Details</Typography>\r\n              </Box>\r\n              <Box>\r\n                <Grid container>\r\n                  <LabelValueLine title=\"Full Name\" oneLine={oneLine}>\r\n                    {applicationForm?.fullName}\r\n                  </LabelValueLine>\r\n                  <LabelValueLine title=\"Mobile\" oneLine={oneLine}>\r\n                    {applicationForm?.mobileNumber}\r\n                  </LabelValueLine>\r\n                  <LabelValueLine title=\"Other Mobile\" oneLine={oneLine}>\r\n                    {applicationForm?.otherMobileNumber}\r\n                  </LabelValueLine>\r\n                  {applicationForm.email && (\r\n                    <LabelValueLine title=\"Email\" oneLine={oneLine}>\r\n                      {applicationForm?.email}\r\n                    </LabelValueLine>\r\n                  )}\r\n                  <LabelValueLine title=\"Special Notes\" oneLine={oneLine}>\r\n                    {applicationForm?.specialNotes}\r\n                  </LabelValueLine>\r\n                  {applicationForm.address && (\r\n                    <LabelValueLine title=\"Address\" oneLine={oneLine}>\r\n                      {applicationForm?.address}\r\n                    </LabelValueLine>\r\n                  )}\r\n                  {/* <LabelValueLine title=\"Frequency\" oneLine={oneLine}>{applicationForm?.frequency}</LabelValueLine> */}\r\n                </Grid>\r\n              </Box>\r\n              <RequestPaymentSummary\r\n                paymentItems={applicationForm?.paymentSummaryItems}\r\n                workerRental={selectedWorkerRental}\r\n                remarks={applicationForm.paymentRemarks}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Box py={2} my={3} textAlign=\"center\">\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size={buttonSize}\r\n              onClick={onClick}\r\n              disabled={inProgress}\r\n            >\r\n              {inProgress ? \"Wait...\" : \"Confirm\"}\r\n            </Button>\r\n          </Box>\r\n        </NiceBox>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default RequestConfirmationPage;\r\n","import { RouteComponentProps } from \"@reach/router\";\r\nimport React, { Component } from \"react\";\r\nimport SideFilter from \"../side-filter/SideFilter\";\r\nimport { navigate } from \"@reach/router\";\r\nimport { Box, Button } from \"@material-ui/core\";\r\nimport Branding from \"../../config/Branding\";\r\nimport ScrollToTop from \"../common/ScrollToTop\";\r\n\r\ninterface Params {\r\n  is2Year: boolean;\r\n  isLeased: boolean;\r\n}\r\ninterface Props extends RouteComponentProps<Params> {\r\n}\r\ninterface State {}\r\n\r\nexport default class FilterPage extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.back = this.back.bind(this);\r\n  }\r\n\r\n  state = {};\r\n\r\n  back() {\r\n    navigate(-1);\r\n  }\r\n\r\n  render() {\r\n    const is2Year =\r\n      this.props.is2Year !== undefined ? this.props.is2Year : false;\r\n    const isLeased =\r\n      this.props.isLeased !== undefined ? this.props.isLeased : false;\r\n\r\n    return (\r\n      <Box>\r\n        <ScrollToTop />\r\n        <Box pb={7}>\r\n          <SideFilter\r\n            is2Year={is2Year}\r\n            isLeased={isLeased}\r\n            isMd={false}\r\n          />\r\n        </Box>\r\n        <Box\r\n          style={{\r\n            position: \"fixed\",\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n          }}\r\n        >\r\n          <Box bgcolor=\"#dddddddd\" boxShadow={Branding.shadow.niceShadow}>\r\n            <Box px={2} py={2}>\r\n              <Button\r\n                fullWidth={true}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={this.back}\r\n              >\r\n                Apply All\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n}\r\n","import { Box, Container, Grid, Link, Typography } from \"@material-ui/core\";\r\nimport { Clear } from \"@material-ui/icons\";\r\nimport { navigate, RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\ninterface Params {\r\n  title: string;\r\n  showCloseButton: boolean;\r\n  showCancelText: boolean;\r\n  showBackButton: boolean;\r\n  children: React.ReactNode;\r\n  rightText: string;\r\n  rightOnClick: React.MouseEventHandler<any>;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nconst SiteHeadless = (props: Props) => {\r\n  const linkStyles: React.CSSProperties = {\r\n    color: Branding.text.primary,\r\n    cursor: \"pointer\",\r\n    userSelect:\"none\",\r\n  };\r\n  return (\r\n    <Box bgcolor=\"#ddd\" boxShadow={Branding.shadow.niceShadow}>\r\n      <Container>\r\n        <Box p={1}>\r\n          <Grid container spacing={0}>\r\n            {props.showCloseButton && (\r\n              <Grid item xs={1}>\r\n                <Clear fontSize=\"small\" />\r\n              </Grid>\r\n            )}\r\n            {props.showCancelText && (\r\n              <Grid item xs={4}>\r\n                <Typography variant=\"body2\">\r\n                  <Link style={linkStyles} onClick={() => navigate(-1)}>\r\n                    Cancel\r\n                  </Link>\r\n                </Typography>\r\n              </Grid>\r\n            )}\r\n            <Grid item xs={4}>\r\n              <Typography\r\n                variant=\"body2\"\r\n                style={{\r\n                  fontWeight: \"bold\",\r\n                  textAlign: \"center\",\r\n                  textTransform:\"uppercase\",\r\n                }}\r\n              >\r\n                {props.title}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n              <Box textAlign=\"right\">\r\n                <Typography variant=\"body2\">\r\n                  <Link style={linkStyles} onClick={props.rightOnClick}>\r\n                    {props.rightText}\r\n                  </Link>\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SiteHeadless;\r\n","import { Box, Button, Divider, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Branding from \"../../config/Branding\";\r\nimport { IRequest } from \"estreeh-common-library/src/interfaces/IRequest\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport IconInfo from \"../worker/IconInfo\";\r\nimport Worker2SmallPic from \"../worker/two-years/Worker2SmallPic\";\r\n\r\ninterface Props {\r\n  request: IRequest;\r\n}\r\n\r\nexport default function RequestGridCard(props: Props): ReactElement {\r\n  const { t } = useTranslation();\r\n\r\n  const request = props.request;\r\n  const workerTwoYear = request.workerTwoYear;\r\n  const agency = request.agency;\r\n  const cancelColor = \"#d99\";\r\n\r\n  let serviceText = \"\";\r\n\r\n  if (request.isTwoYearContract) serviceText = t(\"2-years-contract\");\r\n  if (request.isLeaseByMonth) serviceText = t(\"lease-by-month\");\r\n  if (request.isLeaseByHour) serviceText = t(\"lease-by-hour\");\r\n\r\n  // TODO: SHow agency name + Agency telephone + Other useful info\r\n  // TODO: Show tracking code\r\n\r\n  if (workerTwoYear === undefined)\r\n    return <React.Fragment> ID: {request.workerTwoYearId} | </React.Fragment>;\r\n  return (\r\n    <Grid item md={4} xs={12} lg={3}>\r\n      {request.status !== undefined && (\r\n        <NiceBox p={1} my={0}>\r\n          <Box>\r\n            <Typography\r\n              style={{\r\n                textAlign: \"center\",\r\n                padding: 4,\r\n                marginBottom: 8,\r\n                background: request.status.bgColor,\r\n                borderRadius: Branding.borderRadius.niceRadius,\r\n              }}\r\n            >\r\n              {request.status.title}\r\n            </Typography>\r\n\r\n            <Typography style={{ fontWeight: \"bold\" }}>\r\n              {workerTwoYear?.name}\r\n            </Typography>\r\n            <Box py={1}>\r\n              <Divider />\r\n            </Box>\r\n            <Grid container spacing={0}>\r\n              <Grid item xs={5}>\r\n                <Worker2SmallPic worker={workerTwoYear} variant={2} />\r\n              </Grid>\r\n              <Grid item xs={7}>\r\n                <Box minHeight={140}>\r\n                  <IconInfo icon=\"tag\" title=\"Tracking Code\">\r\n                    {request.trackingCode}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"business\" title=\"Agency\">\r\n                    {agency?.title}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"work\" title=\"Job Title\">\r\n                    {workerTwoYear.jobTitle}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"flag\" title=\"Nationality\">\r\n                    {workerTwoYear.nationality}\r\n                  </IconInfo>\r\n                  <IconInfo icon=\"border_color\" title=\"Service\">\r\n                    {serviceText}\r\n                  </IconInfo>\r\n                  <IconInfo title=\"Address\">\r\n                    {request.applicationForm.address}\r\n                  </IconInfo>\r\n                  {/* <IconInfo title=\"Timing\">\r\n                <strong>{request.applicationForm.selectedHours}&nbsp;</strong>\r\n              </IconInfo> */}\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n            <Box py={1}>\r\n              <Divider />\r\n            </Box>\r\n            <Grid container justify=\"center\" spacing={1}>\r\n              {true && (\r\n                <Grid item>\r\n                  <Button variant=\"outlined\" color=\"primary\">\r\n                    Details\r\n                  </Button>\r\n                </Grid>\r\n              )}\r\n              {request.status.allowCancel && (\r\n                <Grid item>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    style={{ color: cancelColor, borderColor: cancelColor }}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </Grid>\r\n              )}\r\n            </Grid>\r\n          </Box>\r\n        </NiceBox>\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n","import { Box, Grid, Typography } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement, useEffect, useState } from \"react\";\r\n// import { UserFactory } from \"../../factories/UserFactory\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport RequestGridCard from \"./RequestGridCard\";\r\nimport _ from \"lodash\";\r\nimport { IRequest } from \"estreeh-common-library/src/interfaces/IRequest\";\r\nimport axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props extends RouteComponentProps {}\r\n\r\nexport default function MyRequestsPage(props: Props): ReactElement {\r\n  const user = useStoreState((s) => s.user.item);\r\n  const requests = useStoreState((s) => s.requests.items);\r\n  const setRequests = useStoreActions((a) => a.requests.setItems);\r\n\r\n  // const [requests, setRequests] = useState<IRequest[]>([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getRequests = async () => {\r\n      return await axios.get<IResponse<IRequest[]>>(\r\n        process.env.REACT_APP_API_ROOT + \"/customer/requests\",\r\n        { withCredentials: true }\r\n      );\r\n    };\r\n    if (!loaded) {\r\n      console.log(\"Getting requests\");\r\n      setLoaded(true);\r\n      getRequests()\r\n        .then((response) => {\r\n          const d = response.data.data;\r\n          setRequests({ payload: _.orderBy(d, [\"status.code\"]) });\r\n        })\r\n        .catch((reason) => {\r\n          console.log(reason);\r\n        });\r\n    }\r\n    return () => {};\r\n  }, [user, setRequests, loaded, setLoaded]);\r\n\r\n  // TODO: Create new UI for the \"not logged in user\"\r\n  // TODO: Either by Tracking Code, or by mobile + first 4 letters of name (or less)\r\n\r\n  return (\r\n    <Box>\r\n      <Box py={2}>\r\n        <Typography variant=\"h4\">My Requests</Typography>\r\n      </Box>\r\n      <Typography variant=\"h6\">\r\n        Logged in as <strong>{user?.fullName}</strong>\r\n      </Typography>\r\n      <NiceBox>\r\n        <Grid container spacing={1}>\r\n          {requests.map((request) => (\r\n            <RequestGridCard request={request} key={request._id} />\r\n          ))}\r\n        </Grid>\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n}\r\n","import { FormControl, FormControlLabel, FormLabel, Radio, RadioGroup } from '@material-ui/core'\r\nimport React, { ReactElement } from 'react'\r\n\r\ninterface Props {\r\n  setter: React.Dispatch<React.SetStateAction<number>>;\r\n  numberOfMultiDays: number;\r\n}\r\n\r\nexport default function RequestDaysScheduleDisplayMode(props: Props): ReactElement {\r\n  const demoRadio = <Radio color=\"primary\" />;\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">\r\n        Schedule display mode:\r\n      </FormLabel>\r\n      <RadioGroup row defaultValue=\"1\" onChange={(event,value) => {\r\n        props.setter(parseInt(value));\r\n      }}>\r\n        <FormControlLabel\r\n          value=\"1\"\r\n          label=\"Selected Day\"\r\n          control={demoRadio}\r\n        />\r\n        <FormControlLabel\r\n          value={props.numberOfMultiDays.toString()}\r\n          label=\"Multiple Days\"\r\n          control={demoRadio}\r\n        />\r\n        {/* <FormControlLabel\r\n          value={props.numberOfMultiDays.toString()}\r\n          label=\"Every Week\"\r\n          control={demoRadio}\r\n        /> */}\r\n      </RadioGroup>\r\n    </FormControl>\r\n  )\r\n}\r\n","import {\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Radio,\r\n  RadioGroup,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nconst demoRadio = <Radio color=\"primary\" />;\r\n\r\nconst RequestFrequency = () => {\r\n  return (\r\n    <FormControl component=\"fieldset\">\r\n      <FormLabel component=\"legend\">\r\n        Select how often do you require this service\r\n      </FormLabel>\r\n      <RadioGroup row>\r\n      <FormControlLabel\r\n          value=\"weekly\"\r\n          label=\"Every Week\"\r\n          control={demoRadio}\r\n        />\r\n        <FormControlLabel\r\n          value=\"onetime\"\r\n          label=\"One Time\"\r\n          control={demoRadio}\r\n        />\r\n\r\n      </RadioGroup>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default RequestFrequency;\r\n","import { Box, Button, Typography } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport RequestDaysScheduleDisplayMode from \"../request/RequestDaysScheduleDisplayMode\";\r\nimport RequestFrequency from \"../request/RequestFrequency\";\r\nimport WorkerRentalCardSlots from \"../worker/rental/WorkerRentalCardSlots\";\r\nimport { navigate } from \"@reach/router\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props extends RouteComponentProps {\r\n  isHourly: boolean;\r\n  link: string;\r\n}\r\n\r\n/*TODO: Change interfaces? (based on study)\r\n\r\nRemove the bottom radio (One time / every week)\r\nMove that option to be in the top / rework the top radios\r\n\r\n\r\n*/\r\n\r\nexport default function SelectSchedulePage(props: Props): ReactElement {\r\n\r\n  const selectedWorkerRental = useStoreState((s) => s.selectedWorkerRental.item);\r\n  const selectScheduleLabel = props.isHourly\r\n    ? \"Select Timing\"\r\n    : \"Select Months\";\r\n\r\n  const itemPluralLabel = props.isHourly ? \"timings\" : \"months\";\r\n  const [maxDays, setMaxDays] = useState(1);\r\n\r\n  return (\r\n    <Box>\r\n      {selectedWorkerRental !== undefined && (\r\n        <Box>\r\n          <Box my={2}>\r\n            <Typography variant=\"h4\">{selectScheduleLabel}</Typography>\r\n          </Box>\r\n          <Box my={2}>\r\n            <Typography>\r\n              You can select multiple {itemPluralLabel} from the below list:\r\n            </Typography>\r\n          </Box>\r\n          <Box my={2}>\r\n            {props.isHourly && (\r\n              <RequestDaysScheduleDisplayMode\r\n                setter={setMaxDays}\r\n                numberOfMultiDays={7}\r\n              />\r\n            )}\r\n          </Box>\r\n          {props.isHourly && (\r\n            <Box my={2}>\r\n              <RequestFrequency />\r\n            </Box>\r\n          )}\r\n          <WorkerRentalCardSlots\r\n            isHourly={props.isHourly}\r\n            isMonthly={!props.isHourly}\r\n            worker={selectedWorkerRental}\r\n            md={3}\r\n            maxDays={maxDays}\r\n            maxMonths={12}\r\n          />\r\n\r\n          <Box my={3} pb={5} textAlign=\"center\">\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                navigate(props.link);\r\n              }}\r\n            >\r\n              Continue\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Container } from \"@material-ui/core\";\r\nimport Color from \"color\";\r\nimport React, { ReactElement } from \"react\";\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n  bgColor?: string;\r\n}\r\n\r\nexport default function FpSection(props: Props): ReactElement {\r\n  const bgColor = props.bgColor !== undefined ? props.bgColor : \"#FFFFFF\";\r\n  const color = Color(bgColor);\r\n  const textColor = color.isDark() ? \"#FFFFFF\" : \"#000000\";\r\n  // const maxWidth = 1440;\r\n\r\n  return (\r\n    <Box bgcolor={bgColor}>\r\n      <Container>\r\n        <Box py={6} color={textColor}>\r\n          {props.children}\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport FpSection from \"./frontpage/FpSection\";\r\n\r\ninterface Props {}\r\n\r\nexport default function Footer2(props: Props): ReactElement {\r\n  //TODO: Implement footer2\r\n  /*TODO: \r\n  - Page footer 2\r\n  --- Site Map\r\n  */\r\n  return (\r\n    <FpSection bgColor={Branding.dark}>\r\n      <Box pt={2} pb={5} fontSize=\"80%\" textAlign=\"center\">\r\n        <Box mb={1}>Estreeh.com {new Date().getFullYear()} </Box>\r\n        <Box>Powered by ESTREEH OPERATION OF WEBSITES, Kingdom of Bahrain</Box>\r\n      </Box>\r\n    </FpSection>\r\n  );\r\n}\r\n","import { InputAdornment } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport CountryFlag from \"../common/CountryFlag\";\r\n\r\nexport default function MobileAdornment(): ReactElement {\r\n  return (\r\n    <InputAdornment position=\"start\">\r\n      <>\r\n      <CountryFlag\r\n        country={{\r\n          country: \"Bahrain\",\r\n          countryCode: \"BH\",\r\n          titleTranslated: \"\",\r\n          titleTranslatedWithFees: \"Bahrain\",\r\n        }}\r\n        marginRight={8}\r\n        showFees={false}\r\n      />\r\n      <span>+973</span>\r\n      </>\r\n    </InputAdornment>\r\n  );\r\n}\r\n","import { TextField } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"@material-ui/styles\";\r\nimport React, { ReactElement } from \"react\";\r\nimport MobileAdornment from \"./MobileAdornment\";\r\n\r\ninterface Props {\r\n  onChange?: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement>;\r\n  onKey?: React.KeyboardEventHandler<HTMLDivElement>;\r\n  value: any;\r\n  isErrored: boolean;\r\n  disabled: boolean;\r\n}\r\n\r\nexport default function MobileInput({\r\n  onChange,\r\n  onKey,\r\n  value,\r\n  isErrored,\r\n  disabled,\r\n}: Props): ReactElement {\r\n  const textBoxStyle: CSSProperties = {\r\n    backgroundColor: isErrored ? \"#ffeeee\" : \"#ffffff\",\r\n    // WebkitAppearance: \"none\",\r\n    // MozAppearance: \"textfield\",\r\n  };\r\n\r\n  return (\r\n    <TextField\r\n      name=\"mobile\"\r\n      label=\"Mobile\"\r\n      variant=\"outlined\"\r\n      value={value}\r\n      onChange={(e) => {\r\n        if (onChange !== undefined && e.target.value.match(/^\\d*$/))\r\n          onChange(e);\r\n      }}\r\n      style={textBoxStyle}\r\n      onKeyPress={onKey}\r\n      disabled={disabled}\r\n      // error={isErrored}\r\n      InputProps={{\r\n        startAdornment: <MobileAdornment />,\r\n      }}\r\n      inputProps={{ maxLength: 8 }}\r\n      type=\"tel\"\r\n    />\r\n  );\r\n}\r\n","import { Box, Button, Grid, TextField } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"@material-ui/styles\";\r\nimport { Link } from \"@reach/router\";\r\nimport axios from \"axios\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { IApiReqLogin } from \"estreeh-common-library/src/interfaces/api/req/IApiReqLogin\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { useStoreActions } from \"../../helpers/StoreTypedHooks\";\r\nimport SmallText from \"../common/SmallText\";\r\nimport MobileInput from \"./MobileInput\";\r\n\r\ninterface Props {\r\n  demoLink?: string;\r\n  onLogin: Function;\r\n  mobile?: string;\r\n}\r\n\r\nexport default function LoginFormFields(props: Props): ReactElement {\r\n  const demoLink = props.demoLink ? props.demoLink : \"\";\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [mobile, setMobile] = useState(props.mobile !== undefined ? props.mobile : \"\");\r\n  const [gotError, setGotError] = useState(false);\r\n  const [inProgress, setInProgress] = useState(false);\r\n  const [attempts, setAttempts] = useState(0);\r\n  const loadUser = useStoreActions((action) => action.loadUser);\r\n  // const returnUrl = useStoreState((state) => state.returnUrl);\r\n  // const setReturnUrl = useStoreActions((action) => action.returnUrl.setItem);\r\n\r\n  \r\n  const textBoxStyle: CSSProperties = {\r\n    backgroundColor: gotError ? \"#ffeeee\" : \"#ffffff\",\r\n  };\r\n\r\n  const loginButtonDisabled =\r\n    inProgress || password.length < 1 || mobile.length !== 8;\r\n\r\n  function onLoginButtonClick() {\r\n    if (!loginButtonDisabled) {\r\n      setInProgress(true);\r\n      const postBody: IApiReqLogin = {\r\n        mobile: `+973${mobile}`,\r\n        password,\r\n        app:\"customer-fe\"\r\n      };\r\n      axios\r\n        .post<IResponse>(\r\n          process.env.REACT_APP_API_ROOT + \"/auth/login\",\r\n          postBody,\r\n          { withCredentials: true }\r\n        )\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            loadUser().finally(() => {\r\n              setGotError(false);\r\n              \r\n              // navigate(newReturnUrl);\r\n              // navigate(-1);\r\n              props.onLogin();\r\n            });\r\n          } else {\r\n            loginFailed();\r\n          }\r\n        })\r\n        .catch((reason) => {\r\n          loginFailed();\r\n        })\r\n        .finally(() => {\r\n          setInProgress(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  function onTextBoxKeyPress(e: React.KeyboardEvent) {\r\n    if (e.key === \"Enter\") {\r\n      onLoginButtonClick();\r\n    }\r\n    setGotError(false);\r\n  }\r\n\r\n   \r\n\r\n  function loginFailed(){\r\n    //TODO: Use dialog (or better UI) instead of snackbar\r\n    const a = attempts + 1;\r\n    setAttempts((prev) => a);\r\n    setGotError(true);\r\n    const extraMsg = a > 1 ? ` (Attempt #${a}).` : `.`;\r\n    const msg = \"Wrong username or password\" + extraMsg;\r\n    console.log(msg);\r\n    setPassword(\"\");\r\n    toast.error(msg);\r\n  };\r\n\r\n  return (\r\n    <Box maxWidth={346} mx=\"auto\">\r\n      <Link to={demoLink} style={{ textDecoration: \"none\" }}>\r\n        {/* <SignInWithGoogle />\r\n              <SignInWithApple /> */}\r\n      </Link>\r\n      {/* <Box textAlign=\"center\" px={1}>\r\n            <Typography>OR</Typography>\r\n          </Box> */}\r\n      <Box py={3}>\r\n        <form noValidate autoComplete=\"off\">\r\n          <MobileInput\r\n            value={mobile}\r\n            onChange={(event) => {\r\n              setMobile(event.target.value);\r\n            }}\r\n            isErrored={gotError}\r\n            onKey={onTextBoxKeyPress}\r\n            disabled={inProgress}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            variant=\"outlined\"\r\n            value={password}\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n            style={textBoxStyle}\r\n            onKeyPress={onTextBoxKeyPress}\r\n            disabled={inProgress}\r\n          />\r\n          <Box py={1}>\r\n            <Grid container alignItems=\"center\">\r\n              <Grid item xs={8}>\r\n                {/* <Box>\r\n                        <FormControlLabel\r\n                          control={<Checkbox color=\"primary\" size=\"small\" />}\r\n                          label={<SmallText>Keep Me Logged In</SmallText>}\r\n                        />\r\n                      </Box> */}\r\n              </Grid>\r\n              <Grid item xs={4}>\r\n                <Box textAlign=\"right\" py={0}>\r\n                  <SmallText>\r\n                    <Link to=\"/forgot-password\">Forgot password?</Link>\r\n                  </SmallText>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </form>\r\n        <Box py={1}>\r\n          <Button\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            fullWidth={true}\r\n            onClick={onLoginButtonClick}\r\n            disabled={loginButtonDisabled}\r\n          >\r\n            {inProgress ? \"Please Wait...\" : \"LOGIN\"}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Link, Typography } from \"@material-ui/core\";\r\nimport Branding from \"../../config/Branding\";\r\nimport LoginFormFields from \"./LoginFormFields\";\r\n// import SignInWithApple from \"../mock/SignInWithApple\";\r\n// import SignInWithGoogle from \"../mock/SignInWithGoogle\";\r\ninterface Props {\r\n  setIntent: React.Dispatch<React.SetStateAction<\"login\" | \"signUp\">>;\r\n  demoLink?: string;\r\n  onLogin: Function;\r\n}\r\n\r\n//TODO: FUTURE: Rework. create \"Login Modal\" component that functions fully\r\n\r\nexport const LoginForm = (props: Props) => {\r\n\r\n  //TODO: Login with Google\r\n\r\n  return (\r\n    <Box p={1} maxWidth={640} mx=\"auto\">\r\n      <Box\r\n        my={2}\r\n        py={3}\r\n        borderRadius={Branding.borderRadius.niceRadius}\r\n        boxShadow={Branding.shadow.niceShadow}\r\n        bgcolor=\"white\"\r\n      >\r\n        <Box maxWidth={346} mx=\"auto\" px={2}>\r\n          <Box mb={2} textAlign=\"center\">\r\n            <Typography variant=\"h6\">Login</Typography>\r\n          </Box>\r\n          <LoginFormFields demoLink={props.demoLink} onLogin={props.onLogin} />\r\n          <Box textAlign=\"center\">\r\n            <Typography>\r\n              Don't have an account?\r\n              <br />{\" \"}\r\n              <Link\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => {\r\n                  props.setIntent(\"signUp\");\r\n                }}\r\n              >\r\n                Click to sign-up\r\n              </Link>\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n","import { Typography } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"@material-ui/styles\";\r\nimport React, { ReactElement } from \"react\";\r\n\r\ninterface Props {\r\n  title: string;\r\n}\r\n\r\nexport default function LoginHeader({ title }: Props): ReactElement {\r\n  const headStyle: CSSProperties = {\r\n    // textAlign: \"center\",\r\n  };\r\n\r\n  const hVariant = \"h5\";\r\n  return (\r\n    <Typography variant={hVariant} style={headStyle}>\r\n      {title}\r\n    </Typography>\r\n  );\r\n}\r\n","import { Box, Button, Grid, Link, TextField, Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { ReactElement, useEffect, useState } from \"react\";\r\n// import { IApiReqSendOtp } from \"estreeh-common-library/src/interfaces/api/req/IApiReqSendOtp\";\r\nimport { IApiReqCheckMobile } from \"estreeh-common-library/src/interfaces/api/req/IApiReqCheckMobile\";\r\nimport { IApiResCheckMobile } from \"estreeh-common-library/src/interfaces/api/res/IApiResCheckMobile\";\r\n// import { IApiResSendOtp } from \"estreeh-common-library/src/interfaces/api/res/IApiResSendOtp\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport LoginHeader from \"./LoginHeader\";\r\nimport MobileInput from \"./MobileInput\";\r\n\r\ntype D<T> = React.Dispatch<React.SetStateAction<T>>;\r\n\r\ninterface Props {\r\n  mobile: string;\r\n  errored: boolean;\r\n  loading: boolean;\r\n  newUser?: boolean;\r\n  otpSent: boolean;\r\n  checkMobileResult: IApiResCheckMobile | undefined;\r\n  allowResend: Date;\r\n  secret: string;\r\n  setMobile: D<string>;\r\n  setNewUser: D<boolean | undefined>;\r\n  setLoading: D<boolean>;\r\n  setOtpSent: D<boolean>;\r\n  setCheckMobileResult: D<IApiResCheckMobile | undefined>;\r\n  setSecret: D<string>;\r\n  sendOtp?: React.MouseEventHandler<HTMLButtonElement>;\r\n  // validateOtp?: React.MouseEventHandler<HTMLButtonElement>;\r\n  validateOtp?: () => void;\r\n  setIntent: React.Dispatch<React.SetStateAction<\"login\" | \"signUp\">>;\r\n}\r\n\r\nexport default function LoginEnterMobile({\r\n  mobile,\r\n  errored,\r\n  loading,\r\n  newUser,\r\n  otpSent,\r\n  allowResend,\r\n  secret,\r\n  sendOtp,\r\n  validateOtp,\r\n  setMobile,\r\n  setNewUser,\r\n  setLoading,\r\n  setOtpSent,\r\n  setCheckMobileResult,\r\n  setSecret,\r\n  setIntent,\r\n}: Props): ReactElement {\r\n  const line2My = 3;\r\n  const boxWidth = 200;\r\n  const [countdown, setCountdown] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(\r\n      () => setCountdown(secondsBetweenDates(new Date(), allowResend)),\r\n      500\r\n    );\r\n    if (mobile.length === 8 && newUser === undefined && loading === false) {\r\n      // TODO: Validate mobile before doing axios\r\n      setLoading(true);\r\n      const checkBody:IApiReqCheckMobile = {\r\n        to: `+973${mobile}`\r\n      }\r\n      axios\r\n        .post<IResponse<IApiResCheckMobile | undefined>>(\r\n          process.env.REACT_APP_API_ROOT + \"/otp/check-mobile\",\r\n          checkBody\r\n        )\r\n        .then((result) => {\r\n          const checkMobile = result.data.data;\r\n          setCheckMobileResult(checkMobile);\r\n          if (checkMobile !== undefined) {\r\n            setNewUser(checkMobile.userCount === 0);\r\n            setOtpSent(checkMobile.otpCount !== 0);\r\n          }\r\n        })\r\n        .finally(() => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n    if (mobile.length !== 8 && newUser !== undefined) {\r\n      setLoading(false);\r\n      setNewUser(undefined);\r\n    }\r\n    if (\r\n      secret.length === 5 &&\r\n      otpSent === true &&\r\n      validateOtp !== undefined &&\r\n      loading === false &&\r\n      newUser !== undefined\r\n    ) {\r\n      validateOtp();\r\n    }\r\n    return function cleanup() {\r\n      clearInterval(interval);\r\n    };\r\n  }, [\r\n    allowResend,\r\n    loading,\r\n    mobile,\r\n    newUser,\r\n    otpSent,\r\n    secret.length,\r\n    setCheckMobileResult,\r\n    setLoading,\r\n    setNewUser,\r\n    setOtpSent,\r\n    validateOtp,\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      <LoginHeader title=\"Enter Mobile\" />\r\n      <Box maxWidth={boxWidth} my={2} mx=\"auto\">\r\n        <MobileInput\r\n          value={mobile}\r\n          isErrored={errored}\r\n          disabled={loading}\r\n          onChange={(event) => {\r\n            setMobile(event.target.value);\r\n          }}\r\n        />\r\n        {otpSent && (\r\n          <TextField\r\n            name=\"secret\"\r\n            variant=\"outlined\"\r\n            label=\"Enter OTP\"\r\n            value={secret}\r\n            onChange={(event) => {\r\n              if (event.target.value.match(/^\\d*$/))\r\n                setSecret(event.target.value);\r\n            }}\r\n            inputProps={{ maxLength: 5 }}\r\n            type=\"tel\"\r\n          />\r\n        )}\r\n      </Box>\r\n      {!otpSent && (\r\n        <Box my={line2My}>\r\n          <Typography>Verification SMS will be sent to your mobile.</Typography>\r\n        </Box>\r\n      )}\r\n\r\n      <Box m={2}>\r\n        <Grid container spacing={2} justify=\"center\">\r\n          <Grid item>\r\n            <Button\r\n              variant={otpSent ? \"outlined\" : \"contained\"}\r\n              color=\"primary\"\r\n              disabled={\r\n                loading ||\r\n                newUser === undefined ||\r\n                newUser !== true ||\r\n                countdown > 0\r\n              }\r\n              onClick={sendOtp}\r\n            >\r\n              {!loading\r\n                ? otpSent\r\n                  ? countdown > 0\r\n                    ? `Resend (${countdown})`\r\n                    : \"Resend OTP\"\r\n                  : \"Send OTP\"\r\n                : \"Checking...\"}\r\n            </Button>\r\n          </Grid>\r\n          {otpSent && (\r\n            <Grid item>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                disabled={loading}\r\n                onClick={validateOtp}\r\n              >\r\n                Validate\r\n              </Button>\r\n            </Grid>\r\n          )}\r\n        </Grid>\r\n      </Box>\r\n      {!otpSent && (\r\n        <Box m={2}>\r\n          Already have an account?\r\n          <br />\r\n          <Link\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => setIntent(\"login\")}\r\n          >\r\n            Click here to Login\r\n          </Link>\r\n        </Box>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction secondsBetweenDates(date1: Date, date2: Date) {\r\n  const secs = Math.round((date2.getTime() - date1.getTime()) / 1000);\r\n  return secs > 0 ? secs : 0;\r\n}\r\n","import { Box, Button, TextField } from \"@material-ui/core\";\r\nimport { FormikProps } from \"formik\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApiReqRegisterUser } from \"estreeh-common-library/src/interfaces/api/req/IApiReqRegisterUser\";\r\n\r\ninterface Props {\r\n  formik: FormikProps<IApiReqRegisterUser>;\r\n}\r\n\r\nexport default function RegisterCustomerForm({ formik }: Props): ReactElement {\r\n  \r\n  return (\r\n    <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\r\n      <Box my={2}>\r\n      Your mobile: {formik.values.mobile}\r\n      </Box>\r\n      <Box my={2} maxWidth={420} mx=\"auto\">\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Your Name\"\r\n          error={formik.touched.fullName && formik.errors.fullName !== undefined}\r\n          helperText={formik.touched.fullName && formik.errors.fullName}\r\n          autoComplete=\"new-password\" \r\n          {...formik.getFieldProps(\"fullName\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\" \r\n          error={formik.touched.password && formik.errors.password !== undefined}\r\n          helperText={formik.touched.password && formik.errors.password}\r\n          {...formik.getFieldProps(\"password\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Confirm Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n          error={formik.touched.confirmPassword && formik.errors.confirmPassword !== undefined}\r\n          helperText={formik.touched.confirmPassword && formik.errors.confirmPassword}\r\n          {...formik.getFieldProps(\"confirmPassword\")}\r\n        />\r\n      </Box>\r\n      <Button type=\"submit\" color=\"primary\" variant=\"contained\" disabled={formik.isSubmitting}>\r\n        Sign-Up\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n","import { Formik } from \"formik\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApiReqRegisterUser } from \"estreeh-common-library/src/interfaces/api/req/IApiReqRegisterUser\";\r\nimport LoginHeader from \"./LoginHeader\";\r\nimport RegisterCustomerForm from \"./RegisterCustomerForm\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { IApiResRegisterUser } from \"estreeh-common-library/src/interfaces/api/res/IApiResRegisterUser\";\r\nimport { toast } from \"react-toastify\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { useStoreActions } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props {\r\n  mobile: string;\r\n  secret: string;\r\n  onLogin: Function;\r\n}\r\n\r\nexport default function RegisterCustomer({\r\n  mobile,\r\n  secret,\r\n  onLogin,\r\n}: Props): ReactElement {\r\n  const loadUser = useStoreActions((s) => s.loadUser);\r\n\r\n  const initialAppForm: IApiReqRegisterUser = {\r\n    secret,\r\n    mobile: `+973${mobile}`,\r\n    fullName: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoginHeader title=\"Complete Sign-up\" />\r\n      <Formik\r\n        validationSchema={Yup.object({\r\n          fullName: Yup.string()\r\n            .required(\"Required\")\r\n            .min(3, \"Minimum 3 characters\"),\r\n          password: Yup.string()\r\n            .required(\"Required\")\r\n            .min(5, \"Minimum 5 characters\"),\r\n          confirmPassword: Yup.string().required(\"Required\").oneOf(\r\n            [Yup.ref(\"password\"), null],\r\n            \"Passwords must match\"\r\n          ),\r\n        })}\r\n        initialValues={initialAppForm}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          setSubmitting(true);\r\n          axios\r\n            .post<IResponse<IApiResRegisterUser>>(\r\n              process.env.REACT_APP_API_ROOT + \"/auth/register\",\r\n              values,\r\n              { withCredentials: true }\r\n            )\r\n            .then((result) => {\r\n              toast.success(result.data.message);\r\n              loadUser().then((user) => {\r\n                onLogin();\r\n              });\r\n            })\r\n            .catch((reason) => {\r\n              toast.error(reason.response.data.message);\r\n            })\r\n            .finally(() => {\r\n              setSubmitting(false);\r\n            });\r\n        }}\r\n      >\r\n        {(formik) => <RegisterCustomerForm formik={formik} />}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import { Box, Link, Typography } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { IApiResCheckMobile } from \"estreeh-common-library/src/interfaces/api/res/IApiResCheckMobile\";\r\nimport { IApiResSendOtp } from \"estreeh-common-library/src/interfaces/api/res/IApiResSendOtp\";\r\nimport { IApiResValidateOtp } from \"estreeh-common-library/src/interfaces/api/res/IApiResValidateOtp\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport LoginEnterMobile from \"./LoginEnterMobile\";\r\nimport RegisterCustomer from \"./RegisterCustomer\";\r\nimport { toast } from \"react-toastify\";\r\nimport LoginFormFields from \"./LoginFormFields\";\r\nimport { IApiReqSendOtp } from \"estreeh-common-library/src/interfaces/api/req/IApiReqSendOtp\";\r\nimport { IApiReqValidateOtp } from \"estreeh-common-library/src/interfaces/api/req/IApiReqValidateOtp\";\r\n\r\ninterface Props {\r\n  onLogin: Function;\r\n  setIntent: React.Dispatch<React.SetStateAction<\"login\" | \"signUp\">>;\r\n}\r\n\r\nexport const RegisterStart = (props: Props) => {\r\n  const boxStyle: CSSProperties = {\r\n    textAlign: \"center\",\r\n  };\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [errored, setErrored] = useState(false);\r\n  const [newUser, setNewUser] = useState<boolean | undefined>(undefined);\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [secret, setSecret] = useState(\"\");\r\n  const [checkMobileResult, setCheckMobileResult] = useState<\r\n    IApiResCheckMobile | undefined\r\n  >(undefined);\r\n\r\n  const [allowResend, setAllowResend] = useState(new Date());\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [otpValidated, setOtpValidated] = useState(false);\r\n\r\n  function sendOtp() {\r\n    setLoading(true);\r\n    const sendOtpBody: IApiReqSendOtp = {\r\n      to: `+973${mobile}`,\r\n      method: \"sms\",\r\n      purpose: \"newUser\",\r\n    };\r\n    axios\r\n      .post<IResponse<IApiResSendOtp>>(\r\n        process.env.REACT_APP_API_ROOT + \"/otp/send\",\r\n        sendOtpBody\r\n      )\r\n      .then((result) => {\r\n        setAllowResend(new Date(result.data.data.allowResend));\r\n        toast.success(result.data.message);\r\n        setOtpSent(true);\r\n      })\r\n      .catch((reason) => {\r\n        toast.error(reason.response.data.message);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  function validateOtp() {\r\n    setLoading(true);\r\n    const validateOtpBody:IApiReqValidateOtp = {\r\n      to: `+973${mobile}`,\r\n      secret,\r\n    }\r\n    axios\r\n      .post<IResponse<IApiResValidateOtp>>(\r\n        process.env.REACT_APP_API_ROOT + \"/otp/validate\",\r\n        validateOtpBody\r\n      )\r\n      .then((result) => {\r\n        toast.success(result.data.message);\r\n        setOtpValidated(result.data.success);\r\n      })\r\n      .catch((reason) => {\r\n        toast.error(reason.response.data.message);\r\n        setSecret(\"\");\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  const childProps = {\r\n    loading,\r\n    errored,\r\n    mobile,\r\n    newUser,\r\n    otpSent,\r\n    checkMobileResult,\r\n    allowResend,\r\n    secret,\r\n    setSecret,\r\n    setMobile,\r\n    setNewUser,\r\n    setLoading,\r\n    setErrored,\r\n    setOtpSent,\r\n    setCheckMobileResult,\r\n    sendOtp,\r\n    validateOtp,\r\n    onLogin: props.onLogin,\r\n    setIntent: props.setIntent,\r\n  };\r\n\r\n  return (\r\n    <Box maxWidth={960} mx=\"auto\" mt={7} mb={12}>\r\n      <NiceBox style={boxStyle} p={6}>\r\n        {newUser !== false && otpValidated === false && (\r\n          <LoginEnterMobile {...childProps} />\r\n        )}\r\n        {otpValidated === true && <RegisterCustomer {...childProps} />}\r\n        {newUser === false && (\r\n          <Box>\r\n            <Box mb={2} textAlign=\"center\">\r\n              <Typography variant=\"h5\">Login</Typography>\r\n            </Box>\r\n            <Box my={2}>\r\n              An existing account was found for mobile {mobile}, please login to\r\n              continue:\r\n            </Box>\r\n\r\n            <LoginFormFields onLogin={props.onLogin} mobile={mobile} />\r\n            <Box>\r\n              Wrong mobile number?\r\n              <br />\r\n              <Link\r\n                onClick={function () {\r\n                  setMobile(\"\");\r\n                  setNewUser(undefined);\r\n                }}\r\n                style={{ cursor: \"pointer\" }}\r\n              >\r\n                Click to enter another mobile\r\n              </Link>\r\n            </Box>\r\n          </Box>\r\n        )}\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n};\r\n","import { navigate, RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport { LoginForm } from \"./LoginForm\";\r\nimport { RegisterStart } from \"./RegisterStart\";\r\n\r\ninterface Params {\r\n  demoLink: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {\r\n  intent: \"login\" | \"signUp\";\r\n}\r\n\r\nexport default function LoginSignUpPage(props: Props): ReactElement {\r\n\r\n  const syncFav = useStoreActions(a => a.syncFav);\r\n  const [intent, setIntent] = useState(props.intent);\r\n\r\n  \r\n  const returnUrlStored = useStoreState((s) => s.returnUrl.item);\r\n  const setReturnUrl = useStoreActions((a) => a.returnUrl.setItem);\r\n\r\n  const navigateTo = returnUrlStored === undefined ? -1 : returnUrlStored;\r\n\r\n  function onLogin(){\r\n    const url = navigateTo;\r\n    setReturnUrl(undefined);\r\n    syncFav();\r\n    if (url === -1) navigate(url);\r\n    else navigate(url);\r\n  }\r\n\r\n  return <>\r\n    {intent === \"signUp\" && (<RegisterStart {...props} setIntent={setIntent} onLogin={onLogin} />)}\r\n    {intent === \"login\" && (<LoginForm {...props} setIntent={setIntent} onLogin={onLogin} />)}\r\n  </>;\r\n}\r\n","import { Box, Icon, Link } from \"@material-ui/core\";\r\nimport { Link as RouterLink } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { INavItem } from \"estreeh-common-library/src/interfaces/INavItem\";\r\n\r\ninterface Props {\r\n  navItem: INavItem;\r\n  my: number;\r\n  mx: number;\r\n}\r\n\r\nexport default function LeftNavItem(props: Props): ReactElement {\r\n  const nav = props.navItem;\r\n  const itemStyles: React.CSSProperties = {\r\n    display: \"block\",\r\n    color: \"black\",\r\n    padding: \"2px 8px\",\r\n    // margin: \"20px 0\",\r\n    textDecoration: \"none\",\r\n    cursor:\"pointer\",\r\n  };\r\n\r\n  let title: React.ReactNode = (\r\n    <Box>\r\n      {nav.icon && (\r\n        <Icon fontSize=\"small\" style={{ marginRight: 6 }}>\r\n          {nav.icon}\r\n        </Icon>\r\n      )}\r\n      {nav.title}\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Box ml={props.mx} my={props.my}>\r\n      {nav.to && (\r\n        <RouterLink style={{ ...itemStyles }} to={nav.to}>\r\n          {title}\r\n        </RouterLink>\r\n      )}\r\n      {nav.onClick && (\r\n        <Link\r\n          onClick={nav.onClick}\r\n          style={{\r\n            ...itemStyles,\r\n          }}\r\n        >\r\n          {title}\r\n        </Link>\r\n      )}\r\n      {!nav.to && !nav.onClick && (\r\n        <Link\r\n          href=\"#\"\r\n          style={{\r\n            ...itemStyles,\r\n          }}\r\n        >\r\n          {title}\r\n        </Link>\r\n      )}\r\n      {props.navItem.children !== undefined && (\r\n        <Box fontSize=\"90%\">\r\n          {props.navItem.children?.map((navItem) => (\r\n            <LeftNavItem\r\n              my={0.5}\r\n              mx={5}\r\n              navItem={navItem}\r\n              key={navItem.title + \"_\" + navItem.to}\r\n            />\r\n          ))}\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\n\r\nexport const apiGetLogout = async () => {\r\n  console.log(\"Logout\");\r\n  const r = await axios.get<IResponse>(\r\n    process.env.REACT_APP_API_ROOT + \"/auth/logout\",\r\n    { withCredentials: true }\r\n  );\r\n  return r.data.success;\r\n};\r\n","import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport { navigate } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { apiGetLogout } from \"../../api-calls/ApiGetLogout\";\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props {\r\n  open: boolean;\r\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport default function LogoutDialog(props: Props): ReactElement {\r\n  const setUser = useStoreActions((a) => a.user.setItem);\r\n  const setFavorites = useStoreActions(a => a.favTwoYear.setItems);\r\n\r\n  const logoutConfirmed = () => {\r\n    apiGetLogout().finally(() => {\r\n      setUser(undefined);\r\n      setFavorites({\r\n        payload: []\r\n      });\r\n      handleClose();\r\n      toast.info(\"Logged out successfully.\");\r\n      navigate(\"/\");\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    props.setOpen(false);\r\n  };\r\n\r\n  const user = useStoreState((s) => s.user.item);\r\n\r\n  return (\r\n    <Dialog open={props.open} onClose={handleClose}>\r\n      <DialogTitle>Logout</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          {user?.fullName}, Are you sure you want to logout?\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} style={{ color: \"#aaa\" }}>\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={logoutConfirmed} color=\"primary\" autoFocus>\r\n          Logout\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { INavItem } from \"estreeh-common-library/src/interfaces/INavItem\";\r\nimport LeftNavItem from \"../common/LeftNavItem\";\r\nimport LogoutDialog from \"../common/LogoutDialog\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props extends RouteComponentProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function MyLayout(props: Props): ReactElement {\r\n  const { t } = useTranslation();\r\n  const [logoutDialogOpen, setLogoutDialogOpen] = useState(false);\r\n  const user = useStoreState((s) => s.user.item);\r\n\r\n  const back = {\r\n    title: \"Back\",\r\n    to: \"/\",\r\n  };\r\n\r\n  const myRequests = {\r\n    title: \"My Requests\",\r\n    to: \"requests\",\r\n  };\r\n\r\n  const myFavorites = {\r\n    title: \"My Favorites\",\r\n    to: \"favorites\",\r\n  };\r\n\r\n  const login = {\r\n    title: \"Login / Sign-up\",\r\n    to: \"/login\",\r\n  };\r\n  const profile = {\r\n    title: \"Profile\",\r\n    to: \"profile\",\r\n  };\r\n  const changePassword = {\r\n    title: \"Change Password\",\r\n    to: \"password\",\r\n  };\r\n  const logout = {\r\n    title: t(\"Logout\"),\r\n    onClick: () => {\r\n      setLogoutDialogOpen(true);\r\n    },\r\n  };\r\n\r\n  const menu: INavItem[] =\r\n    user === undefined\r\n      ? [back, myFavorites, login]\r\n      : [back, myRequests, myFavorites, profile, changePassword, logout];\r\n  return (\r\n    <>\r\n      <LogoutDialog open={logoutDialogOpen} setOpen={setLogoutDialogOpen} />\r\n      <Grid container spacing={0}>\r\n        <Grid item xs={2}>\r\n          <Box mx={2} my={4}>\r\n            {menu.map((nav) => (\r\n              <LeftNavItem navItem={nav} my={1} mx={0} key={nav.title} />\r\n            ))}\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={10}>\r\n          <Box minHeight={400}>{props.children}</Box>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import { Box, Divider, Typography } from '@material-ui/core'\r\nimport React, { ReactElement } from 'react'\r\n\r\ninterface Props {\r\n  title: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function InfoPage({title, children}: Props): ReactElement {\r\n  return (\r\n    <Box py={3}>\r\n      <Typography variant=\"h3\">{title}</Typography>\r\n      <Box my={3}>\r\n        <Divider/>\r\n      </Box>\r\n      <Box>\r\n        {children}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { RouteComponentProps } from '@reach/router'\r\nimport React, { ReactElement } from 'react'\r\nimport InfoPage from './InfoPage'\r\n\r\ninterface Props extends RouteComponentProps{\r\n  \r\n}\r\n\r\nexport default function ContactUsPage(props: Props): ReactElement {\r\n  return (\r\n    <InfoPage title=\"Contact Us\">\r\n      Contact us form .. . .. ...\r\n    </InfoPage>\r\n  )\r\n}\r\n","import { Box, Grid, Typography } from '@material-ui/core'\r\nimport { RouteComponentProps } from '@reach/router'\r\nimport React, { ReactElement } from 'react'\r\nimport { useStoreState } from '../../helpers/StoreTypedHooks'\r\nimport NiceBox from '../common/NiceBox'\r\nimport Worker2CardWrapper from '../worker/two-years/Worker2CardWrapper'\r\n\r\ninterface Props extends RouteComponentProps {\r\n}\r\n\r\nexport default function MyFavoritesPage(props: Props): ReactElement {\r\n  const favorites = useStoreState(s => s.favTwoYear.items);\r\n  return (\r\n    <Box>\r\n      <Box py={2}>\r\n        <Typography variant=\"h4\">My Favorites</Typography>\r\n      </Box>\r\n      <NiceBox>\r\n        <Grid container spacing={1}>\r\n          {favorites.map((worker) => (\r\n            // <RequestGridCard request={worker} key={worker._id} />\r\n            <Worker2CardWrapper worker={worker} design=\"grid\" />\r\n          ))}\r\n          {favorites.length === 0 && (\r\n            <Box p={2}>\r\n              You don't have any workers added to your favorites.\r\n            </Box>\r\n          )}\r\n        </Grid>\r\n      </NiceBox>\r\n    </Box>\r\n  )\r\n}\r\n","import { Box, Button, TextField } from '@material-ui/core'\r\nimport { FormikProps } from 'formik'\r\nimport React, { ReactElement } from 'react'\r\nimport { IApiReqUpdateMyProfile } from 'estreeh-common-library/src/interfaces/api/req/IApiReqUpdateMyProfile'\r\n\r\ninterface Props {\r\n  formik: FormikProps<IApiReqUpdateMyProfile>\r\n}\r\n\r\nexport default function ChangePasswordForm({formik}: Props): ReactElement {\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\r\n    <Box my={2}>\r\n    <TextField\r\n          variant=\"outlined\"\r\n          label=\"New Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\" \r\n          error={formik.touched.password && formik.errors.password !== undefined}\r\n          helperText={formik.touched.password && formik.errors.password}\r\n          {...formik.getFieldProps(\"password\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Confirm Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n          error={formik.touched.confirmPassword && formik.errors.confirmPassword !== undefined}\r\n          helperText={formik.touched.confirmPassword && formik.errors.confirmPassword}\r\n          {...formik.getFieldProps(\"confirmPassword\")}\r\n        />\r\n    </Box>\r\n    <Button\r\n      type=\"submit\"\r\n      color=\"primary\"\r\n      variant=\"contained\"\r\n      disabled={formik.isSubmitting}\r\n    >\r\n      Save\r\n    </Button>\r\n  </form>\r\n  )\r\n}\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React, { ReactElement } from \"react\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport ChangePasswordForm from \"./ChangePasswordForm\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik } from \"formik\";\r\nimport axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { toast } from \"react-toastify\";\r\nimport { IApiReqUpdateMyProfile } from \"estreeh-common-library/src/interfaces/api/req/IApiReqUpdateMyProfile\";\r\n\r\ninterface Props extends RouteComponentProps {}\r\n\r\nexport default function ChangePasswordPage(props: Props): ReactElement {\r\n  const initialAppForm: IApiReqUpdateMyProfile = {};\r\n\r\n  return (\r\n    <Box>\r\n      <Box py={2}>\r\n        <Typography variant=\"h4\">Change Password</Typography>\r\n      </Box>\r\n      <NiceBox>\r\n        <Formik\r\n          validationSchema={Yup.object({\r\n            password: Yup.string()\r\n              .required(\"Required\")\r\n              .min(5, \"Minimum 5 characters\"),\r\n            confirmPassword: Yup.string()\r\n              .required(\"Required\")\r\n              .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\"),\r\n          })}\r\n          initialValues={initialAppForm}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setSubmitting(true);\r\n            axios\r\n              .put<IResponse<boolean>>(\r\n                process.env.REACT_APP_API_ROOT + \"/auth/me\",\r\n                values,\r\n                { withCredentials: true }\r\n              )\r\n              .then((result) => {\r\n                toast.success(result.data.message);\r\n              })\r\n              .catch((reason) => {\r\n                toast.error(reason.response.data.message);\r\n              })\r\n              .finally(() => {\r\n                setSubmitting(false);\r\n              });\r\n          }}\r\n        >\r\n          {(formik) => <ChangePasswordForm formik={formik} />}\r\n        </Formik>\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Button, TextField } from \"@material-ui/core\";\r\nimport { FormikProps } from \"formik\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApiReqUpdateMyProfile } from \"estreeh-common-library/src/interfaces/api/req/IApiReqUpdateMyProfile\";\r\n\r\ninterface Props {\r\n  formik: FormikProps<IApiReqUpdateMyProfile>;\r\n  mobile?: string;\r\n}\r\n\r\nexport default function MyProfileForm({ formik, mobile }: Props): ReactElement {\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\r\n      <Box my={3} fontSize=\"80%\">Your registered mobile is <strong>{mobile}</strong></Box>\r\n      <Box my={2}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Full Name\"\r\n          error={\r\n            formik.touched.fullName && formik.errors.fullName !== undefined\r\n          }\r\n          helperText={formik.touched.fullName && formik.errors.fullName}\r\n          autoComplete=\"new-password\"\r\n          {...formik.getFieldProps(\"fullName\")}\r\n        />\r\n        {/* <TextField\r\n          variant=\"outlined\"\r\n          label=\"Email\"\r\n          error={formik.touched.email && formik.errors.email !== undefined}\r\n          helperText={formik.touched.email && formik.errors.email}\r\n          autoComplete=\"new-password\"\r\n          {...formik.getFieldProps(\"email\")}\r\n        /> */}\r\n      </Box>\r\n      <Button\r\n        type=\"submit\"\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        disabled={formik.isSubmitting}\r\n      >\r\n        Save\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n","import { Box, Typography } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport { Formik } from \"formik\";\r\nimport React, { ReactElement } from \"react\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport MyProfileForm from \"./MyProfileForm\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { IApiReqUpdateMyProfile } from \"estreeh-common-library/src/interfaces/api/req/IApiReqUpdateMyProfile\";\r\nimport { useStoreState } from \"../../helpers/StoreTypedHooks\";\r\n\r\ninterface Props extends RouteComponentProps {}\r\n\r\nexport default function MyProfilePage(props: Props): ReactElement {\r\n  const user = useStoreState((s) => s.user.item);\r\n  const initialAppForm: IApiReqUpdateMyProfile = {\r\n    fullName: user?.fullName,\r\n    email: user?.email,\r\n    mobile2: user?.mobile2,\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box py={2}>\r\n        <Typography variant=\"h4\">Profile</Typography>\r\n      </Box>\r\n      <NiceBox>\r\n        <Formik\r\n          validationSchema={Yup.object({\r\n            fullName: Yup.string().required(\"Required\").min(3, \"Minimum 3 characters\"),\r\n            // email: Yup.string().email(),\r\n          })}\r\n          initialValues={initialAppForm}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setSubmitting(true);\r\n            axios\r\n              .put<IResponse<boolean>>(\r\n                process.env.REACT_APP_API_ROOT + \"/auth/me\",\r\n                values,\r\n                { withCredentials: true }\r\n              )\r\n              .then((result) => {\r\n                toast.success(result.data.message);\r\n              })\r\n              .catch((reason) => {\r\n                toast.error(reason.response.data.message);\r\n              })\r\n              .finally(() => {\r\n                setSubmitting(false);\r\n              });\r\n          }}\r\n        >\r\n          {(formik) => <MyProfileForm formik={formik} mobile={user?.mobile} />}\r\n        </Formik>\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Button, TextField } from \"@material-ui/core\";\r\nimport { FormikProps } from \"formik\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { IApiReqPasswordReset } from \"estreeh-common-library/src/interfaces/api/req/IApiReqPasswordReset\";\r\n\r\ninterface Props {\r\n  formik: FormikProps<IApiReqPasswordReset | any>;\r\n}\r\n\r\nexport default function PasswordResetForm({ formik }: Props): ReactElement {\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\r\n      <Box my={2}>\r\n        <Box my={2}>\r\n          Please enter the OTP sent to: <strong>{formik.values.mobile}</strong>\r\n        </Box>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"OTP\"\r\n          autoComplete=\"new-password\"\r\n          error={formik.touched.secret && formik.errors.secret !== undefined}\r\n          helperText={formik.touched.secret && formik.errors.secret}\r\n          {...formik.getFieldProps(\"secret\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"New Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n          error={\r\n            formik.touched.password && formik.errors.password !== undefined\r\n          }\r\n          helperText={formik.touched.password && formik.errors.password}\r\n          {...formik.getFieldProps(\"password\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Confirm Password\"\r\n          type=\"password\"\r\n          autoComplete=\"new-password\"\r\n          error={\r\n            formik.touched.confirmPassword &&\r\n            formik.errors.confirmPassword !== undefined\r\n          }\r\n          helperText={\r\n            formik.touched.confirmPassword && formik.errors.confirmPassword\r\n          }\r\n          {...formik.getFieldProps(\"confirmPassword\")}\r\n        />\r\n      </Box>\r\n      <Box textAlign=\"center\">\r\n        <Button\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          disabled={formik.isSubmitting}\r\n        >\r\n          Reset Password\r\n        </Button>\r\n      </Box>\r\n    </form>\r\n  );\r\n}\r\n","import { Box, Button, Typography } from \"@material-ui/core\";\r\nimport { navigate, RouteComponentProps } from \"@reach/router\";\r\nimport { Formik } from \"formik\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport MobileInput from \"../login/MobileInput\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport PasswordResetForm from \"./PasswordResetForm\";\r\nimport { IApiReqPasswordReset } from \"estreeh-common-library/src/interfaces/api/req/IApiReqPasswordReset\";\r\nimport { IApiReqSendOtp } from \"estreeh-common-library/src/interfaces/api/req/IApiReqSendOtp\";\r\nimport { IApiResSendOtp } from \"estreeh-common-library/src/interfaces/api/res/IApiResSendOtp\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { toast } from \"react-toastify\";\r\n\r\ninterface Props extends RouteComponentProps {}\r\n\r\nexport default function ForgotPasswordPage(props: Props): ReactElement {\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const initialPassForm: IApiReqPasswordReset = {\r\n    mobile:`+973${mobile}`,\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    secret: \"\",\r\n  };\r\n\r\n  //TODO: Implement captcha\r\n\r\n  return (\r\n    <Box maxWidth={440} mx=\"auto\" my={3}>\r\n      <NiceBox>\r\n        <Box my={4}>\r\n          <Typography variant=\"h5\" style={{ textAlign: \"center\" }}>\r\n            Forgot Password\r\n          </Typography>\r\n        </Box>\r\n\r\n        {otpSent === false && (\r\n          <>\r\n            <MobileInput\r\n              value={mobile}\r\n              onChange={(e) => {\r\n                setMobile(e.target.value);\r\n              }}\r\n              isErrored={false}\r\n              disabled={loading || otpSent}\r\n            />\r\n            <Box textAlign=\"center\" my={2}>\r\n              <Button\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => {\r\n                  setLoading(true);\r\n                  //TODO: Axios blah\r\n\r\n                  const sendOtpBody: IApiReqSendOtp = {\r\n                    to: `+973${mobile}`,\r\n                    method: \"sms\",\r\n                    purpose: \"passwordReset\",\r\n                  };\r\n                  axios\r\n                    .post<IResponse<IApiResSendOtp>>(\r\n                      process.env.REACT_APP_API_ROOT + \"/otp/send\",\r\n                      sendOtpBody\r\n                    )\r\n                    .finally(() => {\r\n                      setLoading(false);\r\n                      setOtpSent(true);\r\n                    });\r\n                }}\r\n                disabled={mobile.length < 8}\r\n              >\r\n                Send OTP\r\n              </Button>\r\n            </Box>\r\n          </>\r\n        )}\r\n        {otpSent === true && (\r\n          <Formik\r\n            validationSchema={Yup.object({\r\n              secret: Yup.string().required(\"Required\"),\r\n              password: Yup.string()\r\n                .required(\"Required\")\r\n                .min(5, \"Minimum 5 characters\"),\r\n              confirmPassword: Yup.string()\r\n                .required(\"Required\")\r\n                .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\"),\r\n            })}\r\n            initialValues={initialPassForm}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n              setSubmitting(true);\r\n\r\n              const forgetBody: IApiReqPasswordReset = { ...values };\r\n\r\n              axios\r\n                .post<IResponse<boolean>>(\r\n                  process.env.REACT_APP_API_ROOT + \"/auth/reset-password\",\r\n                  forgetBody,\r\n                  { withCredentials: true }\r\n                )\r\n                .then((result) => {\r\n                  toast.success(result.data.message);\r\n                  //TODO: Take him to a password success page\r\n                  navigate(\"/\");\r\n                })\r\n                .catch((reason) => {\r\n                  toast.error(reason.response.data.message);\r\n                })\r\n                .finally(() => {\r\n                  setSubmitting(false);\r\n                });\r\n            }}\r\n          >\r\n            {(formik) => <PasswordResetForm formik={formik} />}\r\n          </Formik>\r\n        )}\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Container } from \"@material-ui/core\";\r\nimport Branding from \"../../config/Branding\";\r\nimport { Router } from \"@reach/router\";\r\nimport SiteHead from \"./SiteHead\";\r\nimport AgenciesDataProvider from \"../data/AgenciesDataProvider\";\r\nimport RequestWorkerPage from \"../request/RequestWorkerPage\";\r\nimport SuccessPage from \"../pages/SuccessPage\";\r\nimport RequestConfirmationPage from \"../request/RequestConfirmationPage\";\r\nimport FilterPage from \"../pages/FilterPage\";\r\nimport SiteHeadless from \"./SiteHeadless\";\r\nimport { withBreakpoints } from \"react-breakpoints\";\r\nimport MyRequestsPage from \"../user/MyRequestsPage\";\r\nimport SelectSchedulePage from \"../pages/SelectSchedulePage\";\r\nimport CookieConsent from \"react-cookie-consent\";\r\nimport Footer2 from \"../common/Footer2\";\r\nimport LoginSignUpPage from \"../login/LoginSignUpPage\";\r\nimport MyLayout from \"./MyLayout\";\r\nimport ContactUsPage from \"../pages/ContactUsPage\";\r\nimport MyFavoritesPage from \"../user/MyFavoritesPage\";\r\nimport ChangePasswordPage from \"../user/ChangePasswordPage\";\r\nimport MyProfilePage from \"../user/MyProfilePage\";\r\nimport ForgotPasswordPage from \"../password-reset/ForgotPasswordPage\";\r\n\r\nconst DefaultLayout = (props: {\r\n  classes: any;\r\n  breakpoints: any;\r\n  currentBreakpoint: any;\r\n}) => {\r\n  const { breakpoints, currentBreakpoint } = props;\r\n  const isMd = breakpoints[currentBreakpoint] >= breakpoints.md;\r\n  const burgerWidth = 26;\r\n\r\n  /* TODO: New pages:\r\n  =======================\r\n\r\n  Sign Up,\r\n  User profile, \r\n  reset password, \r\n  forgot password\r\n  favorites:\r\n    - Favorites list\r\n    - Add worker to favorites (function)\r\n    - Remove worker from favorite (function)\r\n    - Same buttons as worker2year card (Fav, Select, Details)\r\n  */\r\n\r\n  return (\r\n    <Box bgcolor={Branding.lightBg}>\r\n      <CookieConsent>\r\n        This website uses cookies to enhance the user experience.\r\n      </CookieConsent>\r\n      <Router primary={false}>\r\n        <SiteHead default isMd={isMd} burgerWidth={burgerWidth} />\r\n        <SiteHeadless\r\n          path=\"agencies/contract-filters\"\r\n          showCancelText={true}\r\n          title=\"Filters\"\r\n          rightText=\"Clear All\"\r\n        />\r\n        <SiteHeadless\r\n          path=\"agencies/leased-filters\"\r\n          showCancelText={true}\r\n          title=\"Filters\"\r\n        />\r\n      </Router>\r\n      <Box id=\"page-content-container\" style={{ height: \"100%\" }}>\r\n        <Container>\r\n          <Router primary={false}>\r\n            <AgenciesDataProvider\r\n              isMd={isMd}\r\n              path=\"agencies/*\"\r\n\r\n              // translationPack={{ t, i18n }}\r\n            />\r\n            <FilterPage path=\"agencies/contract-filters\" is2Year={true} />\r\n            <FilterPage path=\"agencies/leased-filters\" isLeased={true} />\r\n            <LoginSignUpPage\r\n              path=\"/login\"\r\n              demoLink=\"/new-request/two-year-worker\"\r\n              intent=\"login\"\r\n            />\r\n            <LoginSignUpPage path=\"/login-prompt\" intent=\"signUp\" />\r\n            {/* <LoginForm\r\n              path=\"/login/lease\"\r\n              demoLink=\"/new-request/two-year-worker\"\r\n            />\r\n            <LoginForm\r\n              path=\"/login/month\"\r\n              demoLink=\"/new-request/two-year-worker\"\r\n            /> */}\r\n            <SelectSchedulePage\r\n              path=\"/new-request/select-hours\"\r\n              link=\"/new-request/hourly-worker\"\r\n              isHourly={true}\r\n            />\r\n            <SelectSchedulePage\r\n              path=\"/new-request/select-months\"\r\n              link=\"/new-request/monthly-worker\"\r\n              isHourly={false}\r\n            />\r\n            <RequestWorkerPage\r\n              path=\"/new-request/two-year-worker/:guid\"\r\n              isTwoYear={true}\r\n              link=\"/new-request/confirm\"\r\n              isMd={isMd}\r\n            />\r\n            <RequestWorkerPage\r\n              path=\"/new-request/hourly-worker/:guid\"\r\n              isRentalHourly={true}\r\n              link=\"/new-request/confirm-lease\"\r\n              isMd={isMd}\r\n            />\r\n            <RequestWorkerPage\r\n              path=\"/new-request/monthly-worker/:guid\"\r\n              isRentalMonthly={true}\r\n              link=\"/new-request/confirm-lease\"\r\n              isMd={isMd}\r\n            />\r\n            <RequestConfirmationPage\r\n              path=\"/new-request/confirm\"\r\n              link=\"/success\"\r\n            />\r\n            <RequestConfirmationPage\r\n              path=\"/new-request/confirm-lease\"\r\n              link=\"/success-lease\"\r\n            />\r\n            <SuccessPage\r\n              path=\"/success\"\r\n              message=\"Your request has been sent.\"\r\n              smallMessage=\"The agency will contact you within 1 business day.\"\r\n            />\r\n            <SuccessPage\r\n              path=\"/success-lease\"\r\n              message=\"Your booking is completed.\"\r\n              smallMessage=\"The agency may contact you if further details are required.\"\r\n            />\r\n            <MyLayout path=\"my\">\r\n              <MyFavoritesPage path=\"favorites\"/>\r\n              <MyRequestsPage path=\"requests\" default />\r\n              <ChangePasswordPage path=\"password\" />\r\n              <MyProfilePage path=\"profile\" />\r\n            </MyLayout>\r\n            <ForgotPasswordPage path=\"forgot-password\" />\r\n            <ContactUsPage path=\"contact-us\"/>\r\n          </Router>\r\n        </Container>\r\n        <Footer2 />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default withBreakpoints(DefaultLayout);\r\n","export default __webpack_public_path__ + \"static/media/land.f7adb81e.jpg\";","export default __webpack_public_path__ + \"static/media/landmobile.76b5cc8e.jpg\";","import { Box, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { CSSProperties } from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport Landing1 from \"../../images/land.jpg\";\r\nimport Landing1Mobile from \"../../images/landmobile.jpg\";\r\nimport TopMenu from \"./TopMenu\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ISiteHeadProps } from \"estreeh-common-library/src/interfaces/ISiteHeadProps\";\r\nimport Logo from \"../common/Logo\";\r\nimport TextLoop from \"react-text-loop\";\r\n\r\nconst SiteHeadLarge = (props: ISiteHeadProps) => {\r\n  const { t } = useTranslation();\r\n\r\n  const sloganStyle: CSSProperties = {\r\n    color: \"black\",\r\n    fontWeight: \"bold\",\r\n    textShadow: \"1px 1px 6px #ffffff,1px 1px 9px #ffffff\",\r\n  };\r\n\r\n  const isMd = props.isMd !== undefined ? props.isMd : true;\r\n  const burgerWidth = props.burgerWidth ? props.burgerWidth : 1;\r\n\r\n  const sloganBig = (\r\n    <Typography variant={isMd ? \"h3\" : \"h6\"} style={sloganStyle}>\r\n      {t(\"find-the-intro\")}\r\n      <TextLoop>\r\n        <span>{t(\"intro-loop.one\")}</span>\r\n        <span>{t(\"intro-loop.two\")}</span>\r\n        <span>{t(\"intro-loop.three\")}</span>\r\n        <span>{t(\"intro-loop.four\")}</span>\r\n      </TextLoop>\r\n      {!props.isMd && (\r\n        <span>\r\n          <br />\r\n          {t(\"start-choosing-option-short\")}:\r\n        </span>\r\n      )}\r\n    </Typography>\r\n  );\r\n\r\n  const sloganSmall = (\r\n    <Grid item xs={7}>\r\n      <Box my={1}>\r\n        <Typography variant=\"h4\" style={sloganStyle}>\r\n          {t(\"start-choosing-option\")}:\r\n        </Typography>\r\n      </Box>\r\n    </Grid>\r\n  );\r\n\r\n  const extraBox = false;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!isMd && (\r\n        <TopMenu isBurger={true} burgerWidth={burgerWidth} burgerLeft={24}/>\r\n      )}\r\n\r\n      <Box pb={isMd ? 0 : 4}>\r\n        <Box\r\n          bgcolor={Branding.lightest}\r\n          style={{\r\n            backgroundImage: `url(${isMd ? Landing1 : Landing1Mobile})`,\r\n            backgroundSize: \"cover\",\r\n            backgroundPositionX: \"100%\",\r\n            backgroundPositionY: \"20%\",\r\n          }}\r\n        >\r\n          <Box px={3} pb={isMd ? 12 : 4}>\r\n            <Box>\r\n              <Box pt={2} pb={isMd ? 3 : 18}>\r\n                <Grid container>\r\n                  <Grid item xs={isMd ? 2 : 12}>\r\n                    <Logo\r\n                      marginLeft={16 + burgerWidth}\r\n                      maxHeight={isMd ? 80 : 40}\r\n                      marginRight={16}\r\n                    />\r\n                  </Grid>\r\n                  {isMd && (\r\n                    <Grid item xs={6}>\r\n                      <Box bgcolor=\"#ffffff77\" boxShadow=\"0 0 20px #fff\">\r\n                        <TopMenu isBurger={false}/>\r\n                      </Box>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </Box>\r\n              <Grid container spacing={0}>\r\n                {!extraBox && (\r\n                  <Grid item xs={12}>\r\n                    <Box my={isMd ? 3 : 1}>{sloganBig}</Box>\r\n                  </Grid>\r\n                )}\r\n                {props.isMd && sloganSmall}\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n        {extraBox && (\r\n          <Box px={3} py={2} bgcolor=\"#FDF6ED\">\r\n            {sloganBig}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SiteHeadLarge;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport React, { ReactElement } from \"react\";\r\nimport Branding from \"../../../config/Branding\";\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  image?: string;\r\n}\r\n\r\nexport default function FpStep(props: Props): ReactElement {\r\n  const height = 180;\r\n  const title = props.title ? props.title : \"Step #\";\r\n  return (\r\n    <Grid item xs={12} sm={4}>\r\n      <Box\r\n        borderRadius=\"100%\"\r\n        bgcolor=\"#ffffff\"\r\n        // height={height}\r\n        boxShadow={Branding.shadow.niceShadow}\r\n        width={height}\r\n        mx=\"auto\"\r\n      >\r\n        <Grid\r\n          container\r\n          alignItems=\"center\"\r\n          alignContent=\"center\"\r\n          style={{ height: height }}\r\n        >\r\n          <Grid item>\r\n            <Box textAlign=\"center\" width={height}>\r\n              {props.image && (\r\n                <Box m={2}>\r\n                  <img\r\n                    alt={props.title}\r\n                    src={props.image}\r\n                    style={{\r\n                      display: \"block\",\r\n                      maxHeight: 60,\r\n                      marginLeft: \"auto\",\r\n                      marginRight: \"auto\",\r\n                    }}\r\n                  />\r\n                </Box>\r\n              )}\r\n              <Box m={1}>\r\n                <Box fontWeight=\"bold\" mb={0.5}>\r\n                  {title}\r\n                </Box>\r\n                <Box pb={2}>{props.children}</Box>\r\n              </Box>\r\n            </Box>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </Grid>\r\n  );\r\n}\r\n","import { Box, Icon } from \"@material-ui/core\";\r\nimport { Link } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport UseStyles from \"../../config/UseStyles\";\r\nimport { RibbonContainer, RightCornerRibbon } from \"react-ribbons\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\nconst WizardCard = (props: {\r\n  to: string;\r\n  children: any;\r\n  icon?: any;\r\n  title?: string;\r\n  isMd: boolean;\r\n  disabled: boolean;\r\n}) => {\r\n  const classes = UseStyles();\r\n\r\n  return (\r\n    <RibbonContainer>\r\n      {props.disabled === true && (\r\n        <RightCornerRibbon\r\n          backgroundColor={Branding.primary}\r\n          // backgroundColor=\"#0088ff\"\r\n          color=\"#f0f0f0\"\r\n        >\r\n          <span style={{ fontSize: \"80%\" }}>Coming Soon!</span>\r\n        </RightCornerRibbon>\r\n      )}\r\n      <Link\r\n        to={props.disabled ? \"\" : props.to}\r\n        className={\r\n          props.disabled\r\n            ? classes.wizardCardLinkDisabled\r\n            : classes.wizardCardLink\r\n        }\r\n        onClick={\r\n          !props.disabled\r\n            ? undefined\r\n            : () => {\r\n                // TODO: Make this message nicer?\r\n                alert(`\"${props.title}\" services are Coming soon!`);\r\n              }\r\n        }\r\n      >\r\n        <Box py={4} px={2} color={props.disabled ? \"#bbb\" : undefined}>\r\n          <Box>\r\n            {/* <span className=\"MuiIcon-root material-icons-two-tone MuiIcon-colorPrimary\" style={{ fontSize: 50 }}>{props.icon}</span> */}\r\n            <Icon\r\n              // className=\"material-icons-two-tone\"\r\n              // color=\"primary\"\r\n              style={{ fontSize: 50 }}\r\n            >\r\n              {props.icon}\r\n            </Icon>\r\n          </Box>\r\n          <Box fontSize={props.isMd ? \"h6.fontSize\" : 15}>{props.children}</Box>\r\n        </Box>\r\n      </Link>\r\n    </RibbonContainer>\r\n  );\r\n};\r\n\r\nexport default WizardCard;\r\n","import { Box, Grid } from \"@material-ui/core\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport WizardCard from \"./WizardCard\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\ninterface Params {\r\n  isMd: boolean;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nexport const WizardLand = (props: Props) => {\r\n  const { t } = useTranslation();\r\n\r\n  const xs = 6;\r\n  const md = 4;\r\n\r\n  // const rentalLink = \"/agencies/leased\";\r\n  const rentalLink = \"/start/lease\";\r\n  const isMd = props.isMd !== undefined ? props.isMd : false;\r\n\r\n  return (\r\n    <Box textAlign=\"center\">\r\n      <Grid container justify=\"center\" spacing={5}>\r\n        <Grid item xs={xs} md={md}>\r\n          <WizardCard\r\n            isMd={isMd}\r\n            to=\"/agencies/contract\"\r\n            icon=\"perm_contact_calendar_icon\"\r\n            disabled={false}\r\n            title={t(\"2-years-contract\")}\r\n          >\r\n            {t(\"2-years-contract\")}\r\n          </WizardCard>\r\n        </Grid>\r\n        <Grid item xs={xs} md={md}>\r\n          <WizardCard\r\n            isMd={isMd}\r\n            to={rentalLink + \"-hourly\"}\r\n            icon=\"schedule\"\r\n            disabled={true}\r\n            title={t(\"lease-by-hour\")}\r\n          >\r\n            {t(\"lease-by-hour\")}\r\n          </WizardCard>\r\n        </Grid>\r\n        <Grid item xs={xs} md={md}>\r\n          <WizardCard\r\n            isMd={isMd}\r\n            to={rentalLink + \"-monthly\"}\r\n            icon=\"date_range\"\r\n            disabled={true}\r\n            title={t(\"lease-by-month\")}\r\n          >\r\n            {t(\"lease-by-month\")}\r\n          </WizardCard>\r\n        </Grid>\r\n        {/* <Grid item xs={xs} md={md}>\r\n            <WizardCard to=\"/agencies\" icon=\"business\">Agencies in Bahrain</WizardCard>\r\n          </Grid> */}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { CancelOutlined, LocationOnOutlined } from '@material-ui/icons';\r\nimport { Box } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: '2px 4px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      maxWidth: 400,\r\n    },\r\n    input: {\r\n      marginLeft: theme.spacing(1),\r\n      flex: 1,\r\n    },\r\n    iconButton: {\r\n      padding: 10,\r\n    },\r\n    divider: {\r\n      height: 28,\r\n      margin: 4,\r\n    },\r\n  }),\r\n);\r\n\r\nexport default function WizardMapInputField() {\r\n  const {t} = useTranslation();\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Box border=\"1px solid #00000044\" borderRadius={4} component=\"form\" className={classes.root}>\r\n      <IconButton className={classes.iconButton} aria-label=\"menu\">\r\n        <LocationOnOutlined />\r\n      </IconButton>\r\n      <InputBase\r\n        className={classes.input}\r\n        placeholder={t('my-address')}\r\n        inputProps={{ 'aria-label': t('my-address') }}\r\n      />\r\n      <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n        <CancelOutlined />\r\n      </IconButton>\r\n      {/* <Divider className={classes.divider} orientation=\"vertical\" />\r\n      <IconButton color=\"primary\" className={classes.iconButton} aria-label=\"directions\">\r\n        <DirectionsIcon />\r\n      </IconButton> */}\r\n    </Box>\r\n  );\r\n}","import { Box, Button } from \"@material-ui/core\";\r\nimport { Link, RouteComponentProps } from \"@reach/router\";\r\nimport { ReactElement} from \"react\";\r\n\r\nimport NiceBox from \"../common/NiceBox\";\r\nimport WizardDatePicker from \"./controls/WizardDatePicker\";\r\nimport WizardMapInputField from \"./controls/WizardMapInputField\";\r\nimport WizardMonthMultiplePicker from \"./controls/WizardMonthMultiplePicker\";\r\n\r\nexport type tWorkerBy = \"hour\" | \"month\" | \"day\" | \"\";\r\n\r\ninterface Params {\r\n  period: tWorkerBy;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\nexport default function WizardStartRental(props: Props): ReactElement {\r\n  // const selectedWorkerBy = (by: tWorkerBy) => {\r\n  //   setWorkerBy(by);\r\n  // };\r\n\r\n  // const [workerBy, setWorkerBy] = useState<tWorkerBy>(\"hour\");\r\n  const workerBy:tWorkerBy = props.period ? props.period : \"hour\";\r\n\r\n  const goLink = workerBy === \"hour\" ? \"/agencies/leased-hourly\" : \"/agencies/leased-monthly\";\r\n\r\n  return (\r\n    <Box maxWidth={400} mx=\"auto\">\r\n      <NiceBox>\r\n        <Box pb={3}>\r\n          <WizardMapInputField />\r\n        </Box>\r\n        {/* <WizardRentalByField\r\n          onChange={selectedWorkerBy}\r\n          defaultValue={workerBy}\r\n        /> */}\r\n        {(workerBy === \"hour\" || workerBy === \"day\") && (\r\n          <Box py={1}>\r\n            <WizardDatePicker />\r\n          </Box>\r\n        )}\r\n        {workerBy === \"month\" && (\r\n          <Box py={1}>\r\n            <WizardMonthMultiplePicker />\r\n          </Box>\r\n        )}\r\n        <Box pt={2}>\r\n          <Link to={goLink} style={{ textDecoration: \"none\" }}>\r\n            <Button variant=\"contained\" color=\"primary\" fullWidth={true}>\r\n              GO\r\n            </Button>\r\n          </Link>\r\n        </Box>\r\n      </NiceBox>\r\n    </Box>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/click.3bb3f0ca.svg\";","export default __webpack_public_path__ + \"static/media/fill.0d4d6f45.svg\";","import { Box, Grid, Typography } from \"@material-ui/core\";\r\nimport { Variant } from \"@material-ui/core/styles/createTypography\";\r\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\r\nimport { Router } from \"@reach/router\";\r\nimport { RouteComponentProps } from \"@reach/router\";\r\nimport React from \"react\";\r\nimport Branding from \"../../config/Branding\";\r\nimport FpSection from \"../common/frontpage/FpSection\";\r\nimport FpStep from \"../common/frontpage/FpStep\";\r\nimport { WizardLand } from \"../wizard/WizardLand\";\r\nimport WizardStartRental from \"../wizard/WizardStartRental\";\r\nimport click from \"../../images/click.svg\";\r\nimport check from \"../../images/check.svg\";\r\nimport fill from \"../../images/fill.svg\";\r\n\r\ninterface Params {\r\n  isMd: boolean;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<Params> {}\r\n\r\n/*TODO:\r\n\r\n- Page middle section:\r\n--- LMRA Badge\r\n--- Safety Info\r\n\r\n*/\r\n\r\nconst LandingPage = (props: Props) => {\r\n  const hVariant: Variant | \"inherit\" = \"h4\";\r\n  const hStyle: CSSProperties = {\r\n    marginBottom: 32,\r\n    textAlign:\"center\"\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box mx=\"auto\" maxWidth={700} p={2} pb={7}>\r\n        <Box marginTop={-11}>\r\n          <Router primary={false}>\r\n            <WizardLand path=\"/\" isMd={props.isMd} />\r\n            <WizardStartRental path=\"lease-hourly\" period=\"hour\" />\r\n            <WizardStartRental path=\"lease-monthly\" period=\"month\" />\r\n          </Router>\r\n        </Box>\r\n      </Box>\r\n      <FpSection>\r\n        <Typography variant={hVariant} style={hStyle}>\r\n          Who we are\r\n        </Typography>\r\n        <Box textAlign=\"justify\" maxWidth={660} mx=\"auto\" style={{ \r\n          textAlignLast:\"center\"\r\n         }}>\r\n          <Typography>\r\n          We are a passionate team driven by the desire to improve the quality of life of Bahraini Citizens and to ease the burdens of our loved ones who are searching and applying for a Domestic Worker. \r\n         <br/><br/>\r\n         Our mission is to provide a high-quality web-based and mobile software product that connects Bahraini Citizens to Domestic Manpower Agencies. \r\n         <br/><br/>\r\n         Our vision is to help Bahrain to be the first country in GCC with an Infrastructure of Care, by providing systems and services that help families meet their caregiving needs.\r\n          </Typography>\r\n        </Box>\r\n      </FpSection>\r\n      <FpSection bgColor={Branding.lighter}>\r\n        <Typography variant={hVariant} style={hStyle}>\r\n          How to start\r\n        </Typography>\r\n        <Box maxWidth={780} mx=\"auto\">\r\n          <Grid container spacing={3} alignContent=\"center\" alignItems=\"center\">\r\n            <FpStep title=\"Step 1:\" image={click}>\r\n              Choose a worker\r\n            </FpStep>\r\n            <FpStep title=\"Step 2:\" image={fill}>Fill your details</FpStep>\r\n            <FpStep title=\"Step 3:\" image={check}>Track status!</FpStep>\r\n          </Grid>\r\n        </Box>\r\n      </FpSection>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n","import { Box } from \"@material-ui/core\";\r\nimport Branding from \"../../config/Branding\";\r\nimport SiteHeadLarge from \"./SiteHeadLarge\";\r\nimport LandingPage from \"../pages/LandingPage\";\r\nimport { withBreakpoints } from \"react-breakpoints\";\r\nimport CookieConsent from \"react-cookie-consent\";\r\nimport Footer2 from \"../common/Footer2\";\r\n\r\nconst FrontPageLayout = (props: {\r\n  classes: any;\r\n  breakpoints: any;\r\n  currentBreakpoint: any;\r\n}) => {\r\n  const { breakpoints, currentBreakpoint } = props;\r\n  const isMd = breakpoints[currentBreakpoint] >= breakpoints.md;\r\n  const burgerWidth = 26;\r\n\r\n  return (\r\n    <Box bgcolor={Branding.lightBg}>\r\n      <CookieConsent>\r\n        This website uses cookies to enhance the user experience.\r\n      </CookieConsent>\r\n      <SiteHeadLarge\r\n        isMd={isMd}\r\n        burgerWidth={burgerWidth}\r\n      />\r\n      <Box bgcolor={Branding.lightBg} id=\"page-content-container\" style={{ height: \"100%\" }}>\r\n        <LandingPage isMd={isMd} />\r\n        <Footer2/>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default withBreakpoints(FrontPageLayout);\r\n","import React, { ReactElement } from \"react\";\r\n\r\nimport DefaultLayout from \"../layouts/DefaultLayout\";\r\nimport { Router } from \"@reach/router\";\r\nimport FrontPageLayout from \"../layouts/FrontPageLayout\";\r\n\r\ninterface Props {\r\n  classes: any;\r\n}\r\n\r\nexport default function AppDataProvider(props: Props): ReactElement {\r\n\r\n  return (\r\n    <Router primary={false}>\r\n      <DefaultLayout\r\n        default\r\n        classes={props.classes}\r\n      />\r\n      <FrontPageLayout\r\n        path=\"/\"\r\n        classes={props.classes}\r\n      />\r\n      <FrontPageLayout\r\n        path=\"start/*\"\r\n        classes={props.classes}\r\n      />\r\n    </Router>\r\n  );\r\n}\r\n","import React, { ReactElement, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { TranslationPack } from \"estreeh-common-library/src/types/TranslationPack\";\r\n\r\nimport { useStoreActions, useStoreState } from \"../../helpers/StoreTypedHooks\";\r\nimport AppDataProvider from \"./AppDataProvider\";\r\n\r\ninterface Props {\r\n  classes: any;\r\n}\r\n\r\nexport default function ToolboxState(props: Props): ReactElement {\r\n  const loadFromApi = useStoreActions((action) => action.loadFromApi);\r\n  const setDataLoading = useStoreActions((a) => a.dataLoading.setItem);\r\n  const dataLoading = useStoreState((state) => state.dataLoading.item);\r\n  const setTranslationPack = useStoreActions(\r\n    (action) => action.translationPack.setItem\r\n  );\r\n  const pack:TranslationPack | undefined = useTranslation();\r\n  const [ll, setLl] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (dataLoading === false && ll === false && pack !== undefined) {\r\n      setLl(true);\r\n      setDataLoading(true);\r\n      loadFromApi(pack);\r\n    }\r\n  }, [loadFromApi, dataLoading, pack, setTranslationPack, setDataLoading, ll]);\r\n\r\n  return <AppDataProvider classes={props.classes} />;\r\n}\r\n","import React from \"react\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport ReactBreakpoints from \"react-breakpoints\";\r\nimport \"fontsource-roboto\";\r\nimport UseStyles from \"../../config/UseStyles\";\r\nimport MyTheme from \"../../config/MyTheme\";\r\nimport { myBreakpoints } from \"../../config/Breakpoints\";\r\nimport ToolboxState from \"../data/ToolboxState\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport Branding from \"../../config/Branding\";\r\n\r\n\r\n\r\nexport default function MasterTheme(props:{\r\n  useRtl:boolean;\r\n}) {\r\n  const classes = UseStyles();\r\n  const {i18n} = useTranslation();\r\n  const lang = i18n.language;\r\n  const dir = props.useRtl && lang === \"ar\" ? \"rtl\" : \"ltr\";\r\n\r\n\r\n  document.documentElement.dir = dir;\r\n  document.documentElement.lang = lang;\r\n  document.body.dir = dir;\r\n  document.body.lang = lang;\r\n\r\n  // console.log(MyTheme);\r\n\r\n  return (\r\n    <ReactBreakpoints breakpoints={myBreakpoints}>\r\n      <ThemeProvider theme={MyTheme}>\r\n        <div className={classes.root} dir={dir} style={{ height:\"100%\",fontFamily:Branding.fontFamily.body }}>\r\n          <ToolboxState classes={classes}/>\r\n        </div>\r\n      </ThemeProvider>\r\n    </ReactBreakpoints>\r\n  );\r\n}\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { MakeTabsTwoYearWorkers } from \"./MakeTabsTwoYearWorkers\";\r\n\r\nexport const AssignTwoYearWorkersToAgency = (\r\n  agency: IAgency,\r\n  workers?: IWorkerTwoYear[],\r\n  _tabsIndex?: number\r\n): number => {\r\n  let tabsIndex = _tabsIndex !== undefined ? _tabsIndex : 0;\r\n  agency.workersTwoYear = [];\r\n  if (agency.hasTwoYearWorkerServices) {\r\n    const workersTwoYear = workers\r\n      ?.slice(0)\r\n      .filter((x) => x.agencyId === agency._id);\r\n    agency.workersTwoYear = workersTwoYear;\r\n    if (agency.workersTwoYear !== undefined) {\r\n      tabsIndex = MakeTabsTwoYearWorkers(agency, tabsIndex);\r\n    }\r\n  }\r\n\r\n  return tabsIndex;\r\n};\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport _ from \"lodash\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\n\r\n// function TransformRatingText(rating: number): string {\r\n//   if (rating >= 4.25) return \" Amazing!!\";\r\n//   if (rating >= 3) return \" Good!\";\r\n//   return \"Not yet rated\";\r\n// }\r\n\r\nexport function MakeTabsTwoYearWorkers(agency: IAgency, index: number): number {\r\n  agency.tabs = [];\r\n  agency.tabsTwoYearWorkers = [];\r\n  if (agency.workersTwoYear) {\r\n    let workers = agency.workersTwoYear;\r\n    let groupedWorkers = _.groupBy(workers, \"nationality\");\r\n\r\n    _.forEach(groupedWorkers, (value, key) => {\r\n      let feesText = \"\";\r\n      let titleWithFees = key;\r\n      if (value[0].processFeesBhdFormatted) {\r\n        feesText = value[0].processFeesBhdFormatted;\r\n        titleWithFees += \" (\" + feesText + \")\";\r\n      }\r\n\r\n      let tab: IAgencyTab = {\r\n        index: index,\r\n        title: key,\r\n        titleWithFees: titleWithFees,\r\n        feesText: feesText,\r\n        isTwoYearContract: true,\r\n        isRented: false,\r\n        isRentedMonthly: false,\r\n        isRentedHourly: false,\r\n        isServices: false,\r\n        workersTwoYear: value,\r\n      };\r\n      index++;\r\n      agency.tabs.push(tab);\r\n      agency.tabsTwoYearWorkers.push(tab);\r\n    });\r\n  }\r\n  return index;\r\n}\r\n","import axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { IUser } from \"estreeh-common-library/src/interfaces/IUser\";\r\n\r\nexport const apiGetUser = async (): Promise<IUser | undefined> => {\r\n  console.log(\"Getting user\");\r\n  const r = await axios.get<IResponse<IUser | undefined>>(\r\n    process.env.REACT_APP_API_ROOT + \"/auth/me/customer-fe\",\r\n    { withCredentials: true }\r\n  );\r\n  const user = r.data.data;\r\n  return user;\r\n  // if (user !== undefined)\r\n  //   if (user.role === \"Customer\") {\r\n  //     return user;\r\n  //   } else {\r\n  //     await apiGetLogout();\r\n  //   }\r\n  // return undefined;\r\n};\r\n","export default function TimeToDate(timeString: string): Date {\r\n  let now = new Date();\r\n  let today: string =\r\n    now.getFullYear() + \"/\" + (now.getMonth() + 1) + \"/\" + now.getDate();\r\n  let dateString = today + \" \" + timeString;\r\n  return new Date(dateString);\r\n}\r\n\r\nexport function AddToTime(time: string, hours: number): string {\r\n  let date = TimeToDate(time);\r\n  AddHoursToDate(date, hours);\r\n  let h = (date.getHours() < 10 ? \"0\" : \"\") + date.getHours();\r\n  let m = (date.getMinutes() < 10 ? \"0\" : \"\") + date.getMinutes();\r\n  let updatedTime: string = h + \":\" + m;\r\n  return updatedTime;\r\n}\r\n\r\nexport function AddHoursToDate(date: Date, hours: number) {\r\n  date.setTime(date.getTime() + hours * 60 * 60 * 1000);\r\n  return date;\r\n}\r\n","import * as Factory from \"factory.ts\";\r\nimport Faker from \"faker\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\n\r\nconst HourlySlotFactory = Factory.Sync.makeFactory<IHourlySlot>({\r\n  id: Factory.each((i) => i + 1),\r\n  availabilityStatus: Factory.each(() =>\r\n    Faker.random.arrayElement([\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Booked\",\r\n      \"Booked\",\r\n      // \"Off\",\r\n    ])\r\n  ),\r\n  availabilityDisplayText: \"\",\r\n  color: \"\",\r\n  date: new Date(),\r\n  dayDisplay: \"\",\r\n  dateDisplay: \"\",\r\n  dateFull: \"\",\r\n  clickable: false,\r\n  selected: false,\r\n});\r\n\r\nexport default HourlySlotFactory;\r\n","import * as Factory from \"factory.ts\";\r\nimport Faker from \"faker\";\r\nimport IMonthlySlot from \"estreeh-common-library/src/interfaces/IMonthlySlot\";\r\n\r\nconst MonthlySlotFactory = Factory.Sync.makeFactory<IMonthlySlot>({\r\n  id: Factory.each((i) => i + 1),\r\n  availabilityStatus: Factory.each(() =>\r\n    Faker.random.arrayElement([\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Free\",\r\n      \"Booked\",\r\n      \"Booked\",\r\n      // \"Off\",\r\n    ])\r\n  ),\r\n  availabilityDisplayText: \"\",\r\n  color: \"\",\r\n  date: new Date(),\r\n  clickable: false,\r\n  selected: false,\r\n});\r\n\r\nexport default MonthlySlotFactory;\r\n","import Branding from \"../config/Branding\";\r\nimport HourlySlotFactory from \"../factories/HourlySlotFactory\";\r\nimport { DaysArray, MonthsArray } from \"../helpers/DateArrays\";\r\nimport IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport dateFormat from \"dateformat\";\r\nimport IMonthlySlot from \"estreeh-common-library/src/interfaces/IMonthlySlot\";\r\nimport MonthlySlotFactory from \"../factories/MonthlySlotFactory\";\r\nimport Base_ISlot from \"estreeh-common-library/src/interfaces/Base_ISlot\";\r\nimport { instanceOfIAgency } from \"../interface_tests/interfaceTests\";\r\n\r\nexport function MakeHourlySlots(worker: IWorkerRental): IHourlySlot[] {\r\n  let slots: IHourlySlot[] = [];\r\n  const agency = instanceOfIAgency(worker.agency) ? worker.agency : undefined;\r\n  let days = DaysArray(agency?.hourlySlotsGenerateDaysInAdvance);\r\n\r\n  days.forEach((day) => {\r\n    worker.hourlySlotDefinitions.forEach((definition) => {\r\n      let slot: IHourlySlot = HourlySlotFactory.build({\r\n        date: day,\r\n        worker: worker,\r\n        hourlySlotDefinition: definition,\r\n        dateDisplay: dateFormat(day, \"d-mmm\"),\r\n        dateFull: dateFormat(day, \"yyyy-mm-dd\"),\r\n        dayDisplay: dateFormat(day, \"ddd\"),\r\n      });\r\n      SetSlot(slot);\r\n      slots.push(slot);\r\n    });\r\n  });\r\n\r\n  return slots;\r\n}\r\n\r\n\r\n\r\nexport function MakeMonthlySlots(worker: IWorkerRental): IMonthlySlot[] {\r\n  let months = MonthsArray();\r\n  let slots: IMonthlySlot[] = [];\r\n\r\n  months.forEach((month) => {\r\n    let slot: IMonthlySlot = MonthlySlotFactory.build({\r\n      date: month,\r\n      worker: worker,\r\n    });\r\n    SetSlot(slot);\r\n    slots.push(slot);\r\n  });\r\n\r\n  return slots;\r\n}\r\n\r\nfunction SetSlot(slot: Base_ISlot) {\r\n  const slotSettings = {\r\n    Free: {\r\n      key: \"Free\",\r\n      displayText: \"Free\",\r\n      color: Branding.slotColors.free,\r\n      colorDot: Branding.slotColorsDot.free,\r\n      clickable: true,\r\n      cursor: \"pointer\",\r\n    },\r\n    Booked: {\r\n      key: \"Booked\",\r\n      displayText: \"Booked\",\r\n      color: Branding.slotColors.booked,\r\n      colorDot: Branding.slotColorsDot.booked,\r\n      clickable: false,\r\n      cursor: \"default\",\r\n    },\r\n    Off: {\r\n      key: \"Off\",\r\n      displayText: \"Off\",\r\n      color: Branding.slotColors.off,\r\n      colorDot: Branding.slotColorsDot.off,\r\n      clickable: false,\r\n      cursor: \"default\",\r\n    },\r\n  };\r\n  \r\n  let setting = slotSettings.Off;\r\n\r\n  if (slot.availabilityStatus === \"Free\") {\r\n    setting = slotSettings.Free;\r\n  }\r\n  if (slot.availabilityStatus === \"Booked\") {\r\n    setting = slotSettings.Booked;\r\n  }\r\n\r\n  slot.color = setting.color;\r\n  slot.colorDot = setting.colorDot;\r\n  slot.availabilityDisplayText = setting.displayText;\r\n  slot.clickable = setting.clickable;\r\n}\r\n","export function DaysArray(numberOfDays?:number, startDate?:Date):Date[]{\r\n  let start:Date = startDate ? startDate : new Date();\r\n  let days:number = numberOfDays ? numberOfDays : 7;\r\n  let dateArray:Date[] = [];\r\n\r\n  for (let t = 0; t < days; t++) {\r\n    let i = new Date(start);\r\n    i.setDate(i.getDate() + t);\r\n    dateArray.push(i);\r\n  }\r\n\r\n  return dateArray;\r\n}\r\n\r\nexport function MonthsArray(numberOfMonths?:number, startDate?: Date):Date[]{\r\n  let start:Date = startDate ? startDate : new Date();\r\n  let months:number = numberOfMonths ? numberOfMonths : 12;\r\n  let dateArray:Date[] = [];\r\n\r\n  for (let t = 0; t < months; t++) {\r\n    let i = new Date(start);\r\n    i.setMonth(i.getMonth() + t);\r\n    dateArray.push(i);\r\n  }\r\n\r\n  return dateArray;\r\n}","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport Faker from \"faker\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport IAgencyServiceSelectableWorkers from \"estreeh-common-library/src/interfaces/IAgencyServiceSelectableWorkers\";\r\nimport { maxSalary, minSalary } from \"../config/FilterOptions\";\r\nimport TimeToDate, { AddToTime } from \"../helpers/TimeToDate\";\r\nimport { MakeHourlySlots, MakeMonthlySlots } from \"./SlotsTransformer\";\r\nimport {\r\n  demoRentalMonthlyRemarks,\r\n  demoRentalHourlyRemarks,\r\n  demoRentalMonthlyStayOverRemarks,\r\n} from \"../config/DemoItems\";\r\nimport { MakeHourlySlotsDictionary } from \"./SlotsGrouper\";\r\nimport { getDemoId } from \"./getDemoId\";\r\nimport { getDemoPic } from \"./getDemoPic\";\r\nimport { TranslationPack } from \"estreeh-common-library/src/types/TranslationPack\";\r\n\r\n\r\nexport function TransformRentalWorker(\r\n  worker: IWorkerRental,\r\n  service: IAgencyServiceSelectableWorkers,\r\n  agency: IAgency,\r\n  tPack: TranslationPack,\r\n) {\r\n  let feesBhd: string | undefined;\r\n  worker.service = service;\r\n  worker.agency = agency;\r\n  // worker.feesText = service.feesText ? service.feesText : \"\";\r\n  if (service.isRentalHourly) {\r\n    worker.remarks = Faker.random.arrayElement(demoRentalHourlyRemarks);\r\n    feesBhd = Faker.random.number({ min: 2, max: 3 }).toString();\r\n    worker.hourlySlots = MakeHourlySlots(worker);\r\n    worker.hourlySlotsDictionary = MakeHourlySlotsDictionary(\r\n      worker.hourlySlots\r\n    );\r\n  }\r\n\r\n  if (service.isRentalMonthly) {\r\n    worker.remarks = Faker.random.arrayElement(demoRentalMonthlyRemarks);\r\n    worker.monthlySlots = MakeMonthlySlots(worker);\r\n  }\r\n\r\n  if (service.isRentalMonthlyStayOver) {\r\n    worker.remarks = Faker.random.arrayElement(\r\n      demoRentalMonthlyStayOverRemarks\r\n    );\r\n    worker.monthlySlots = MakeMonthlySlots(worker);\r\n  }\r\n\r\n  worker.hourlySlotDefinitions.forEach((definition) => {\r\n    definition.from = TimeToDate(definition.fromString);\r\n    definition.toString = AddToTime(definition.fromString, definition.hours);\r\n    definition.to = TimeToDate(definition.toString);\r\n  });\r\n\r\n  if (service.isRentalMonthly || service.isRentalMonthlyStayOver) {\r\n    const step = 20;\r\n    feesBhd = (\r\n      Faker.random.number({ min: minSalary / step, max: maxSalary / step }) *\r\n      step\r\n    ).toString();\r\n  }\r\n\r\n  if (service.feesBhdUnit) {\r\n    worker.feesText =\r\n      tPack.t(\"currency.bhd\") + \" \" + feesBhd + \" / \" + service.feesBhdUnit;\r\n  }\r\n\r\n  let demoId = getDemoId(worker.nationality);\r\n  worker.smallPicture = getDemoPic(demoId, worker.nationality, \"Small\");\r\n}\r\n","import IHourlySlot from \"estreeh-common-library/src/interfaces/IHourlySlot\";\r\nimport _ from \"lodash\";\r\n\r\nexport function MakeHourlySlotsDictionary(hourlySlots:IHourlySlot[]):_.Dictionary<IHourlySlot[]>{\r\n  return _.groupBy(hourlySlots,\"dateFull\");\r\n}","\r\nexport function getDemoPic(\r\n  id: number,\r\n  nationality: string,\r\n  size: \"Small\" | \"Full\"\r\n): string {\r\n  return \"/img/\" + nationality + \"/\" + id + \"_\" + size + \".png\";\r\n}\r\n","import Faker from \"faker\";\r\nimport { demoItemsCount } from \"../config/DemoItems\";\r\n\r\n\r\nexport function getDemoId(nationality: string): number {\r\n  let demoItem = demoItemsCount.find((x) => x.name === nationality);\r\n  if (demoItem) {\r\n    return Faker.random.number({ min: 1, max: demoItem.count });\r\n  }\r\n  return 0;\r\n}\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\n\r\nexport const CleanAgency = (agency:IAgency) => {\r\n  agency.tabs = [];\r\n  agency.tabsRental = [];\r\n  agency.tabsTwoYearWorkers = [];\r\n  agency.hasTwoYearWorkerServices = false;\r\n  agency.hasRentedServices = false;\r\n}","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport IReview from \"estreeh-common-library/src/interfaces/IReview\";\r\nimport _ from \"lodash\";\r\nimport Faker from \"faker\";\r\nimport {\r\n  // demoAgencies,\r\n  demoRentalMonthlyRemarks,\r\n  demoRentalHourlyRemarks,\r\n  // demoNumberOfContractWorkersPerAgency,\r\n} from \"../config/DemoItems\";\r\n// import { TransformTwoYearWorker } from \"./TransformTwoYearWorker\";\r\n// import { MakeTabsTwoYearWorkers } from \"./MakeTabsTwoYearWorkers\";\r\nimport { MakeTabsServices } from \"./MakeTabsServices\";\r\nimport { MakeTabsRentalWorkers } from \"./MakeTabsRentalWorkers\";\r\nimport { TransformRentalWorker } from \"./TransformRentalWorker\";\r\nimport { TranslationPack } from \"estreeh-common-library/src/types/TranslationPack\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport { CleanAgency } from \"./CleanAgency\";\r\nimport { AssignTwoYearWorkersToAgency } from \"./AssignTwoYearWorkersToAgency\";\r\nimport { S3Folder } from \"estreeh-common-library/src/types/S3Folder\";\r\n\r\nexport const TransformAgency = (\r\n  agency: IAgency,\r\n  index: number,\r\n  translate: TranslationPack,\r\n  allWorkers: {\r\n    twoYear?: IWorkerTwoYear[];\r\n    rental?: IWorkerRental[];\r\n  }\r\n) => {\r\n  CleanAgency(agency);\r\n  let tabsIndex = 0;\r\n\r\n  agency.rating = calcRatings(agency.reviews);\r\n\r\n  agency.showReviewsRatings = agency.rating >= 3;\r\n\r\n  if (agency.servicesSelectableWorkers) {\r\n    agency.servicesSelectableWorkers.forEach((service) => {\r\n      if (service.isTwoYearContract) {\r\n        agency.hasTwoYearWorkerServices = true;\r\n      }\r\n      if (\r\n        service.isRentalHourly ||\r\n        service.isRentalMonthly ||\r\n        service.isRentalMonthlyStayOver\r\n      ) {\r\n        agency.hasRentedServices = true;\r\n        service.workersRental = _.orderBy(\r\n          service.workersRental,\r\n          [\"rating\"],\r\n          [\"desc\"]\r\n        );\r\n      }\r\n      if (service.isRentalHourly) {\r\n        service.remarks = Faker.random.arrayElement(demoRentalHourlyRemarks);\r\n      }\r\n      if (service.isRentalMonthly) {\r\n        service.remarks = Faker.random.arrayElement(demoRentalMonthlyRemarks);\r\n      }\r\n    });\r\n  }\r\n\r\n  // agency.nationalities?.forEach((nationality) =>\r\n  //   TransformNationalities(agency, nationality)\r\n  // );\r\n\r\n  tabsIndex = AssignTwoYearWorkersToAgency(\r\n    agency,\r\n    allWorkers.twoYear,\r\n    tabsIndex\r\n  );\r\n\r\n  if (agency.hasRentedServices) {\r\n    agency.servicesSelectableWorkers?.forEach((service) => {\r\n      service.workersRental.forEach((worker) => {\r\n        TransformRentalWorker(worker, service, agency, translate);\r\n      });\r\n    });\r\n    tabsIndex = MakeTabsRentalWorkers(agency, tabsIndex);\r\n  }\r\n\r\n  if (agency.services) {\r\n    MakeTabsServices(agency, tabsIndex);\r\n  }\r\n\r\n  const folder: S3Folder = \"agency/sm\";\r\n  agency.logo = \"/\" + folder + \"/\" + agency._id + \".\" + agency.logoFileExt;\r\n};\r\n\r\nconst average = (arr: Array<number>) =>\r\n  arr.reduce((p, c) => p + c, 0) / arr.length;\r\n\r\nconst calcRatings = (reviews?: IReview[]) => {\r\n  if (reviews === undefined) return 0;\r\n  if (reviews.length === 0) return 0;\r\n\r\n  const ratingsArray = reviews.map((review) => {\r\n    let rRatings = [];\r\n    if (review.agencyRating) rRatings.push(review.agencyRating);\r\n    if (review.workerRating) rRatings.push(review.workerRating);\r\n\r\n    return average(rRatings);\r\n  });\r\n\r\n  return average(ratingsArray);\r\n};\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport _ from \"lodash\";\r\n\r\nexport const AgenciesHourlyOnly = (agencies: IAgency[]): IAgency[] => {\r\n  let copy = _.cloneDeep(agencies);\r\n  let a = copy.map((agency) => {\r\n    agency.servicesSelectableWorkers = agency.servicesSelectableWorkers?.filter((service) => {\r\n      return service.isRentalHourly;\r\n    });\r\n    agency.tabsRental = agency.tabsRental?.filter((tab) => {\r\n      return tab.isRentedHourly;\r\n    });\r\n    return agency;\r\n  });\r\n\r\n  return RemoveBlankServices(a);\r\n};\r\n\r\nexport const AgenciesMonthlyOnly = (agencies: IAgency[]): IAgency[] => {\r\n  let copy = _.cloneDeep(agencies);\r\n  let a = copy.map((agency) => {\r\n    agency.servicesSelectableWorkers = agency.servicesSelectableWorkers?.filter(\r\n      (service) => {\r\n        return service.isRentalMonthly;\r\n      }\r\n    );\r\n    agency.tabsRental = agency.tabsRental?.filter((tab) => {\r\n      return tab.isRentedMonthly;\r\n    });\r\n\r\n    return agency;\r\n  });\r\n\r\n  return RemoveBlankServices(a);\r\n};\r\n\r\nconst RemoveBlankServices = (agencies: IAgency[]): IAgency[] => {\r\n  let a = agencies.filter((agency) => {\r\n    return agency.tabsRental !== undefined && agency.tabsRental.length > 0;\r\n  });\r\n\r\n  return a;\r\n};\r\n","\r\nexport const nationalities = [\r\n  \"Philippines\",\r\n  \"Indonesia\",\r\n  \"India\",\r\n  \"Sri Lanka\",\r\n  \"Ethiopia\",\r\n  \"Kenya\",\r\n  \"Ghana\",\r\n];\r\n","import axios from \"axios\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\nimport { IApiResBundle } from \"estreeh-common-library/src/interfaces/api/res/IApiResBundle\";\r\n\r\nexport const apiGetBundle = async () => {\r\n  console.log(\"Getting bundle\");\r\n  const r = await axios.get<IResponse<IApiResBundle>>(\r\n    process.env.REACT_APP_API_ROOT + \"/pub/bundle\",\r\n    { withCredentials: true }\r\n  );\r\n  return r.data.data;\r\n};\r\n","import axios, { AxiosResponse } from \"axios\";\r\nimport { IApiReqUpdateFavoritesTwoYear } from \"estreeh-common-library/src/interfaces/api/req/IApiReqUpdateFavoritesTwoYear\";\r\nimport { IResponse } from \"estreeh-common-library/src/interfaces/IResponse\";\r\n\r\nexport const apiPutFavTwoYear = async (workerIds: string[]) => {\r\n  console.log(`Updating user's favorites (${workerIds.length}) total`);\r\n  const r = await axios.put<\r\n    IApiReqUpdateFavoritesTwoYear,\r\n    AxiosResponse<IResponse>\r\n  >(\r\n    process.env.REACT_APP_API_ROOT + \"/customer/favorites/two-year\",\r\n    {\r\n      workerIds,\r\n    },\r\n    { withCredentials: true }\r\n  );\r\n  console.log(\"Favorite update completed\");\r\n  return r.data.data;\r\n};\r\n","export function arrayUnique(array: string[]) {\r\n  let a = array.concat();\r\n  for (let i = 0; i < a.length; ++i) {\r\n    for (let j = i + 1; j < a.length; ++j) {\r\n      if (a[i] === a[j]) a.splice(j--, 1);\r\n    }\r\n  }\r\n\r\n  return a;\r\n}\r\n","import { Action, action, debug, persist, Thunk, thunk } from \"easy-peasy\";\r\n\r\n// import { apiGetAgencies } from \"../api-calls/ApiGetAgencies\";\r\nimport { IFilterParameter } from \"estreeh-common-library/src/interfaces/IFilterParameter\";\r\nimport { removeFilterParameter } from \"../helpers/RemoveFilterParameter\";\r\nimport { FilterTwoYearWorkers } from \"../helpers/FilterTwoYearWorkers\";\r\nimport { removeAgencyWithoutTwoYearWorkers } from \"../helpers/RemoveAgencyWithoutTwoYearWorkers\";\r\nimport { AssignTwoYearWorkersToAgency } from \"../etl/AssignTwoYearWorkersToAgency\";\r\n// import { apiGetWorkersTwoYear } from \"../api-calls/ApiGetWorkersTwoYear\";\r\nimport { apiGetUser } from \"../api-calls/ApiGetUser\";\r\nimport { TransformTwoYearWorker } from \"../etl/TransformTwoYearWorker\";\r\nimport { TransformAgency } from \"../etl/TransformAgency\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  AgenciesHourlyOnly,\r\n  AgenciesMonthlyOnly,\r\n} from \"../etl/AgenciesLeasedFilters\";\r\nimport IWorkerRental from \"estreeh-common-library/src/interfaces/IWorkerRental\";\r\nimport { Base_ModelSingular } from \"estreeh-common-library/src/interfaces/store/Base_ModelSingular\";\r\nimport { IBasicFilterableModel } from \"estreeh-common-library/src/interfaces/store/IBasicFilterableModel\";\r\nimport { Base_Model } from \"estreeh-common-library/src/interfaces/store/Base_Model\";\r\nimport { nationalities } from \"./Nationalities\";\r\nimport { jobTitles } from \"./FilterOptions\";\r\nimport { IStoreModel } from \"../interfaces/IStoreModel\";\r\nimport { toast } from \"react-toastify\";\r\nimport { apiGetBundle } from \"../api-calls/ApiGetBundle\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { apiPutFavTwoYear } from \"../api-calls/ApiPutFavTwoYear\";\r\nimport { arrayUnique } from \"../helpers/ArrayUnique\";\r\nimport { IUser } from \"estreeh-common-library/src/interfaces/IUser\";\r\nimport { TranslationPack } from \"estreeh-common-library/src/types/TranslationPack\";\r\n\r\nconst makeStoreDefault = (): IStoreModel => {\r\n  return {\r\n    // selectedWorkerTwoYear: twoYear(),\r\n    // selectedSlots: slots(),\r\n    // selectedWorkerRental: hourly(),\r\n\r\n    agency: filterableModel(),\r\n    agencyTwoYear: filterableModel(),\r\n    agencyHourly: filterableModel(),\r\n    agencyMonthly: filterableModel(),\r\n    workerTwoYear: filterableModel(),\r\n    workerHourly: filterableModel(),\r\n    workerMonthly: filterableModel(),\r\n    // localFavTwoYear: persist(filterableModel()),\r\n\r\n    filterTwoYear: arrayModel(),\r\n    filterRental: arrayModel(),\r\n    selectedSlots: arrayModel(),\r\n    favTwoYear: persist(arrayModel(), {\r\n      storage: \"localStorage\",\r\n    }),\r\n    requests: arrayModel(),\r\n\r\n    user: singleModel(),\r\n    // selectedWorkerTwoYear: singleModel(),\r\n    selectedWorkerRental: singleModel(),\r\n    applicationForm: singleModel(),\r\n    translationPack: singleModel(),\r\n    config: singleModel(),\r\n    returnUrl: singleModel(),\r\n    dataLoading: singleModel(false),\r\n    dataLoaded: singleModel(false),\r\n    recent: {\r\n      request: singleModel(),\r\n      requestResponse: singleModel(),\r\n    },\r\n    filterOptions: {\r\n      jobTitle: arrayModel(),\r\n      nationality: arrayModel(),\r\n      localTransfer: arrayModel(),\r\n      educationalLevel: arrayModel(),\r\n      languageSkills: arrayModel(),\r\n      maritalStatus: arrayModel(),\r\n      processFees: singleModel(),\r\n      salary: singleModel(),\r\n      experience: singleModel(),\r\n      age: singleModel(),\r\n    },\r\n    addToFavTwoYear,\r\n    removeFromFavTwoYear,\r\n    transformData,\r\n    updateFiltersTwoYear,\r\n    syncFav,\r\n    clearFilters: thunk((actions) => {\r\n      actions.filterTwoYear.setItems({ payload: [] });\r\n      actions.filterRental.setItems({ payload: [] });\r\n      actions.initiateFilterStates();\r\n    }),\r\n    loadFromApi: thunk(async (actions, payload) => {\r\n      console.log(\"loadfromapiPayload\", payload);\r\n      actions.translationPack.setItem(payload);\r\n      actions.dataLoading.setItem(true);\r\n      console.log(\"Calling getBundle on Store!\");\r\n      const bundle = await apiGetBundle();\r\n      // const workers = await apiGetWorkersTwoYear();\r\n      actions.workerTwoYear.setItems({\r\n        setUnfiltered: true,\r\n        payload: bundle.workersTwoYear,\r\n      });\r\n      // const agencies = await apiGetAgencies();\r\n      actions.agency.setItems({\r\n        setUnfiltered: true,\r\n        payload: bundle.agencies,\r\n      });\r\n      // await actions.loadUser();\r\n      if (bundle.me !== undefined) {\r\n        // if (bundle.me.role === \"Customer\") {\r\n        actions.user.setItem(bundle.me);\r\n        actions.requests.setItems({ payload: bundle.requests });\r\n        // } else {\r\n        //   await apiGetLogout();\r\n        // }\r\n      }\r\n      actions.config.setItem(bundle.config);\r\n      actions.dataLoaded.setItem(true);\r\n      actions.transformData(payload);\r\n      await actions.syncFav();\r\n      actions.initiateFilterStates();\r\n    }),\r\n    loadUser: thunk(async (actions) => {\r\n      const user = await apiGetUser();\r\n      if (user !== undefined) {\r\n        actions.user.setItem(user);\r\n        toast.success(`Welcome, ${user.fullName}!`);\r\n        // console.log(\"Found user. Welcome, \" + user.fullName + \"!\");\r\n      }\r\n      return user;\r\n    }),\r\n    initiateFilterStates: initiateFilterStates,\r\n  };\r\n};\r\n\r\nconst singleModel = <T>(itemDefault?: T): Base_ModelSingular<T | any> => {\r\n  return {\r\n    item: itemDefault,\r\n    setItem: action((state: any, payload) => {\r\n      state.item = payload;\r\n    }),\r\n  };\r\n};\r\n\r\nconst arrayModel = <T>(): Base_Model<T> | any => {\r\n  return {\r\n    items: [],\r\n    setItems: action((state: any, payload) => {\r\n      state.items = payload.payload;\r\n    }),\r\n  };\r\n};\r\n\r\nconst filterableModel = <T>(): IBasicFilterableModel<T> | any => {\r\n  return {\r\n    items: [],\r\n    unfilteredItems: [],\r\n    setItems: action((state: any, payload) => {\r\n      state.items = payload.payload;\r\n      if (payload.setUnfiltered === true)\r\n        state.unfilteredItems = payload.payload;\r\n    }),\r\n  };\r\n};\r\n\r\nconst addToFavTwoYear: Thunk<IStoreModel, IWorkerTwoYear> = thunk(\r\n  (actions, payload, helpers) => {\r\n    const state = helpers.getState();\r\n    let favorites = state.favTwoYear.items.map((x) => x);\r\n    favorites.push(payload);\r\n    actions.favTwoYear.setItems({ payload: favorites });\r\n    putFavorites(\r\n      favorites.map((x) => x.id!),\r\n      state.user.item\r\n    );\r\n  }\r\n);\r\n\r\nconst removeFromFavTwoYear: Thunk<IStoreModel, IWorkerTwoYear> = thunk(\r\n  (actions, payload, helpers) => {\r\n    const state = helpers.getState();\r\n    let favorites = state.favTwoYear.items.filter((x) => x.id !== payload.id);\r\n    actions.favTwoYear.setItems({ payload: favorites });\r\n    putFavorites(\r\n      favorites.map((x) => x.id!),\r\n      state.user.item\r\n    );\r\n  }\r\n);\r\n\r\nconst putFavorites = (workerIds: string[], user?: IUser) => {\r\n  if (user !== undefined) {\r\n    apiPutFavTwoYear(workerIds).then((result) => {\r\n      // toast.success(\"Favorites updated successfully.\");\r\n    });\r\n  }\r\n};\r\n\r\nconst syncFav: Thunk<IStoreModel> = thunk(async (actions, payload, helpers) => {\r\n  const state = helpers.getState();\r\n  const localFavorites = state.favTwoYear.items;\r\n  const user = state.user.item;\r\n  let localIds = localFavorites.map((x) => {\r\n    if (x.id !== undefined) {\r\n      return x.id;\r\n    }\r\n    return \"noId\";\r\n  });\r\n\r\n  let allIds = localIds;\r\n\r\n  if (user !== undefined) {\r\n    const remoteIds = user.favoriteTwoYearIds;\r\n    allIds = arrayUnique([...remoteIds, ...localIds]);\r\n\r\n    if (!_.isEqual(remoteIds, allIds)) {\r\n      console.log(\"Favorites (local<->Remote) are not equal. Performing Sync.\");\r\n      putFavorites(allIds, state.user.item);\r\n      // await apiPutFavTwoYear(allIds);\r\n      toast.success(\"Favorites saved successfully to your account.\");\r\n    }\r\n  }\r\n\r\n  // Clean up favorites before setting the local variable\r\n\r\n  const workersTwoYear = state.workerTwoYear.items;\r\n  let cleanWorkers: IWorkerTwoYear[] = [];\r\n  let cleanIds = allIds.filter((x) => x !== null);\r\n\r\n  cleanIds.forEach((id) => {\r\n    let worker = workersTwoYear.find((x) => x.id === id);\r\n    if (worker !== undefined) {\r\n      cleanWorkers.push(worker);\r\n    }\r\n  });\r\n\r\n  actions.favTwoYear.setItems({\r\n    payload: cleanWorkers,\r\n  });\r\n});\r\n\r\nconst transformData: Action<IStoreModel, TranslationPack> = action(\r\n  (state, payload) => {\r\n    // const tPack = state.translationPack.item;\r\n    const tPack = payload;\r\n    if (tPack === undefined) {\r\n      console.log(\"Store: Transform data failed, no translation pack\");\r\n      return;\r\n    } else {\r\n      console.log(\"Transforming data...\");\r\n      const workersTwoYear = state.workerTwoYear.items.slice(0);\r\n      const agencies = state.agency.unfilteredItems.slice(0);\r\n\r\n      workersTwoYear.forEach((worker) => {\r\n        TransformTwoYearWorker(worker, tPack);\r\n      });\r\n\r\n      agencies.forEach((agency, i) => {\r\n        TransformAgency(agency, i, tPack, {\r\n          twoYear: workersTwoYear,\r\n        });\r\n      });\r\n\r\n      let workersRentalHour: IWorkerRental[] = [];\r\n      let workersRentalMonth: IWorkerRental[] = [];\r\n\r\n      let agenciesContract = _.orderBy(\r\n        agencies.filter((agency) => {\r\n          return agency.hasTwoYearWorkerServices;\r\n        }),\r\n        [\"rating\"],\r\n        [\"desc\"]\r\n      );\r\n\r\n      let agenciesLeased = _.orderBy(\r\n        agencies.filter((agency) => {\r\n          return agency.hasRentedServices;\r\n        }),\r\n        [\"rating\"],\r\n        [\"desc\"]\r\n      );\r\n\r\n      let agenciesHourly = AgenciesHourlyOnly(agenciesLeased);\r\n      let agenciesMonthly = AgenciesMonthlyOnly(agenciesLeased);\r\n\r\n      agenciesHourly.forEach((agency) => {\r\n        agency.servicesSelectableWorkers?.forEach((service) => {\r\n          workersRentalHour = workersRentalHour.concat(service.workersRental);\r\n        });\r\n      });\r\n\r\n      state.workerTwoYear.items = workersTwoYear;\r\n      state.workerTwoYear.unfilteredItems = workersTwoYear;\r\n      state.agencyTwoYear.items = agenciesContract;\r\n      state.agencyTwoYear.unfilteredItems = agenciesContract;\r\n      state.agencyHourly.items = agenciesHourly;\r\n      state.agencyHourly.unfilteredItems = agenciesHourly;\r\n      state.agencyMonthly.items = agenciesMonthly;\r\n      state.agencyMonthly.unfilteredItems = agenciesMonthly;\r\n      state.workerHourly.items = workersRentalHour;\r\n      state.workerHourly.unfilteredItems = workersRentalHour;\r\n      state.workerMonthly.items = workersRentalMonth;\r\n      state.workerMonthly.unfilteredItems = workersRentalMonth;\r\n\r\n      console.log(\"Store: Data transformed\");\r\n    }\r\n  }\r\n);\r\n\r\nconst updateFiltersTwoYear: Thunk<IStoreModel, IFilterParameter | undefined> =\r\n  thunk((actions, filterParameter, helpers) => {\r\n    const state = helpers.getState();\r\n    console.log(\"Attempting Update Filters Two Year Contracts\");\r\n\r\n    let prevFilters = state.filterTwoYear.items.slice(0);\r\n    let filters = prevFilters;\r\n    if (filterParameter !== undefined) {\r\n      filters = removeFilterParameter(prevFilters, filterParameter.key);\r\n      if (\r\n        (filterParameter.array !== undefined &&\r\n          filterParameter.array.length > 0) ||\r\n        filterParameter.gt !== undefined ||\r\n        filterParameter.lt !== undefined\r\n      )\r\n        filters.push(filterParameter);\r\n      state.filterTwoYear.items = filters;\r\n      console.log(\"New filters:\");\r\n      console.log(debug(filters));\r\n    }\r\n\r\n    const workersTwoYear = FilterTwoYearWorkers(\r\n      state.workerTwoYear.unfilteredItems,\r\n      filters\r\n    );\r\n\r\n    const agenciesTwoYear = state.agencyTwoYear.unfilteredItems.slice(0);\r\n\r\n    agenciesTwoYear.forEach((agency) => {\r\n      AssignTwoYearWorkersToAgency(agency, workersTwoYear);\r\n    });\r\n\r\n    if (filters.length > 0) removeAgencyWithoutTwoYearWorkers(agenciesTwoYear);\r\n\r\n    state.agencyTwoYear.items = agenciesTwoYear;\r\n    state.workerTwoYear.items = workersTwoYear;\r\n  });\r\n\r\nconst initiateFilterStates: Thunk<IStoreModel> = thunk((actions) => {\r\n  actions.filterOptions.nationality.setItems({\r\n    payload: nationalities.map((nationality) => ({\r\n      key: nationality,\r\n      value: false,\r\n    })),\r\n  });\r\n  actions.filterOptions.jobTitle.setItems({\r\n    payload: jobTitles.map((jobTitle) => ({\r\n      key: jobTitle,\r\n      value: false,\r\n    })),\r\n  });\r\n\r\n  actions.updateFiltersTwoYear();\r\n});\r\n\r\nexport const storeDefault: IStoreModel = makeStoreDefault();\r\n","import FormatCurrency from \"../helpers/FormatCurrency\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport { TranslationPack } from \"estreeh-common-library/src/types/TranslationPack\";\r\nimport { S3Folder } from \"estreeh-common-library/src/types/S3Folder\";\r\n\r\nexport function TransformTwoYearWorker(\r\n  worker: IWorkerTwoYear,\r\n  tPack: TranslationPack\r\n) {\r\n  let grandTotalYears = 0;\r\n  let currency = tPack.t(\"currency.bhd\");\r\n\r\n  if (worker.jobExperiences.length > 0) {\r\n    worker.jobExperiences.forEach((job) => {\r\n      job.toYear = job.fromYear + job.totalYears;\r\n      grandTotalYears += job.totalYears;\r\n    });\r\n    worker.experienceYears = grandTotalYears;\r\n  }\r\n  worker.monthlySalaryBhdFormatted =\r\n    currency + \" \" + FormatCurrency(worker.monthlySalary, 0) + \" / Month\";\r\n  worker.processFeesBhdFormatted =\r\n    currency + \" \" + FormatCurrency(worker.processFees, 0);\r\n\r\n  const folderSm: S3Folder = \"2y/sm\";\r\n  const folderLg: S3Folder = \"2y/lg\";\r\n  worker.smallPicture =\r\n    \"/\" + folderSm + \"/\" + worker._id + \".\" + worker.smallPictureFileExt;\r\n  worker.bigPicture =\r\n    \"/\" + folderLg + \"/\" + worker._id + \".\" + worker.bigPictureFileExt;\r\n\r\n  const minAge = Math.floor(worker.age / 5) * 5;\r\n  worker.ageApprox = `${minAge}-${minAge + 5}`;\r\n\r\n  // if (agency.nationalities) {\r\n  //   worker.nationality.title = Faker.random.arrayElement(\r\n  //     agency.nationalities\r\n  //   ).title;\r\n  // let demoId = getDemoId(worker.nationality.title);\r\n  // worker.smallPicture = getDemoPic(demoId, worker.nationality.title, \"Small\");\r\n  // worker.bigPicture = getDemoPic(demoId, worker.nationality.title, \"Full\");\r\n  // }\r\n}\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\n\r\n\r\nexport function MakeTabsRentalWorkers(agency: IAgency, index: number): number {\r\n  agency.tabs = [];\r\n  agency.tabsRental = [];\r\n  agency.servicesSelectableWorkers?.forEach((service) => {\r\n    if (service.isRentalHourly ||\r\n      service.isRentalMonthly ||\r\n      service.isRentalMonthlyStayOver) {\r\n      let feesText = service.feesText ? service.feesText : \"\";\r\n      let tab: IAgencyTab = {\r\n        index: index,\r\n        title: service.title,\r\n        feesText: feesText,\r\n        titleWithFees: service.title + \" \" + feesText,\r\n        isRented: true,\r\n        isRentedHourly: service.isRentalHourly,\r\n        isRentedMonthly: service.isRentalMonthly,\r\n        isTwoYearContract: false,\r\n        isServices: false,\r\n        workersRental: service.workersRental,\r\n        rentalService: service,\r\n        remarks: service.remarks,\r\n      };\r\n      index++;\r\n      agency.tabs.push(tab);\r\n      agency.tabsRental.push(tab);\r\n    }\r\n  });\r\n\r\n  return index;\r\n}\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\nimport IAgencyTab from \"estreeh-common-library/src/interfaces/IAgencyTab\";\r\n\r\n\r\nexport function MakeTabsServices(agency: IAgency, index: number): number {\r\n  let title = \"Packages\";\r\n\r\n  let tab: IAgencyTab = {\r\n    index: index,\r\n    title: title,\r\n    isRented: false,\r\n    isRentedHourly: false,\r\n    isRentedMonthly: false,\r\n    isServices: true,\r\n    isTwoYearContract: false,\r\n    feesText: \"\",\r\n    titleWithFees: title,\r\n    services: agency.services,\r\n  };\r\n  agency.tabs.push(tab);\r\n  agency.tabsServices.push(tab);\r\n  index++;\r\n\r\n  return index;\r\n}\r\n","import { IFilterParameter } from \"estreeh-common-library/src/interfaces/IFilterParameter\";\r\n\r\nexport const removeFilterParameter = (\r\n  arr: IFilterParameter[],\r\n  key: string\r\n): IFilterParameter[] => {\r\n  const index = arr.findIndex((filter) => {\r\n    if (filter.key === key) {\r\n      return true;\r\n    }\r\n    return false;\r\n  });\r\n  if (index > -1) {\r\n    arr.splice(index, 1);\r\n  }\r\n  return arr;\r\n};\r\n","import { IFilterParameter } from \"estreeh-common-library/src/interfaces/IFilterParameter\";\r\nimport IWorkerTwoYear from \"estreeh-common-library/src/interfaces/IWorkerTwoYear\";\r\nimport _ from \"lodash\";\r\n\r\nexport const FilterTwoYearWorkers = (\r\n  workers: IWorkerTwoYear[],\r\n  filterParameters: IFilterParameter[]\r\n) => {\r\n  if (filterParameters.length < 1) {\r\n    return workers;\r\n  }\r\n\r\n  let resultWorkers: IWorkerTwoYear[] = workers.map((w) => w);\r\n  filterParameters.forEach((filter) => {\r\n    resultWorkers = _.filter(resultWorkers, (worker) => {\r\n      const key = filter.key as keyof IWorkerTwoYear;\r\n      const value = worker[key];\r\n      if (\r\n        filter.array !== undefined &&\r\n        filter.lt === undefined &&\r\n        filter.gt === undefined\r\n      ) {\r\n        if (typeof value === \"string\") return filter.array.includes(value);\r\n      }\r\n\r\n      if (\r\n        filter.array === undefined &&\r\n        filter.gt !== undefined &&\r\n        filter.lt !== undefined\r\n      ) {\r\n        // const key = filter.key as keyof IWorkerTwoYear;\r\n        if (typeof value === \"number\")\r\n          return value >= filter.gt && value <= filter.lt;\r\n      }\r\n      return true;\r\n    });\r\n  });\r\n\r\n  return resultWorkers;\r\n};\r\n","import IAgency from \"estreeh-common-library/src/interfaces/IAgency\";\r\n\r\nexport const removeAgencyWithoutTwoYearWorkers = (\r\n  arr: IAgency[]\r\n): IAgency[] => {\r\n  let i = 0;\r\n  while (i < arr.length) {\r\n    const index = arr.findIndex(\r\n      (agency) =>\r\n        agency.workersTwoYear === undefined || agency.workersTwoYear.length < 1\r\n    );\r\n    if (index > -1) {\r\n      arr.splice(index, 1);\r\n    } else {\r\n      i++;\r\n    }\r\n  }\r\n\r\n  return arr;\r\n};\r\n","import { createStore } from \"easy-peasy\";\r\nimport { storeDefault } from \"../config/StoreDefault\";\r\n\r\nexport const store = createStore(storeDefault);\r\n","import { StoreProvider } from \"easy-peasy\";\r\nimport React from \"react\";\r\nimport MasterTheme from \"./components/layouts/MasterTheme\";\r\nimport { store } from \"./helpers/Store\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n// import logo from './logo.svg';\r\n// import './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <StoreProvider store={store}>\r\n        <div className=\"App\" id=\"app-root\" style={{ height: \"100%\" }}>\r\n          <MasterTheme useRtl={false} />\r\n        </div>\r\n      </StoreProvider>\r\n      <ToastContainer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './i18n';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}